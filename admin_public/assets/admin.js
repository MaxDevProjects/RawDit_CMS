(()=>{document.addEventListener("DOMContentLoaded",()=>{var Co;console.log("[admin] Atelier charg\xE9");let Cr=document.querySelector("[data-logout]");Cr&&Cr.addEventListener("click",async()=>{Cr.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(r){console.error("[admin] Impossible de se d\xE9connecter",r)}finally{window.location.href="/admin/index.html"}});let Cs=document.querySelector("[data-admin-sidebar]"),vt=document.querySelector("[data-admin-sidebar-overlay]"),lo=document.querySelectorAll("[data-admin-sidebar-toggle]"),Xo=document.querySelectorAll("[data-admin-sidebar-close]"),Er=document.body,Zs=!1,Ks=()=>{if(!Cs)return;if(window.matchMedia("(min-width: 1024px)").matches){Cs.classList.remove("hidden"),vt==null||vt.classList.add("hidden"),Er.classList.remove("overflow-hidden");return}Zs?(Cs.classList.remove("hidden"),vt==null||vt.classList.remove("hidden"),Er.classList.add("overflow-hidden")):(Cs.classList.add("hidden"),vt==null||vt.classList.add("hidden"),Er.classList.remove("overflow-hidden"))},en=()=>{Zs=!0,Ks()},qr=()=>{Zs=!1,Ks()};Cs&&lo.length>0&&(lo.forEach(r=>{r.addEventListener("click",en)}),Xo.forEach(r=>{r.addEventListener("click",qr)}),vt==null||vt.addEventListener("click",qr),window.addEventListener("resize",Ks),window.addEventListener("keydown",r=>{r.key==="Escape"&&Zs&&qr()}),Ks());let co="clower:currentSite",uo="clower:currentSiteName",oe={slug:null,name:""};(()=>{try{let r=window.localStorage.getItem(co);oe.slug=r?$t(Pe(r)):null,oe.name=window.localStorage.getItem(uo)||""}catch{oe.slug=null,oe.name=""}})();let Ar=document.querySelectorAll("[data-site-card]"),tn=document.querySelectorAll("[data-site-select]"),Es=document.querySelector("[data-current-site-name]"),mo=document.querySelector("[data-workspace-site-name]"),fo=document.querySelector("[data-workspace-back-name]"),It=document.querySelector("[data-workspace-back-modal]"),sn=document.querySelectorAll("[data-workspace-back]"),rn=document.querySelectorAll("[data-workspace-back-cancel]"),Tr=document.querySelector("[data-workspace-back-confirm]"),on=document.querySelectorAll("[data-workspace-tab]"),Ir=document.querySelector("[data-site-toast]"),po=document.querySelector("[data-site-toast-message]"),nn=document.querySelectorAll("[data-site-create]"),dt=document.querySelector("[data-site-modal]"),at=document.querySelector("[data-site-form]"),Xe=at==null?void 0:at.querySelector('input[name="siteName"]'),Fe=at==null?void 0:at.querySelector('input[name="siteSlug"]'),et=document.querySelector("[data-site-slug-error]"),tt=document.querySelector("[data-site-modal-error]"),an=document.querySelectorAll("[data-site-modal-cancel]"),ms=document.querySelector("[data-site-modal-submit]"),Z=vn(),_s=!1,$r=null,go='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',fs=[],ho=r=>Array.from(r.querySelectorAll(go)).filter(n=>!n.hasAttribute("disabled")&&!n.getAttribute("aria-hidden")),ln=r=>{if(!fs.length)return;let n=fs[fs.length-1],{modal:c,onClose:f}=n;if(r.key==="Escape"){r.preventDefault(),f==null||f();return}if(r.key!=="Tab")return;let p=ho(c);if(!p.length)return;let v=p[0],V=p[p.length-1];r.shiftKey?document.activeElement===v&&(r.preventDefault(),V.focus()):document.activeElement===V&&(r.preventDefault(),v.focus())};document.addEventListener("keydown",ln);let qs=(r,n)=>{if(!r)return;fs.push({modal:r,onClose:n,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let c=ho(r);window.setTimeout(()=>{var f,p;(p=(f=c[0]||r).focus)==null||p.call(f)},0)},As=r=>{var f,p;let n=fs.findIndex(v=>v.modal===r);if(n===-1)return;let[c]=fs.splice(n,1);(p=(f=c.trigger)==null?void 0:f.focus)==null||p.call(f)},le=document.querySelector("[data-mobile-panels-overlay]"),he=document.querySelector("[data-mobile-panels-layer]"),xt={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},_t=null;he!=null&&he.parentElement&&(_t=document.createComment("mobile-panels-layer-placeholder"),he.parentElement.insertBefore(_t,he));let Yt=null;(Co=xt.right)!=null&&Co.parentElement&&(Yt=document.createComment("mobile-panel-right-placeholder"),xt.right.parentElement.insertBefore(Yt,xt.right));let bo=document.querySelectorAll("[data-mobile-panel-toggle]"),cn=document.querySelectorAll("[data-mobile-panel-close]"),Ts={left:null,right:null},Et=null,Qt=()=>window.matchMedia("(min-width: 1024px)").matches,dn=()=>{if(!(!he||!_t)){if(Qt()){let r=_t.parentElement;if(!r)return;(he.parentElement!==r||_t.nextSibling!==he)&&r.insertBefore(he,_t.nextSibling),he.dataset.mobilePanelPlacement="sidebar";return}he.parentElement!==document.body&&(document.body.appendChild(he),he.dataset.mobilePanelPlacement="overlay")}},un=()=>{let r=xt.right;if(!(!r||!Yt)){if(Qt()){let n=Yt.parentElement;if(!n)return;(r.parentElement!==n||Yt.nextSibling!==r)&&n.insertBefore(r,Yt.nextSibling),r.dataset.mobilePanelPlacement="sidebar";return}if(he){let n=xt.left;n&&n.parentElement===he?(r.parentElement!==he||r.previousSibling!==n)&&he.insertBefore(r,n.nextSibling):r.parentElement!==he&&he.appendChild(r),r.dataset.mobilePanelPlacement="overlay"}else r.parentElement!==document.body&&(document.body.appendChild(r),r.dataset.mobilePanelPlacement="overlay")}},yo=()=>{dn(),un()};yo();let Ys={};Object.entries(xt).forEach(([r,n])=>{if(!n)return;let c=Number(window.getComputedStyle(n).zIndex)||0;Ys[r]=c});let mn=(Object.values(Ys).reduce((r,n)=>Math.max(r,n||0),0)||150)+5,Qs=(r,n)=>{let c=xt[r];if(c){if(Qt()){c.style.removeProperty("z-index");return}n?c.style.zIndex=String(mn):Ys[r]?c.style.zIndex=String(Ys[r]):c.style.removeProperty("z-index")}},Ht=(r,n,c)=>{!r||!n||n.split(" ").map(f=>f.trim()).filter(Boolean).forEach(f=>r.classList[c](f))},Br=(r,n)=>{if(!r)return;let c=r.dataset.mobilePanelHidden||"",f=r.dataset.mobilePanelVisible||"translate-x-0";n?(Ht(r,f,"remove"),Ht(r,c,"add"),r.classList.add("pointer-events-none"),r.classList.remove("pointer-events-auto"),r.setAttribute("aria-hidden","true"),r.dataset.mobilePanelOpen="false"):(Ht(r,c,"remove"),Ht(r,f,"add"),r.classList.remove("pointer-events-none"),r.classList.add("pointer-events-auto"),r.setAttribute("aria-hidden","false"),r.dataset.mobilePanelOpen="true")},Is=(r=Et)=>{var f;if(!r||Qt())return;let n=xt[r];if(!n)return;Qs(r,!1),Br(n,!0);let c=Ts[r];c&&c.setAttribute("aria-expanded","false"),Ts[r]=null,Et===r&&(le==null||le.classList.add("hidden"),le==null||le.classList.remove("pointer-events-auto"),le==null||le.classList.add("pointer-events-none"),le==null||le.setAttribute("aria-hidden","true"),he==null||he.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(f=c==null?void 0:c.focus)==null||f.call(c),Et=null)},fn=(r,n)=>{if(!r||Qt())return;let c=xt[r];if(!c)return;Et&&Et!==r&&Is(Et),Br(c,!1),Qs(r,!0),Et=r,Ts[r]=n||null,n&&n.setAttribute("aria-expanded","true"),le==null||le.classList.remove("hidden","pointer-events-none"),le==null||le.classList.add("pointer-events-auto"),le==null||le.setAttribute("aria-hidden","false"),he==null||he.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let f=c.querySelector(go);window.setTimeout(()=>{var p;(p=f==null?void 0:f.focus)==null||p.call(f)},0)},vo=()=>{yo(),Qt()?(le==null||le.classList.add("hidden"),he==null||he.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),Et=null,Object.keys(xt).forEach(r=>{let n=xt[r];if(!n)return;Qs(r,!1),n.classList.remove("pointer-events-none"),n.classList.add("pointer-events-auto"),n.setAttribute("aria-hidden","false"),n.dataset.mobilePanelOpen="false";let c=Ts[r];c==null||c.setAttribute("aria-expanded","false"),Ts[r]=null})):(Object.entries(xt).forEach(([r,n])=>{n&&n.dataset.mobilePanelOpen!=="true"&&(Br(n,!0),Qs(r,!1))}),Et||(le==null||le.classList.add("hidden","pointer-events-none"),le==null||le.classList.remove("pointer-events-auto"),le==null||le.setAttribute("aria-hidden","true"),he==null||he.classList.add("pointer-events-none")))};bo.length>0&&(bo.forEach(r=>{let n=r.dataset.mobilePanelToggle;r.addEventListener("click",()=>{Et===n?Is(n):fn(n,r)})}),cn.forEach(r=>{let n=r.dataset.mobilePanelClose;r.addEventListener("click",()=>Is(n))}),le==null||le.addEventListener("click",()=>Is()),window.addEventListener("keydown",r=>{r.key==="Escape"&&Et&&!Qt()&&Is()}),window.addEventListener("resize",vo),vo());let M=r=>{!Ir||!po||(po.textContent=r,Ir.classList.remove("hidden"),$r&&clearTimeout($r),$r=setTimeout(()=>{Ir.classList.add("hidden")},2500))};function $t(r){if(!r)return"";let n=`${r}`.trim();if(!n)return"";let c=n.replace(/^\/+/,"");return c?`/${c}`:"/"}function Pe(r){return r?`${r}`.replace(/^\/+/,""):""}let Xs=(r,n)=>{let c=r?$t(r):null;try{c&&(window.localStorage.setItem(co,c),oe.slug=c),typeof n=="string"&&n.length>0&&(window.localStorage.setItem(uo,n),oe.name=n)}catch{oe.slug=c||oe.slug,oe.name=n||oe.name}},xo=r=>{Es&&r&&(Es.textContent=r),mo&&r&&(mo.textContent=r),fo&&r&&(fo.textContent=r)},Pr=r=>{on.forEach(n=>{let c=n.dataset.workspaceTab;if(!c)return;if(!r){n.href="#",n.classList.add("pointer-events-none","opacity-50","text-slate-400"),n.setAttribute("aria-disabled","true");return}let f=encodeURIComponent(Pe(r));n.href=`/admin/site/${f}/${c}`,n.classList.remove("pointer-events-none","opacity-50","text-slate-400"),n.removeAttribute("aria-disabled")})},er=(r,n={})=>{if(!r)return;let c=$t(r),f=n.siteName||oe.name||(Es==null?void 0:Es.dataset.defaultSiteName)||"";Ar.forEach(v=>{let H=$t(v.dataset.siteCard||"")===c,W=v.querySelector("[data-site-active-badge]");H?(v.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),v.classList.remove("border-slate-200"),W==null||W.classList.remove("hidden"),f=v.dataset.siteName||f):(v.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),v.classList.add("border-slate-200"),W==null||W.classList.add("hidden"))}),n.persist!==!1&&Xs(c,n.siteName||f);let p=n.siteName||f;xo(p),Pr(c)},pn=async(r,n)=>{let c=$t(r);try{let f=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:c})});if(!f.ok){let W=await f.json().catch(()=>({}));M(W.message||"Impossible de s\xE9lectionner ce site.");return}let p=await f.json().catch(()=>({})),v=$t(p.slug||c),V=p.name||n;Xs(v,V),er(v,{siteName:V,persist:!1});let H=encodeURIComponent(Pe(v));window.location.href=`/admin/site/${H}/design`}catch(f){console.error("[admin] Impossible de s\xE9lectionner le site",f),M("Erreur inattendue lors de la s\xE9lection.")}},gn=async()=>{try{let r=await fetch("/api/sites/current",{credentials:"same-origin"});if(!r.ok){r.status===404&&Z&&(window.location.href="/admin/sites");return}let n=await r.json(),c=$t(n.slug);Xs(c,n.name),er(c,{siteName:n.name,persist:!1})}catch(r){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",r)}};(()=>{if(oe.slug){er(oe.slug,{siteName:oe.name,persist:!1});return}let r=document.querySelector('[data-site-card][data-site-default="true"]')||Ar[0];r&&er(r.dataset.siteCard,{siteName:r.dataset.siteName||"",persist:!1})})(),gn(),Z?Pr(Z.slugValue):oe.slug&&Pr(oe.slug),tn.forEach(r=>{r.addEventListener("click",()=>{if(r.disabled)return;let n=r.dataset.siteSelect,c=r.dataset.siteSelectName||"Ce site";n&&(r.disabled=!0,pn(n,c).finally(()=>{r.disabled=!1}))})});let Xt=r=>(r||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),hn=r=>{let n=Xt(r||"");return n?`/${n}`:""},bn=()=>{dt&&(dt.classList.remove("hidden"),dt.classList.add("flex"),_s=!1,at==null||at.reset(),et&&(et.textContent=""),tt&&(tt.textContent=""),Fe&&Xe&&(Fe.value=Xt(Xe.value)),qs(dt,$s),window.setTimeout(()=>{Xe==null||Xe.focus()},0))},$s=()=>{dt&&(dt.classList.add("hidden"),dt.classList.remove("flex"),_s=!1,at==null||at.reset(),et&&(et.textContent=""),tt&&(tt.textContent=""),As(dt))};nn.forEach(r=>{r.addEventListener("click",bn)}),an.forEach(r=>{r.addEventListener("click",$s)}),dt==null||dt.addEventListener("click",r=>{r.target===dt&&$s()}),Xe==null||Xe.addEventListener("input",()=>{Fe&&((!_s||Fe.value.trim().length===0)&&(Fe.value=Xt(Xe.value)),et&&(et.textContent=""),tt&&(tt.textContent=""))}),Fe==null||Fe.addEventListener("focus",()=>{let r=(Fe==null?void 0:Fe.value)||"",n=(Xe==null?void 0:Xe.value)||"";!r.trim()&&n.trim()&&(Fe.value=Xt(n))}),Fe==null||Fe.addEventListener("input",()=>{_s=!0,et&&(et.textContent=""),tt&&(tt.textContent="")});let yn=()=>new Set(Array.from(Ar).map(r=>$t(r.dataset.siteCard||"")));at==null||at.addEventListener("submit",async r=>{if(r.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Xe,"siteSlugInput:",Fe),!Xe||!Fe){console.log("[admin] Missing inputs, aborting");return}let n=(Xe.value||"").trim(),c=(Fe.value||"").trim();console.log("[admin] nameValue:",n,"slugValue:",c),!c&&n&&(c=Xt(n),Fe.value=c,console.log("[admin] Auto-generated slug:",c));let f=hn(c);if(console.log("[admin] normalizedSlug:",f),!n){console.log("[admin] Name validation failed"),tt&&(tt.textContent="Le nom du site est requis."),Xe.focus();return}if(!f){console.log("[admin] Slug validation failed"),et&&(et.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Fe.focus();return}if(yn().has(f)){et&&(et.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}et&&(et.textContent=""),tt&&(tt.textContent=""),ms&&(ms.disabled=!0,ms.textContent="Cr\xE9ation...");try{let v=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,slug:f})});if(!v.ok){let _=await v.json().catch(()=>({})),S=_.message||"Impossible de cr\xE9er ce site.";tt&&(tt.textContent=S),_.field==="slug"&&et&&(et.textContent=S);return}let V=await v.json(),H=$t((V==null?void 0:V.slug)||f),W=(V==null?void 0:V.name)||n;Xs(H,W),$s();let se=encodeURIComponent(Pe(H));window.location.href=`/admin/site/${se}/design`}catch(v){console.error("[admin] Impossible de cr\xE9er le site",v),tt&&(tt.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{ms&&(ms.disabled=!1,ms.textContent="Cr\xE9er")}}),window.addEventListener("keydown",r=>{r.key==="Escape"&&(dt&&!dt.classList.contains("hidden")&&$s(),It&&!It.classList.contains("hidden")&&tr(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function vn(){let r=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return r?{slugPart:decodeURIComponent(r[1]),slugValue:$t(decodeURIComponent(r[1])),section:r[2]||"design"}:null}function xn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function wn(){if(!It){window.location.href="/admin/sites";return}It.classList.remove("hidden"),It.classList.add("flex"),qs(It,tr)}function tr(){It&&(It.classList.add("hidden"),It.classList.remove("flex"),As(It))}sn.forEach(r=>{r.addEventListener("click",wn)}),rn.forEach(r=>{r.addEventListener("click",tr)}),Tr==null||Tr.addEventListener("click",()=>{tr(),window.location.href="/admin/sites"});let es="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",Sn=r=>{if(!r||typeof r!="string")return null;let n=r.trim().toLowerCase();if(n==="transparent")return null;let c=n.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/);if(c)return[Math.min(255,Math.max(0,Number(c[1]))),Math.min(255,Math.max(0,Number(c[2]))),Math.min(255,Math.max(0,Number(c[3])))];let f=n.match(/^#([a-f0-9]{3}|[a-f0-9]{6})$/);if(f){let p=f[1],v=p.length===3?p.split("").map(se=>`${se}${se}`).join(""):p,V=parseInt(v.slice(0,2),16),H=parseInt(v.slice(2,4),16),W=parseInt(v.slice(4,6),16);return[V,H,W]}return null},jr=r=>{let n=Sn(r);if(!n)return"#0f172a";let[c,f,p]=n;return(.2126*c+.7152*f+.0722*p)/255>.62?"#0f172a":"#ffffff"},sr=r=>{r&&Array.from(r.options).forEach(n=>{var f;let c=(f=n.dataset)==null?void 0:f.color;if(c){if(c==="transparent"){n.style.background=es,n.style.color="#475569";return}n.style.background=c,n.style.color=jr(c)}})},Bs=(Z==null?void 0:Z.section)||xn();Bs==="design"&&Ln(),Bs==="content"&&kn(),Bs==="media"&&qn(),Bs==="deploy"&&Cn(),Bs==="settings"&&En(),Z&&oe.name&&xo(oe.name);function Ln(){let r=document.querySelectorAll("[data-page-list]");if(r.length===0)return;let n=document.querySelector("[data-active-page-title]"),c=document.querySelector("[data-active-page-slug]"),f=document.querySelector("[data-page-preview-tags]"),p=document.querySelector("[data-page-preview-frame]"),v=document.querySelector("[data-page-preview-frame-wrapper]"),V=document.querySelector("[data-page-preview-shell]"),H=document.querySelectorAll("[data-preview-view-button]"),W=document.querySelector("[data-page-preview-current-view]"),se=document.querySelector("[data-preview-open]"),_=document.querySelector("[data-preview-status]"),S=document.querySelector("[data-preview-highlight]"),T=document.querySelector("[data-seo-toggle]"),$=document.querySelector("[data-seo-panel]"),F=document.querySelector("[data-seo-close]"),P=document.querySelector("[data-seo-form]"),U=document.querySelector("[data-seo-title]"),k=document.querySelector("[data-seo-description]"),L=document.querySelector("[data-seo-indexed]"),w=document.querySelector("[data-seo-feedback]"),q=document.querySelector("[data-seo-save]"),E=document.querySelector("[data-page-accessibility-toggle]"),D=document.querySelector("[data-page-accessibility-panel]"),K=document.querySelector("[data-page-accessibility-close]"),te=document.querySelector("[data-page-accessibility-form]"),Q=document.querySelector("[data-page-accessibility-nav]"),ke=document.querySelector("[data-page-accessibility-main]"),Te=document.querySelector("[data-page-accessibility-feedback]"),Ge=document.querySelector("[data-page-accessibility-save]"),Ee=document.querySelector("[data-page-props-toggle]"),G=document.querySelector("[data-page-props-panel]"),Ie=document.querySelector("[data-page-props-close]"),$e=document.querySelector("[data-page-props-form]"),N=document.querySelector("[data-page-name]"),x=document.querySelector("[data-page-title-input]"),X=document.querySelector("[data-page-slug-input]"),J=document.querySelector("[data-page-description]"),g=document.querySelector("[data-page-props-feedback]"),R=document.querySelector("[data-page-props-save]"),I=document.querySelector("[data-blocks-list]"),re=document.querySelector("[data-blocks-empty]"),ce=document.querySelector("[data-block-count]"),ye=document.querySelector("[data-block-library-toggle]"),pe=document.querySelector("[data-block-library]"),Ce=document.querySelectorAll("[data-block-add]"),ge=document.querySelector("[data-block-delete-modal]"),Ne=document.querySelector("[data-block-delete-confirm]"),Ue=document.querySelector("[data-block-delete-cancel]"),xe=document.querySelector("[data-block-detail-empty]"),Me=document.querySelector("[data-block-detail-status]"),Re=document.querySelector("[data-block-editor]"),St=document.querySelector("[data-block-editor-block-name]"),y=document.querySelector("[data-block-editor-block-type]"),B=document.querySelector("[data-block-editor-unsupported]"),h=document.querySelector("[data-block-form]"),de=(e,t)=>{if(e){if(t==="transparent"){e.style.background=es,e.style.borderColor="#cbd5f5",e.style.boxShadow="";return}e.style.background=t,e.style.borderColor=t,e.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},Pt=(e,t)=>{if(!e||!t||Array.from(e.options).some(o=>o.value===t))return;let s=document.createElement("option");s.value=t,s.textContent="Couleur personnalis\xE9e",s.dataset.color=t,t==="transparent"?(s.style.background=es,s.style.color="#475569"):(s.style.background=t,s.style.color=jr(t)),e.appendChild(s),sr(e)},ts=e=>{var l,m,C;if(!e)return;let t=e.options[e.selectedIndex],s=((l=t==null?void 0:t.dataset)==null?void 0:l.color)||"#ffffff",o=(m=e.closest(".relative"))==null?void 0:m.querySelector("[data-color-preview]");o&&(s==="transparent"?o.style.background=es:o.style.background=s);let i=(C=e.closest(".relative"))==null?void 0:C.querySelector("[data-theme-color-chip]");de(i,s)},ar=h?Array.from(h.querySelectorAll("[data-theme-color-select]")):[],Ur=e=>{var s;return(((s=e==null?void 0:e.getAttribute)==null?void 0:s.call(e,"name"))||"").endsWith("-bg")},Ps=[{label:"Couleur primaire",value:"theme-primary",cssVar:"--color-primary"},{label:"Couleur secondaire",value:"theme-secondary",cssVar:"--color-secondary"},{label:"Couleur accent",value:"theme-accent",cssVar:"--color-accent"},{label:"Fond",value:"theme-background",cssVar:"--color-background"},{label:"Texte",value:"theme-text",cssVar:"--color-text"}],Eo=(e,t="#ffffff")=>{if(!e)return t;let s=getComputedStyle(document.documentElement).getPropertyValue(e);return s?s.trim():t},ir=e=>{e&&(e.innerHTML="",Ps.forEach(({label:t,value:s,cssVar:o})=>{let i=document.createElement("option");i.value=s;let l=Eo(o);i.textContent=t,i.dataset.color=l,l==="transparent"?(i.style.background=es,i.style.color="#475569"):(i.style.background=l,i.style.color=jr(l)),e.appendChild(i)}),e.value=Ps[0].value,e.removeAttribute("disabled"),Ur(e)&&sr(e),ts(e))},ut=()=>ar.forEach(ir);ut(),document.addEventListener("ai-theme-updated",ut);let jt=h?Array.from(h.querySelectorAll("[data-editor-section]")):[],ze=e=>!h||!(e!=null&&e.section)?null:h.querySelector(`[data-editor-section="${e.section}"]`),Oe=document.querySelectorAll("[data-block-tab]"),Je="content",mt=document.querySelectorAll("[data-left-tab]"),Wt=document.querySelector('[data-left-panel="blocks"]'),Ut=document.querySelector('[data-left-panel="pages"]'),js="blocks",Rr=e=>{js=e,mt.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),Wt&&Wt.classList.toggle("hidden",e!=="blocks"),Ut&&Ut.classList.toggle("hidden",e!=="pages")};mt.forEach(e=>{e.addEventListener("click",()=>{Rr(e.dataset.leftTab)})});let Gt=document.querySelector("[data-block-form-actions]"),ss=document.querySelector("[data-block-form-autosave]"),Rt=e=>{Je=e,Oe.forEach(s=>{let o=s.dataset.blockTab===e;s.setAttribute("aria-selected",o?"true":"false"),o?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=h==null?void 0:h.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(o=>{o.dataset.blockPanel===e?o.classList.remove("hidden"):o.classList.add("hidden")}),Gt&&ss&&(e==="content"?(Gt.classList.remove("hidden"),ss.classList.add("hidden")):(Gt.classList.add("hidden"),ss.classList.remove("hidden")))};Oe.forEach(e=>{e.addEventListener("click",()=>{Rt(e.dataset.blockTab)})});let We=h==null?void 0:h.querySelector('[name="collection-grid-collection"]'),zt=h==null?void 0:h.querySelector("[data-collection-selection-info]"),rs=document.querySelector("[data-block-form-cancel]"),Ms=h==null?void 0:h.querySelector("[data-group-preview-mobile]"),gt=h==null?void 0:h.querySelector("[data-group-preview-desktop]"),lr=h==null?void 0:h.querySelector("[data-collection-preview-mobile]"),gs=h==null?void 0:h.querySelector("[data-collection-preview-desktop]"),cr={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",ctaTextColor:"hero-cta-text-color",image:"hero-image",layout:"hero-layout",imageWidth:"hero-image-width",imageHeight:"hero-image-height",imageObjectFit:"hero-image-object-fit",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow",border:"hero-border"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow",border:"paragraph-border"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius",border:"image-border"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow",border:"group-border"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow",border:"collection-border"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow",border:"form-border"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow",border:"newsletter-border"}},card:{section:"card",labelField:"title",descriptionField:"description",fields:{title:"card-title",description:"card-description",image:"card-image",ctaText:"card-cta-text",ctaUrl:"card-cta-url",bg:"card-bg",borderRadius:"card-border-radius",shadow:"card-shadow",border:"card-border"}}},zr={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",card:"card",carte:"card",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},dr={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(cr).forEach(e=>{e.fields={...e.fields,...dr}});let ur=(e,t)=>{if(!Ms||!gt)return;let s=o=>Array.from({length:Number(o)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");Ms.innerHTML=s(e),gt.innerHTML=s(t)},Fs=(e,t)=>{if(!lr||!gs)return;let s=o=>Array.from({length:Number(o)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");lr.innerHTML=s(e),gs.innerHTML=s(t)},Ns=async()=>{if(!kt)return[];let e=await fetch(kt,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Vr=async({name:e,title:t,slug:s})=>{if(!kt)throw new Error("Site inconnu.");let o=await fetch(kt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!o.ok){let i=await o.json().catch(()=>({}));throw new Error(i.message||"Impossible de cr\xE9er la page.")}return o.json().catch(()=>({}))},os=async e=>{if(!(!kt||!(e!=null&&e.id)))try{let t=await fetch(`${kt}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let o=await t.json().catch(()=>({}));throw new Error(o.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let o=ds(s);return fe=fe.map(i=>i.id===o.id?o:i),(u==null?void 0:u.id)===o.id&&(u=o),o}return s}catch(t){console.error("[design] Save page failed",t),M(t.message||"Sauvegarde impossible.")}},Or=async()=>{if(!kt){fe=[],He=null,u=null,Kt(fe,He),Ct(null),xe==null||xe.classList.remove("hidden"),Re==null||Re.classList.add("hidden");return}try{let e=await Ns();if(fe=(Array.isArray(e)?e:[]).map(t=>ds(t)),fe.length===0){He=null,u=null,Kt(fe,He),Ct(null),xe==null||xe.classList.remove("hidden"),Re==null||Re.classList.add("hidden"),p&&(p.srcdoc=d());return}He=Wn(fe),Tt(He)}catch(e){console.error("[design] Impossible de charger les pages",e),M("Impossible de charger les pages.")}},hs=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ns=e=>{if(!e)return null;let t=hs(e.type),s=zr[t]||t;return cr[s]||null},Ds=e=>{var i,l,m,C,z,ne,ae;if(!h||!Re)return;e&&!e.settings&&(e.settings={});let t=ns(e),s=ze(t)||h;if(St&&(St.textContent=(e==null?void 0:e.label)||"Bloc"),y&&(y.textContent=(e==null?void 0:e.type)||"Bloc"),!t){h.classList.add("hidden"),B==null||B.classList.remove("hidden"),h.dataset.blockId="";return}if(B==null||B.classList.add("hidden"),h.classList.remove("hidden"),h.reset(),h.dataset.blockId=e.id,jt.forEach(ve=>{ve.dataset.editorSection===t.section?ve.classList.remove("hidden"):ve.classList.add("hidden")}),Rt("content"),t.section==="collection"){let ve=e.collectionId||((i=e.settings)==null?void 0:i.collectionId)||"";Sr(ve)}if(Object.entries(t.fields).forEach(([ve,Le])=>{var nt,Be,be;let ie=s.querySelector(`[name="${Le}"]`);if(!ie)return;let A=(nt=e.settings)==null?void 0:nt[ve];if(ie.type==="checkbox")ie.checked=!!A;else if(ie.type==="number"){let Qe=(be=(Be=ie.dataset.default)!=null?Be:ie.defaultValue)!=null?be:"";ie.value=A!=null?A:Qe}else ie.tagName,ie.value=A!=null?A:""}),t.section==="group"){let ve=((l=h.querySelector('[name="group-columns-mobile"]'))==null?void 0:l.value)||"1",Le=((m=h.querySelector('[name="group-columns-desktop"]'))==null?void 0:m.value)||"3";ur(ve,Le)}if(t.section==="collection"){let ve=((C=h.querySelector('[name="collection-columns-mobile"]'))==null?void 0:C.value)||"1",Le=((z=h.querySelector('[name="collection-columns-desktop"]'))==null?void 0:z.value)||"3";Fs(ve,Le)}let o=(ne=t.fields)==null?void 0:ne.bg;if(o){let ve=s.querySelector(`[name="${o}"]`);Pt(ve,(ae=e.settings)==null?void 0:ae.bg)}h.querySelectorAll("[data-color-select]").forEach(ts)},as=e=>{if(!h||!e)return{};let t=ze(e)||h,s={};return Object.entries(e.fields).forEach(([o,i])=>{var m,C;let l=t.querySelector(`[name="${i}"]`);if(l)if(l.type==="checkbox")s[o]=l.checked;else if(l.type==="number"){let z=Number(l.value);s[o]=Number.isFinite(z)?z:0}else if(l.tagName==="SELECT"){let z=(C=(m=l.dataset.default)!=null?m:l.value)!=null?C:"";s[o]=l.value||z}else l.tagName==="TEXTAREA"?s[o]=l.value||"":l.type==="select-one"?s[o]=l.value:s[o]=l.value||""}),s},qt=e=>{if(_){if(!e){_.classList.add("hidden");return}_.classList.remove("hidden"),_.textContent=e}},a=e=>{if(!e)return null;let t=s=>{var o;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((o=s.settings)==null?void 0:o.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},d=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',b=(e,t)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>e(...o),t)}},j=async()=>{if(!u||!Ye)return;let e=ls(),t=ns(e);if(!e||!t)return;let s=as(t),{blocks:o,didUpdate:i,foundParentId:l}=Ro(u.blocks||[],e.id,C=>{let z={...C.settings||{},...s};return{...C,settings:z}},cs);if(!i)return;cs=l;let m={...u,blocks:o};u=m;try{let C=await os(m);if(C!=null&&C.id){let z=ds(C);u=z,fe=fe.map(ne=>ne.id===z.id?z:ne)}}catch(C){console.warn("[design] auto-save appearance failed",C)}},Y=(e,t)=>{!p||!p.contentWindow||p.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},ue=b(()=>{u&&O(u)},1500),me=(e,t)=>{Y(e,t),qt("Modification\u2026"),j().then(()=>{qt("Sauvegard\xE9"),setTimeout(()=>qt("\xC0 jour"),1500)}).catch(()=>qt("Erreur de sauvegarde")),ue()},O=e=>{if(!p||!e)return;let t=(Z==null?void 0:Z.slugValue)||oe.slug||"",s=fe.map(l=>({id:l.id,slug:l.slug,title:l.title,name:l.name,accessibility:l.accessibility})),o={page:a(e),site:{title:oe.name||"Site",slug:t,pages:s}};to=!1,qt("Actualisation\u2026"),p.srcdoc=d(),Js&&Js.abort();let i=new AbortController;Js=i,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o),signal:i.signal}).then(l=>{if(!l.ok)throw new Error("Preview error");return l.json()}).then(l=>{i.signal.aborted||(eo=l.html||"",p.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),p.srcdoc=eo||d(),qt("\xC0 jour"))}).catch(l=>{i.signal.aborted||(console.error("[preview] Impossible de rendre la page",l),qt("Erreur preview"),p.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Js===i&&(Js=null)})},we=e=>{var C;if(e.preventDefault(),!u||!Ye)return;let t=ls(),s=ns(t);if(!t||!s)return;let o=as(s);if(s.section==="image"){let z=(o.alt||"").trim();if(o.alt=z,!z){M("Ajoute un texte alternatif pour cette image.","error"),(C=h==null?void 0:h.querySelector('[name="image-alt"]'))==null||C.focus();return}}if(s.section==="collection"){if(!o.collectionId){M("S\xE9lectionnez une collection.");return}o.limit=Math.max(1,Number(o.limit)||1)}let{blocks:i,didUpdate:l,foundParentId:m}=Ro(u.blocks||[],t.id,z=>{let ne={...z.settings||{},...o},ae={...z,settings:ne};return s.labelField&&o[s.labelField]&&(ae.label=o[s.labelField]),s.descriptionField&&o[s.descriptionField]&&(ae.description=o[s.descriptionField]),s.section==="collection"&&(ae.collectionId=o.collectionId,ae.settings.collectionId=o.collectionId,ae.settings.limit=o.limit),ae},cs);l&&(cs=m,Ss(i),M("Bloc mis \xE0 jour"),Tt(u.id,{preserveBlock:!0}))},Se=document.querySelector("[data-page-drawer]"),ee=document.querySelector("[data-page-drawer-backdrop]"),je=document.querySelectorAll("[data-page-drawer-open]"),st=document.querySelectorAll("[data-page-drawer-close]"),qe=document.querySelector("[data-add-page-toggle]"),De=document.querySelector("[data-add-page-form]"),rt=document.querySelector("[data-add-page-name]"),At=document.querySelector("[data-add-page-title]"),ht=document.querySelector("[data-add-page-slug]"),bs=document.querySelector("[data-add-page-cancel]"),Ze=document.querySelector("[data-add-page-error]"),Vt=De==null?void 0:De.querySelector('[type="submit"]'),ys=document.querySelector("[data-import-pages-toggle]"),lt=document.querySelector("[data-import-modal]"),Hs=document.querySelectorAll("[data-import-modal-close]"),ct=document.querySelector("[data-import-dropzone]"),vs=document.querySelector("[data-import-file-input]"),xs=document.querySelector("[data-import-file-list]"),Us=document.querySelector("[data-import-file-names]"),Ke=document.querySelector("[data-import-results]"),_e=document.querySelector("[data-import-results-content]"),ot=document.querySelector("[data-import-submit]"),ws=document.querySelectorAll("[data-import-tab]"),Rs=document.querySelectorAll("[data-import-panel]"),Jr=document.querySelector("[data-copy-prompt]"),Wr=document.querySelector("[data-copy-template]"),qo=document.querySelector("[data-template-json]"),Ao=document.querySelector("[data-import-ai-prompt]"),bt=document.querySelector("[data-import-paste-json]"),Gr=document.querySelector("[data-format-json]"),Mt=document.querySelector("[data-import-paste-error]"),Ot=[],is="upload",Lt=document.querySelector("[data-delete-page-modal]"),To=document.querySelector("[data-delete-page-name]"),Zr=document.querySelector("[data-delete-page-cancel]"),Jt=document.querySelector("[data-delete-page-confirm]"),zs=null,zn=Pe((Z==null?void 0:Z.slugValue)||oe.slug||"default")||"default",Vn=(Z==null?void 0:Z.slugValue)||oe.slug||"",mr=Pe(Vn)||"",kt=mr?`/api/sites/${encodeURIComponent(mr)}/pages`:null,Io=mr?`/api/sites/${encodeURIComponent(mr)}/collections`:null,$o={active:`clower:activePage:${zn}`},Kr=(e,t,s,o,i,l=[],m={})=>{let C={id:e,label:t,type:s,status:o,description:i,props:l,settings:{...m}};return C.settings.collectionId&&(C.collectionId=C.settings.collectionId),C},On={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}},card:{type:"Card",label:"Carte",description:"Carte avec image, texte et lien.",status:"Brouillon",settings:{title:"Titre de la carte",description:"",image:"",ctaText:"D\xE9couvrir",ctaUrl:"#",bg:"bg-slate-50",borderRadius:"rounded-2xl",shadow:"shadow-sm",border:"border border-slate-100 theme-border-accent"}}},Jn=e=>{try{window.localStorage.setItem($o.active,e)}catch{}},Wn=e=>{var t;try{let s=window.localStorage.getItem($o.active);if(s&&e.some(o=>o.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Gn=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Bo=e=>{if(!e||e==="/")return"/";let t=Xt(e.replace(/^\//,""));return t?`/${t}`:"/"},_r=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Ia=(e,t)=>[Kr(_r(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),Kr(_r(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],Po=e=>{n&&(n.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),c&&(c.textContent=(e==null?void 0:e.slug)||"/")},Zn=e=>{if(!f)return;f.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let o=document.createElement("span");o.className="rounded-full bg-slate-100 px-3 py-1",o.textContent=s,f.appendChild(o)})},Kn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},fr=e=>{if(!(!xe||!Re)){if(!e){xe.classList.remove("hidden"),Re.classList.add("hidden"),B==null||B.classList.add("hidden"),h==null||h.classList.add("hidden"),Me==null||Me.classList.add("hidden");return}xe.classList.add("hidden"),Re.classList.remove("hidden"),Me&&(e.status?(Me.textContent=e.status,Me.className=`rounded-full px-3 py-1 text-xs font-semibold ${Kn(e.status)}`,Me.classList.remove("hidden")):Me.classList.add("hidden")),Ds(e)}},_n=()=>{let e=getComputedStyle(document.documentElement).getPropertyValue("--color-accent");return e?e.trim():"#9C6BFF"},Vs=e=>{if(!p)return;let t=p.contentDocument;if(!t)return;if(t.querySelectorAll("[data-preview-block]").forEach(o=>{o.dataset.previewBlock===e?(o.classList.add("preview-block-active"),to&&e&&o.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):o.classList.remove("preview-block-active")}),S){let o=_n();S.style.borderColor=e?o:"transparent",S.style.opacity=e?"0.5":"0"}},jo={desktop:{width:"100%",height:"640px",maxWidth:"",margin:"0"},mobile:{width:"375px",height:"780px",maxWidth:"375px",margin:"0 auto"}},Mo=e=>{let t=jo[e]?e:"desktop";H.forEach(o=>{let i=o.dataset.previewView===t;o.setAttribute("aria-pressed",i?"true":"false"),i?(o.classList.add("bg-slate-900","text-white"),o.classList.remove("bg-slate-200","text-slate-500")):(o.classList.remove("bg-slate-900","text-white"),o.classList.add("bg-slate-200","text-slate-500"))});let s=jo[t];p&&(p.style.width=s.width,p.style.height=s.height,p.style.maxWidth=s.maxWidth,p.style.margin=s.margin),v&&(v.style.width="100%",v.style.minHeight=s.height,v.style.maxWidth=s.maxWidth||"100%"),V&&(V.dataset.previewShellView=t),W&&(W.textContent=t==="mobile"?"Vue mobile":"Vue bureau")},Fo=(e,t=!1,s=null)=>{var io;let o=e.id===Ye,i=(e.type||"").toLowerCase(),l=i==="groupe"||i==="group"||i==="sections"||i==="grid",m=document.createElement("div");m.dataset.blockItem="true",m.dataset.blockId=e.id,s&&(m.dataset.parentBlockId=s),l&&(m.dataset.isGroup="true"),m.setAttribute("role","option"),m.setAttribute("aria-selected",o?"true":"false"),m.setAttribute("draggable","true"),m.tabIndex=0,m.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",o?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let C=document.createElement("span");C.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${o?"":"hidden"}`,m.appendChild(C);let z=document.createElement("div");z.className="flex flex-1 items-center gap-3";let ne=document.createElement("div");ne.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",ne.innerHTML="\u22EE\u22EE",ne.setAttribute("title","Glisser pour r\xE9ordonner"),z.appendChild(ne);let ae=document.createElement("div");ae.className="flex-1";let ve=document.createElement("div");ve.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Le=document.createElement("span");Le.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Le.textContent=e.type;let ie=document.createElement("span");if(ie.className="text-slate-400",ie.textContent=e.status,ve.appendChild(Le),l){let ft=(e.children||[]).length,us=document.createElement("span");us.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",us.textContent=`${ft} \xE9l\xE9ment${ft!==1?"s":""}`,ve.appendChild(us)}ve.appendChild(ie);let A=document.createElement("p");A.className="mt-1 text-sm font-semibold text-slate-900";let nt=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(A.textContent=nt,ae.appendChild(ve),ae.appendChild(A),i==="collectiongrid"&&e.collectionId){let ft=((io=Nt.find(Ca=>Ca.id===e.collectionId))==null?void 0:io.name)||e.collectionId,us=document.createElement("p");us.className="text-xs text-slate-400",us.textContent=`Collection : ${ft}`,ae.appendChild(us)}z.appendChild(ae),m.appendChild(z);let Be=document.createElement("div");Be.className="flex flex-col gap-1 text-xs text-slate-400";let be=document.createElement("div");be.className="flex items-center gap-1 lg:hidden";let Qe=document.createElement("button");Qe.type="button",Qe.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Qe.textContent="\u2191",Qe.addEventListener("click",ft=>{ft.stopPropagation(),s?Uo(s,e.id,-1):zo(e.id,-1)});let yt=document.createElement("button");yt.type="button",yt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",yt.textContent="\u2193",yt.addEventListener("click",ft=>{ft.stopPropagation(),s?Uo(s,e.id,1):zo(e.id,1)}),be.appendChild(Qe),be.appendChild(yt),Be.appendChild(be);let Ve=document.createElement("button");return Ve.type="button",Ve.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",Ve.innerHTML="\u{1F5D1}\uFE0F",Ve.addEventListener("click",ft=>{ft.stopPropagation(),s?ea(s,e.id):da(e.id)}),Be.appendChild(Ve),m.appendChild(Be),m.addEventListener("click",()=>{Ft(e.id,s)}),m.addEventListener("keydown",ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),Ft(e.id,s))}),{item:m,isGroup:l,block:e}},Yn=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let o=s.dataTransfer.getData("text/plain");o&&o!==e.id&&Xn(o,e.id)}),t.addEventListener("click",()=>{sa(e.id)}),t},Ct=e=>{if(!I)return;I.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(ce&&(ce.textContent=Gn(t.length)),t.length===0){I.classList.add("hidden"),re==null||re.classList.remove("hidden");return}I.classList.remove("hidden"),re==null||re.classList.add("hidden"),t.forEach(s=>{let{item:o,isGroup:i}=Fo(s,!1,null);if(I.appendChild(o),i){(s.children||[]).forEach(C=>{let{item:z}=Fo(C,!0,s.id);I.appendChild(z)});let m=Yn(s);I.appendChild(m)}})},Qn=e=>{if(!u||!e)return null;for(let t=0;t<u.blocks.length;t++){let s=u.blocks[t],o=((s==null?void 0:s.type)||"").toLowerCase();if(!(o==="groupe"||o==="group"||o==="sections"||o==="grid")||!Array.isArray(s.children))continue;let l=s.children.findIndex(m=>m.id===e);if(l!==-1)return{groupId:s.id,groupIndex:t,childIndex:l}}return null},No=e=>{if(!u||!e)return null;let t=u.blocks.findIndex(l=>l.id===e);if(t!==-1){let[l]=u.blocks.splice(t,1);return{block:l,from:{type:"root",index:t}}}let s=Qn(e);if(!s)return null;let o=u.blocks.find(l=>l.id===s.groupId);if(!o||!Array.isArray(o.children))return null;let[i]=o.children.splice(s.childIndex,1);return{block:i,from:{type:"group",groupId:s.groupId,index:s.childIndex}}},pr=(e,t)=>{if(!u||!e)return;let s=Math.min(Math.max(0,t!=null?t:u.blocks.length),u.blocks.length);u.blocks.splice(s,0,e)},gr=(e,t,s)=>{if(!u||!e||!t)return!1;let o=u.blocks.find(l=>l.id===t);if(!o)return!1;Array.isArray(o.children)||(o.children=[]);let i=Math.min(Math.max(0,s!=null?s:o.children.length),o.children.length);return o.children.splice(i,0,e),!0},Do=(e,t,s=1)=>typeof e!="number"||e<0?null:t==="before"?e:e+s,hr=(e=null,t=null,s=null)=>{Ct(u),savePageBlocks(),e&&Ft(e,t),s&&M(s)},Xn=(e,t)=>{var l,m,C;if(!u||!e||!t||e===t)return;let s=u.blocks.find(z=>z.id===t);if(!s)return;let o=No(e);if(!(o!=null&&o.block))return;let i=(o.block.type||"").toLowerCase();if(i==="groupe"||i==="group"){M("Impossible d'imbriquer des groupes","error"),((l=o.from)==null?void 0:l.type)==="root"?pr(o.block,o.from.index):((m=o.from)==null?void 0:m.type)==="group"&&gr(o.block,o.from.groupId,o.from.index);return}if(((C=o.from)==null?void 0:C.type)==="group"&&o.from.groupId===t){gr(o.block,o.from.groupId,o.from.index);return}Array.isArray(s.children)||(s.children=[]),s.children.push(o.block),hr(o.block.id,t,"Bloc ajout\xE9 au groupe")},ea=(e,t)=>{if(!u)return;let s=u.blocks.find(m=>m.id===e);if(!s||!s.children)return;let o=s.children.findIndex(m=>m.id===t);if(o===-1)return;let[i]=s.children.splice(o,1),l=u.blocks.findIndex(m=>m.id===e);u.blocks.splice(l+1,0,i),Ct(u),savePageBlocks(),M("Bloc sorti du groupe")},Yr=(e,t,s)=>{if(!u)return;let o=u.blocks.find(m=>m.id===e);if(!o||!Array.isArray(o.children))return;let i=o.children.findIndex(m=>m.id===t);if(i===-1)return;let[l]=o.children.splice(i,1);pr(l,s),hr(l.id,null,"Bloc sorti du groupe")},ta=(e,t,s,o)=>{if(!u)return;let i=u.blocks.find(ae=>ae.id===e);if(!i||!Array.isArray(i.children))return;let l=i.children.findIndex(ae=>ae.id===t),m=i.children.findIndex(ae=>ae.id===s);if(l===-1||m===-1||t===s)return;let[C]=i.children.splice(l,1),z=l<m?m-1:m,ne=o==="before"?z:z+1;i.children.splice(ne,0,C),hr(C.id,e,null)},Ho=(e,t,s,o)=>{var z,ne,ae,ve;if(!u||!e||!t)return;let i=No(e);if(!(i!=null&&i.block))return;let l=(i.block.type||"").toLowerCase();if(l==="groupe"||l==="group"){M("Impossible d'imbriquer des groupes","error"),((z=i.from)==null?void 0:z.type)==="root"?pr(i.block,i.from.index):((ne=i.from)==null?void 0:ne.type)==="group"&&gr(i.block,i.from.groupId,i.from.index);return}let m=u.blocks.find(Le=>Le.id===t);if(!m){((ae=i.from)==null?void 0:ae.type)==="root"?pr(i.block,i.from.index):((ve=i.from)==null?void 0:ve.type)==="group"&&gr(i.block,i.from.groupId,i.from.index);return}Array.isArray(m.children)||(m.children=[]);let C=m.children.length;if(s){let Le=m.children.findIndex(A=>A.id===s),ie=Do(Le,o,1);ie!==null&&(C=ie)}m.children.splice(C,0,i.block),hr(i.block.id,t,"Bloc ajout\xE9 au groupe")},Uo=(e,t,s)=>{if(!u)return;let o=u.blocks.find(C=>C.id===e);if(!o||!o.children)return;let i=o.children.findIndex(C=>C.id===t);if(i===-1)return;let l=i+s;if(l<0||l>=o.children.length)return;let[m]=o.children.splice(i,1);o.children.splice(l,0,m),Ct(u),savePageBlocks()},sa=e=>{Zt=e,openBlockPicker()},Zt=null,ra=e=>{!Lt||!e||(zs=e,To&&(To.textContent=e.title||e.id),Lt.classList.remove("hidden"),Lt.classList.add("flex"),qs(Lt,br))},br=()=>{Lt&&(Lt.classList.add("hidden"),Lt.classList.remove("flex"),zs=null,As(Lt))},oa=async()=>{if(!kt||!zs)return;let e=zs.id,t=zs.title||e;Jt&&(Jt.disabled=!0,Jt.textContent="Suppression...");try{let s=await fetch(`${kt}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),o=await s.json();if(!s.ok)throw new Error(o.message||"Erreur serveur");fe=fe.filter(i=>i.id!==e),He===e?fe.length>0?Tt(fe[0].id):(He=null,u=null,Kt(fe,null),Ct(null),xe==null||xe.classList.remove("hidden"),Re==null||Re.classList.add("hidden"),p&&(p.srcdoc=d())):Kt(fe,He),br(),M(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),M(s.message||"Erreur suppression")}finally{Jt&&(Jt.disabled=!1,Jt.textContent="Supprimer")}},Kt=(e,t)=>{r.forEach(s=>{s.innerHTML="",e.forEach(o=>{var ae;let i=document.createElement("li");i.className="flex items-center gap-1";let l=document.createElement("button");l.type="button",l.dataset.pageId=o.id,l.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===o.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===o.id?l.setAttribute("aria-current","page"):l.removeAttribute("aria-current");let m=o.name||o.title,z=((ae=o.accessibility)==null?void 0:ae.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";l.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${m}</span>
              <span class="text-xs text-slate-500">${o.slug}</span>
              ${z}
            </div>
          `,l.addEventListener("click",()=>{Tt(o.id),Qr()||Xr()}),i.appendChild(l);let ne=document.createElement("button");ne.type="button",ne.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",ne.title="Supprimer cette page",ne.setAttribute("aria-label",`Supprimer ${m}`),ne.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,ne.addEventListener("click",ve=>{ve.stopPropagation(),ra(o)}),i.appendChild(ne),s.appendChild(i)})})},ls=()=>{if(!u||!Array.isArray(u.blocks))return null;let e=u.blocks.find(t=>t.id===Ye);if(!e){for(let t of u.blocks)if(t.children&&(e=t.children.find(s=>s.id===Ye),e))break}return e||null},na=(e,t)=>{if(!e||!t)return!1;let s=o=>{for(let i of o||[])if(i&&(i.id===t||Array.isArray(i.children)&&s(i.children)))return!0;return!1};return s(e.blocks||[])},Ro=(e,t,s,o=null)=>{let i=!1,l=null,m=(z,ne=null)=>{let ae=!1;return{nodes:(z||[]).map(Le=>{if(!Le||!Le.id)return Le;if(Le.id===t&&(!o||o===ne))return i=!0,l=ne,ae=!0,s(Le);if(Array.isArray(Le.children)&&Le.children.length>0){let{nodes:ie,changed:A}=m(Le.children,Le.id);if(A)return ae=!0,{...Le,children:ie}}return Le}),changed:ae}};return{blocks:m(e,null).nodes,didUpdate:i,foundParentId:l}},cs=null,Ft=(e,t=null)=>{if(!u)return;if(!e){Ye=null,cs=null,Ct(u),fr(null),Vs(null);return}let s=null;if(s=u.blocks.find(o=>o.id===e),!s&&t){let o=u.blocks.find(i=>i.id===t);o&&o.children&&(s=o.children.find(i=>i.id===e))}if(!s){for(let o of u.blocks)if(o.children){let i=o.children.find(l=>l.id===e);if(i){s=i,t=o.id;break}}}s||(s=u.blocks[0]||null,t=null),Ye=(s==null?void 0:s.id)||null,cs=t,Ct(u),fr(s),Vs(Ye)},Ss=e=>{if(!u)return;let t={...u,blocks:e};ua(t)},yr=()=>window.matchMedia("(min-width: 1024px)").matches;function zo(e,t){if(!u||!e||!t)return;let s=[...u.blocks||[]],o=s.findIndex(m=>m.id===e);if(o<0)return;let i=o+t;if(i<0||i>=s.length)return;let[l]=s.splice(o,1);s.splice(i,0,l),Ss(s),Tt(u.id,{preserveBlock:!0}),Ft(l.id)}function $a(e,t){if(!u||!e||!t||e===t)return;let s=[...u.blocks||[]],o=s.findIndex(m=>m.id===e),i=s.findIndex(m=>m.id===t);if(o<0||i<0)return;let[l]=s.splice(o,1);s.splice(i,0,l),Ss(s),Tt(u.id,{preserveBlock:!0}),Ft(l.id)}function aa(e,t,s){if(!u||!e||!t||e===t)return;let o=[...u.blocks||[]],i=o.findIndex(z=>z.id===e),l=o.findIndex(z=>z.id===t);if(i<0||l<0)return;let[m]=o.splice(i,1);i<l&&l--;let C=s==="before"?l:l+1;o.splice(C,0,m),Ss(o),Tt(u.id,{preserveBlock:!0}),Ft(m.id)}function Vo(){if(!I)return;let e=yr();I.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Os(){pe&&(pe.classList.add("hidden"),Ls=!1,Zt=null)}function ia(){pe&&(pe.classList.remove("hidden"),Ls=!0)}function la(){Ls?Os():ia()}function ca(e){var l;if(!u||!e)return;let t=On[e];if(!t)return;let s=(u.blocks||[]).filter(m=>m.type===t.type).length+1,o=Kr(_r(u.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let m=((l=Nt[0])==null?void 0:l.id)||"";o.collectionId=m,o.settings.collectionId=m,o.settings.limit=o.settings.limit||6}if(Zt){let m=u.blocks.find(C=>C.id===Zt);if(m){m.children||(m.children=[]),m.children.push(o),Zt=null,Ct(u),savePageBlocks(),Ft(o.id,m.id),Os(),M("Bloc ajout\xE9 au groupe");return}Zt=null}let i=[...u.blocks||[],o];Ss(i),Tt(u.id,{preserveBlock:!0}),Ft(o.id),Os(),M("Bloc ajout\xE9")}function Oo(e){var o,i;if(!u)return;let t=(u.blocks||[]).filter(l=>l.id!==e),s=e===Ye?((o=t[0])==null?void 0:o.id)||null:Ye||((i=t[0])==null?void 0:i.id)||null;Ss(t),Ye=s,Tt(u.id,{preserveBlock:!0}),Ye?Ft(Ye):(fr(null),Vs(null)),M("Bloc supprim\xE9")}function vr(){ge&&(ge.classList.add("hidden"),ge.classList.remove("flex"),wr=null,As(ge))}function da(e){if(!ge){Oo(e);return}wr=e,ge.classList.remove("hidden"),ge.classList.add("flex"),qs(ge,vr)}let ua=e=>{if(!e)return;let t=ds(e);fe=fe.map(s=>s.id===t.id?t:s),u=t,os(t)},Tt=(e,t={})=>{var i,l;let s=fe.find(m=>m.id===e)||fe[0]||null;u=s?ds(s):null,He=(s==null?void 0:s.id)||null,(!t.preserveBlock||!u||!na(u,Ye))&&(Ye=((l=(i=u==null?void 0:u.blocks)==null?void 0:i[0])==null?void 0:l.id)||null,cs=null),He&&Jn(He),Kt(fe,He),Po(u),ao(),Zn(u),O(u),Ct(u),fr(ls()),Vs(Ye),Vo(),Ls&&Os()},Qr=()=>window.matchMedia("(min-width: 1024px)").matches,Jo=()=>{Se&&(Qr()?(Se.classList.add("is-open"),ee==null||ee.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Se.classList.remove("is-open"))},ma=()=>{!Se||Qr()||(Se.classList.add("is-open"),ee==null||ee.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Xr=()=>{Se&&(Se.classList.remove("is-open"),ee==null||ee.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},fa=()=>{!De||!qe||(De.classList.remove("hidden"),qe.classList.add("hidden"),Ze&&(Ze.textContent=""),xr=!1,rt&&(rt.value="",rt.focus()),At&&(At.value=""),ht&&(ht.value=""))},Wo=()=>{!De||!qe||(De.classList.add("hidden"),qe.classList.remove("hidden"),Ze&&(Ze.textContent=""),xr=!1,De.reset())},pa=()=>{!rt||!ht||xr&&ht.value.trim().length>0||(ht.value=Bo(rt.value))},fe=[],He=null,xr=!1,u=null,Ye=null,Ls=!1,wr=null,eo="",to=!1,Js=null,Nt=[],ga=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},ds=e=>{var t,s,o,i,l;return{...e,blocks:(e.blocks||[]).map(m=>ga(m)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim(),indexed:typeof((o=e.seo)==null?void 0:o.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((i=e.accessibility)==null?void 0:i.showInMainNav)!==!1,mainLabel:(((l=e.accessibility)==null?void 0:l.mainLabel)||"").trim()}}},ha=async()=>{if(!Io){Nt=[],Sr();return}try{let e=await fetch(Io,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Nt=Array.isArray(t)?t:[];let s=(We==null?void 0:We.value)||"";Sr(s)}catch(e){console.error("[design] collections load",e),M("Collections indisponibles."),Nt=[],Sr()}},so=e=>{if(!zt)return;if(!e){zt.textContent=Nt.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Nt.find(o=>o.id===e);if(!t){zt.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),zt.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},Sr=(e="")=>{if(We){if(We.innerHTML="",!Nt.length){We.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",We.appendChild(t),so("");return}if(We.disabled=!1,e&&!Nt.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,We.appendChild(t)}Nt.forEach(t=>{let s=document.createElement("option");s.value=t.id;let o=t.name||t.id;s.textContent=t.type?`${o} \xB7 ${t.type}`:o,s.dataset.description=t.description||"",We.appendChild(s)}),e&&(We.value=e),so(We.value||"")}};ha(),Jo(),je.forEach(e=>{e.addEventListener("click",ma)}),st.forEach(e=>{e.addEventListener("click",Xr)}),ee==null||ee.addEventListener("click",Xr),window.addEventListener("resize",()=>{Jo(),Vo()}),qe==null||qe.addEventListener("click",fa),bs==null||bs.addEventListener("click",Wo),rt==null||rt.addEventListener("input",pa),ht==null||ht.addEventListener("input",()=>{Ze&&(Ze.textContent=""),xr=!0}),De==null||De.addEventListener("submit",async e=>{if(e.preventDefault(),!kt){Ze&&(Ze.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!rt||!ht)return;let t=rt.value.trim(),s=(At==null?void 0:At.value.trim())||t,o=Bo(ht.value.trim()||t);if(!t||!o){Ze&&(Ze.textContent="Nom et slug sont requis.");return}Ze&&(Ze.textContent=""),Vt&&(Vt.disabled=!0,Vt.textContent="Cr\xE9ation...");try{let i=await Vr({name:t,title:s,slug:o});if(!i||!i.id)throw new Error("R\xE9ponse invalide.");fe=[...fe,ds(i)],Wo(),M("Page cr\xE9\xE9e"),Tt(i.id)}catch(i){console.error("[design] create page failed",i),Ze&&(Ze.textContent=i.message||"Impossible de cr\xE9er la page.")}finally{Vt&&(Vt.disabled=!1,Vt.textContent="Cr\xE9er")}});let ro=()=>{bt&&(bt.value=""),Mt&&(Mt.classList.add("hidden"),Mt.textContent="")},Go=()=>{if(!bt)return null;let e=bt.value.trim();if(!e)return Mt&&Mt.classList.add("hidden"),null;try{let t=JSON.parse(e);return Mt&&Mt.classList.add("hidden"),t}catch(t){return Mt&&(Mt.classList.remove("hidden"),Mt.textContent=`\u274C JSON invalide : ${t.message}`),null}},ba=()=>{if(!bt)return;let e=bt.value.trim();if(e)try{let t=JSON.parse(e);bt.value=JSON.stringify(t,null,2),Go()}catch{}},Ws=()=>{if(ot)if(is==="upload")ot.disabled=Ot.length===0;else if(is==="paste"){let e=Go();ot.disabled=!e}else ot.disabled=!0},ya=()=>{lt&&(lt.classList.remove("hidden"),lt.classList.add("flex"),Ot=[],is="upload",no(),ro(),Ke&&Ke.classList.add("hidden"),_e&&(_e.innerHTML=""),Ws(),ws.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Rs.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),qs(lt,oo))},oo=()=>{lt&&(lt.classList.add("hidden"),lt.classList.remove("flex"),Ot=[],ro(),As(lt))},no=()=>{if(!(!xs||!Us)){if(Ot.length===0){xs.classList.add("hidden"),Ws();return}xs.classList.remove("hidden"),Us.innerHTML=Ot.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Ws()}},Zo=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){M("Aucun fichier JSON valide.");return}Ot=t,no()},va=async()=>{var s,o,i,l,m,C,z,ne,ae,ve,Le;if(!kt)return;let e=[];if(console.log("[import] activeImportTab:",is),is==="paste"){let ie=(s=bt==null?void 0:bt.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",ie==null?void 0:ie.length),!ie){M("Aucun JSON \xE0 importer."),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let A=JSON.parse(ie);console.log("[import] parsed JSON:",A),console.log("[import] parsed type:",typeof A,Array.isArray(A)?"array":"not array"),A&&!Array.isArray(A)&&A.pages?(console.log("[import] detected pages+collections format"),e=A):Array.isArray(A)?e.push(...A):e.push(A),console.log("[import] pagesData prepared:",e)}catch(A){let nt=A.message.match(/position (\d+)/),Be=A.message;if(nt){let be=parseInt(nt[1],10),Qe=ie.substring(0,be).split(`
`),yt=Qe.length,Ve=Qe[Qe.length-1].length+1;Be=`Ligne ${yt}, colonne ${Ve}: ${A.message}`}M(`Erreur JSON : ${Be}`,"error"),console.error("[import] paste parse error",A),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Be}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(is==="upload"){if(Ot.length===0)return;let ie=[];for(let A of Ot){let nt=await A.text();try{let Be=JSON.parse(nt);Array.isArray(Be)?e.push(...Be):e.push(Be)}catch(Be){let be=Be.message.match(/position (\d+)/),Qe=Be.message;if(be){let yt=parseInt(be[1],10);Qe=`Ligne ${nt.substring(0,yt).split(`
`).length}: ${Be.message}`}ie.push({file:A.name,error:Qe}),console.error("[import] parse error",A.name,Be)}}if(ie.length>0){if(Ke&&_e){Ke.classList.remove("hidden");let A='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';ie.forEach(nt=>{A+=`<li><strong>${nt.file}</strong>: ${nt.error}</li>`}),A+="</ul></div>",e.length>0&&(A+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),_e.innerHTML=A}if(e.length===0){M("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((o=e.pages)==null?void 0:o.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){M("Aucune page valide \xE0 importer."),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}ot&&(ot.disabled=!0,ot.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let ie=await fetch(`${kt}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",ie.status);let A=await ie.json();if(console.log("[import] Server response body:",A),!ie.ok)throw Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${A.message||"Erreur inconnue"}</p>
                ${A.details?`<p class="text-xs mt-1 text-slate-500">${A.details}</p>`:""}
              </div>
            `),new Error(A.message||"Erreur serveur");if(Ke&&_e){Ke.classList.remove("hidden");let be="",Qe=((i=A.imported)==null?void 0:i.length)>0||((l=A.collectionsCreated)==null?void 0:l.length)>0,yt=((m=A.errors)==null?void 0:m.length)>0;Qe&&!yt?be+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':Qe&&yt?be+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':yt&&(be+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),A.collectionsCreated&&A.collectionsCreated.length>0&&(be+=`<p class="text-violet-700 mt-2">\u2713 ${A.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,be+='<ul class="ml-4 text-xs text-slate-600">',A.collectionsCreated.forEach(Ve=>{be+=`<li>${Ve.name} (${Ve.itemsCount} item${Ve.itemsCount>1?"s":""})</li>`}),be+="</ul>"),A.imported&&A.imported.length>0&&(be+=`<p class="text-green-700 mt-2">\u2713 ${A.imported.length} page(s) import\xE9e(s)</p>`,be+='<ul class="ml-4 text-xs text-slate-600">',A.imported.forEach(Ve=>{be+=`<li><strong>${Ve.title}</strong> \u2192 ${Ve.slug} (${Ve.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),be+="</ul>"),A.errors&&A.errors.length>0&&(be+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${A.errors.length} erreur(s)</p>`,be+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',A.errors.forEach(Ve=>{be+=`<li class="bg-rose-50 p-2 rounded"><strong>${Ve.title}</strong><br/><span class="text-rose-500">${Ve.error}</span></li>`}),be+="</ul>"),_e.innerHTML=be}let nt=((C=A.imported)==null?void 0:C.length)>0||((z=A.collectionsCreated)==null?void 0:z.length)>0,Be=((ne=A.errors)==null?void 0:ne.length)>0;if(A.imported&&A.imported.length>0&&(fe=await Ns(),Kt(fe,He),fe.length>0&&!He&&Tt(fe[0].id)),nt&&!Be){let be=(ae=A.collectionsCreated)!=null&&ae.length?` + ${A.collectionsCreated.length} collection(s)`:"";M(`\u2713 Import r\xE9ussi : ${((ve=A.imported)==null?void 0:ve.length)||0} page(s)${be}`,"success")}else nt&&Be?M(`\u26A0 Import partiel : ${((Le=A.imported)==null?void 0:Le.length)||0} page(s), ${A.errors.length} erreur(s)`,"warning"):Be&&M(`\u2717 Import \xE9chou\xE9 : ${A.errors.length} erreur(s)`,"error");Ot=[],no(),ro()}catch(ie){console.error("[import] failed",ie),M(ie.message||"Erreur import","error")}finally{ot&&(ot.disabled=!1,ot.textContent="Importer")}};ys==null||ys.addEventListener("click",ya),Hs.forEach(e=>e.addEventListener("click",oo)),lt==null||lt.addEventListener("click",e=>{e.target===lt&&oo()}),vs==null||vs.addEventListener("change",e=>{Zo(e.target.files)}),ct==null||ct.addEventListener("dragover",e=>{e.preventDefault(),ct.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ct==null||ct.addEventListener("dragleave",e=>{e.preventDefault(),ct.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ct==null||ct.addEventListener("drop",e=>{e.preventDefault(),ct.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),Zo(e.dataTransfer.files)}),ot==null||ot.addEventListener("click",va),bt==null||bt.addEventListener("input",()=>{Ws()}),Gr==null||Gr.addEventListener("click",ba),ws.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;is=t,ws.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),Rs.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Ws()})}),Wr==null||Wr.addEventListener("click",async()=>{if(!qo)return;let e=qo.textContent||"";try{await navigator.clipboard.writeText(e),M("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),M("Erreur copie")}}),Jr==null||Jr.addEventListener("click",async()=>{if(!Ao)return;let e=Ao.textContent||"";try{await navigator.clipboard.writeText(e),M("Prompt copi\xE9 !")}catch(t){console.error("[import] copy prompt failed",t),M("Erreur copie")}}),Zr==null||Zr.addEventListener("click",br),Jt==null||Jt.addEventListener("click",oa),Lt==null||Lt.addEventListener("click",e=>{e.target===Lt&&br()}),ye==null||ye.addEventListener("click",e=>{if(e.stopPropagation(),!Ls){let t=ls(),s=((t==null?void 0:t.type)||"").toLowerCase();s==="groupe"||s==="group"?Zt=t.id:Zt=null}la()}),document.addEventListener("click",e=>{Ls&&(pe!=null&&pe.contains(e.target)||ye!=null&&ye.contains(e.target)||Os())}),Ce.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;ca(s)})}),Ue==null||Ue.addEventListener("click",()=>{vr()}),Ne==null||Ne.addEventListener("click",()=>{wr&&Oo(wr),vr()}),ge==null||ge.addEventListener("click",e=>{e.target===ge&&vr()}),h==null||h.addEventListener("input",e=>{var o,i,l,m;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let C=((o=h.querySelector('[name="group-columns-mobile"]'))==null?void 0:o.value)||"1",z=((i=h.querySelector('[name="group-columns-desktop"]'))==null?void 0:i.value)||"3";ur(C,z)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let C=((l=h.querySelector('[name="collection-columns-mobile"]'))==null?void 0:l.value)||"1",z=((m=h.querySelector('[name="collection-columns-desktop"]'))==null?void 0:m.value)||"3";Fs(C,z)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let C=ls(),z=ns(C);if(C&&z){let ne=as(z);me(C.id,ne)}}}),h==null||h.addEventListener("change",e=>{var o,i;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let l=t.options[t.selectedIndex],m=((o=l==null?void 0:l.dataset)==null?void 0:o.color)||"#ffffff",C=(i=t.closest(".relative"))==null?void 0:i.querySelector("[data-color-preview]");C&&(m==="transparent"?C.style.background=es:C.style.background=m)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let l=ls(),m=ns(l);if(l&&m){let C=as(m);me(l.id,C)}}}),We==null||We.addEventListener("change",e=>{let t=e.target;so((t==null?void 0:t.value)||"")}),h==null||h.addEventListener("submit",we),rs==null||rs.addEventListener("click",e=>{e.preventDefault();let t=ls();t&&Ds(t)}),H.length>0&&(H.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.previewView||"desktop";Mo(t)})}),Mo("desktop")),p==null||p.addEventListener("load",()=>{var o;to=!0,qt("\xC0 jour"),Vs(Ye);let e=p==null?void 0:p.contentDocument;if(!e||!u||e.documentElement.dataset.rawditPreviewSelectBound==="true")return;if(e.documentElement.dataset.rawditPreviewSelectBound="true",!e.getElementById("rawdit-preview-select-style")){let i=e.createElement("style");i.id="rawdit-preview-select-style",i.textContent=`
	          [data-preview-block]{ cursor:pointer; }
	          [data-preview-block]:hover{ outline:2px solid var(--color-accent, #9C6BFF); outline-offset:2px; }
	        `,(o=e.head)==null||o.appendChild(i)}let t=i=>{let l=((i==null?void 0:i.type)||"").toLowerCase();return l==="groupe"||l==="group"||l==="sections"||l==="grid"},s=i=>{if(!u||!i||(u.blocks||[]).some(l=>l.id===i))return null;for(let l of u.blocks||[])if(!(!t(l)||!Array.isArray(l.children))&&l.children.some(m=>m.id===i))return l.id;return null};e.addEventListener("click",i=>{var ne,ae,ve;let l=i.target,m=(ne=l==null?void 0:l.closest)==null?void 0:ne.call(l,"[data-preview-block]"),C=((ae=m==null?void 0:m.getAttribute)==null?void 0:ae.call(m,"data-preview-block"))||"";if(!C)return;i.preventDefault(),i.stopPropagation(),(ve=i.stopImmediatePropagation)==null||ve.call(i);let z=s(C);Ft(C,z)},!0)}),se==null||se.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(eo||d()),t.close()});let Ko=e=>{var t,s,o;$&&(e?($.classList.remove("hidden"),u&&(U&&(U.value=((t=u.seo)==null?void 0:t.title)||""),k&&(k.value=((s=u.seo)==null?void 0:s.description)||""),L&&(L.checked=((o=u.seo)==null?void 0:o.indexed)!==!1))):$.classList.add("hidden"))},Lr=(e,t="muted")=>{if(!w)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";w.textContent=e||"",w.className=`text-sm ${s}`};T==null||T.addEventListener("click",()=>{let e=$&&!$.classList.contains("hidden");Ko(!e)}),F==null||F.addEventListener("click",()=>Ko(!1)),P==null||P.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){Lr("Aucune page active.","error");return}q&&(q.disabled=!0),Lr("");try{let s={title:((U==null?void 0:U.value)||"").trim(),description:((k==null?void 0:k.value)||"").trim(),indexed:(t=L==null?void 0:L.checked)!=null?t:!0},o={...u,seo:s},i=await os(o);i&&(u=i,Lr("SEO enregistr\xE9.","success"),M("SEO mis \xE0 jour"),O(u))}catch(s){console.error("[seo] save failed",s),Lr(s.message||"Erreur lors de la sauvegarde.","error")}finally{q&&(q.disabled=!1)}});let ao=()=>{var e,t;if(!(!Q&&!ke)){if(!u){Q&&(Q.checked=!0),ke&&(ke.value="");return}Q&&(Q.checked=((e=u.accessibility)==null?void 0:e.showInMainNav)!==!1),ke&&(ke.value=((t=u.accessibility)==null?void 0:t.mainLabel)||"")}},_o=e=>{D&&(e?(ao(),D.classList.remove("hidden")):D.classList.add("hidden"))},kr=(e,t="muted")=>{if(!Te)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";Te.textContent=e||"",Te.className=`text-sm ${s}`};E==null||E.addEventListener("click",()=>{let e=D&&!D.classList.contains("hidden");_o(!e)}),K==null||K.addEventListener("click",()=>_o(!1)),te==null||te.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!u){kr("Aucune page active.","error");return}Ge&&(Ge.disabled=!0),kr("");try{let s={showInMainNav:(t=Q==null?void 0:Q.checked)!=null?t:!0,mainLabel:((ke==null?void 0:ke.value)||"").trim()},o={...u,accessibility:s},i=await os(o);i&&(u=i,ao(),kr("Accessibilit\xE9 enregistr\xE9e.","success"),M("Accessibilit\xE9 mise \xE0 jour"),Kt(fe,He),O(u))}catch(s){console.error("[accessibility] save failed",s),kr(s.message||"Erreur lors de la sauvegarde.","error")}finally{Ge&&(Ge.disabled=!1)}});let Yo=e=>{G&&(e?(G.classList.remove("hidden"),u&&(N&&(N.value=u.name||""),x&&(x.value=u.title||""),X&&(X.value=u.slug||""),J&&(J.value=u.description||""))):G.classList.add("hidden"))},ks=(e,t="muted")=>{if(!g)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";g.textContent=e||"",g.className=`text-sm ${s}`};Ee==null||Ee.addEventListener("click",()=>{let e=G&&!G.classList.contains("hidden");Yo(!e)}),Ie==null||Ie.addEventListener("click",()=>Yo(!1)),$e==null||$e.addEventListener("submit",async e=>{if(e.preventDefault(),!u){ks("Aucune page active.","error");return}R&&(R.disabled=!0),ks("");try{let t=((N==null?void 0:N.value)||"").trim(),s=((x==null?void 0:x.value)||"").trim(),o=((X==null?void 0:X.value)||"").trim(),i=((J==null?void 0:J.value)||"").trim();if(!s){ks("Le titre est requis.","error"),R&&(R.disabled=!1);return}if(!o||!o.startsWith("/")){ks("Le slug doit commencer par /.","error"),R&&(R.disabled=!1);return}let l={...u,name:t||s,title:s,slug:o,description:i},m=await os(l);m&&(u=m,fe=fe.map(C=>C.id===m.id?m:C),ks("Propri\xE9t\xE9s enregistr\xE9es.","success"),M("Page mise \xE0 jour"),Po(u),Kt(fe,He),O(u))}catch(t){console.error("[page-props] save failed",t),ks(t.message||"Erreur lors de la sauvegarde.","error")}finally{R&&(R.disabled=!1)}});let xa=e=>{let t=e.target.closest("[data-block-item]");if(!t||!yr()){e.preventDefault();return}if(Dt=t.dataset.blockId||null,Gs=t.dataset.parentBlockId||null,!Dt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Dt),e.dataTransfer.setData("application/x-rawdit-parent",Gs||""),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},Qo=()=>{I==null||I.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},wa=()=>{Dt=null,Gs=null,Qo()},Sa=e=>{if(!Dt||!yr())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Dt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),o=s.top+s.height/2,i=e.clientY<o;I==null||I.querySelectorAll("[data-block-item]").forEach(l=>{l!==t&&l.dataset.blockId!==Dt&&l.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),i?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=i?"before":"after"},La=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},ka=e=>{if(!Dt||!yr())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Dt,o=Gs,i=(t==null?void 0:t.dataset.dropPosition)||"after";Dt=null,Gs=null,Qo();let l=(t==null?void 0:t.dataset.blockId)||null;if(!u||!s)return;if(!l){o&&Yr(o,s,u.blocks.length);return}if(s===l)return;let m=(t==null?void 0:t.dataset.parentBlockId)||null;if(o){if(m){if(m===o){ta(o,s,l,i);return}Ho(s,m,l,i);return}let C=u.blocks.findIndex(ne=>ne.id===l);if(C===-1){Yr(o,s,u.blocks.length);return}let z=Do(C,i,1);Yr(o,s,z!=null?z:u.blocks.length);return}if(m){Ho(s,m,l,i);return}aa(s,l,i)},Dt=null,Gs=null;I==null||I.addEventListener("dragstart",xa),I==null||I.addEventListener("dragend",wa),I==null||I.addEventListener("dragover",Sa),I==null||I.addEventListener("dragleave",La),I==null||I.addEventListener("drop",ka),Or(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await Ns();if(fe=(Array.isArray(s)?s:[]).map(o=>ds(o)),(t=e.detail)!=null&&t.pageId){let o=fe.find(i=>i.id===e.detail.pageId);o&&(u=o,He=o.id,O(u),Ct(u),M("Page mise \xE0 jour par l'IA"))}else if(He){let o=fe.find(i=>i.id===He);o&&(u=o,O(u),Ct(u))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function kn(){var Ds,as,qt;let r=document.querySelector("[data-collection-list]");if(!r)return;let n={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},c=document.querySelectorAll("[data-content-section]"),f=document.querySelectorAll("[data-content-section-trigger]"),p=document.querySelector("[data-header-status]"),v=document.querySelector("[data-footer-status]"),V=document.querySelector("[data-collection-count]"),H=document.querySelector("[data-item-panel]"),W=document.querySelectorAll("[data-item-panel-close]"),se=document.querySelector("[data-collection-empty]"),_=document.querySelector("[data-collection-items-empty]"),S=document.querySelector("[data-item-table-wrapper]"),T=document.querySelector("[data-item-table-body]"),$=document.querySelector("[data-collection-title]"),F=document.querySelector("[data-collection-description]"),P=document.querySelector("[data-item-add]"),U=document.querySelector("[data-item-detail-empty]"),k=document.querySelector("[data-item-form]"),L=k?{title:k.querySelector('[name="item-title"]'),slug:k.querySelector('[name="item-slug"]'),excerpt:k.querySelector('[name="item-excerpt"]'),content:k.querySelector('[name="item-content"]'),image:k.querySelector('[name="item-image"]'),ctaText:k.querySelector('[name="item-cta-text"]'),ctaUrl:k.querySelector('[name="item-cta-url"]'),status:k.querySelector('[name="item-status"]')}:{},w=document.querySelector("[data-item-status-badge]"),q=document.querySelector("[data-item-delete]"),E=document.querySelector("[data-item-delete-modal]"),D=document.querySelector("[data-item-delete-cancel]"),K=document.querySelector("[data-item-delete-confirm]"),te=document.querySelector("[data-item-cancel]"),Q=document.querySelector("[data-item-save]"),ke="rounded-full px-3 py-1 text-xs font-semibold",Te=()=>window.matchMedia("(min-width: 1024px)").matches,Ge=a=>{if(!H||Te())return;let d=H.dataset.itemPanelHidden||"",b=H.dataset.itemPanelVisible||"";a?(Ht(H,b,"remove"),Ht(H,d,"add"),H.classList.add("pointer-events-none"),H.dataset.itemPanelOpen="false"):(Ht(H,d,"remove"),Ht(H,b,"add"),H.classList.remove("pointer-events-none"),H.dataset.itemPanelOpen="true")},Ee=()=>{if(H){if(Te()){let a=H.dataset.itemPanelHidden||"";Ht(H,a,"remove"),H.classList.remove("pointer-events-none"),H.dataset.itemPanelOpen="true";return}k!=null&&k.classList.contains("hidden")?Ge(!0):Ge(!1)}};window.addEventListener("resize",Ee),W.forEach(a=>{a.addEventListener("click",d=>{d.preventDefault(),!Te()&&Rt()})}),Ee();let G={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),ctaTextColor:document.querySelector('[name="header-cta-text-color"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},Ie=document.querySelector("[data-header-nav-order-list]"),$e=document.querySelector("[data-header-save]"),N=document.querySelector("[data-template-header-nav-item]"),x=document.querySelector("[data-header-pages-list]"),X=[],J=[],g={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},R=document.querySelector("[data-footer-columns-list]"),I=document.querySelector("[data-footer-column-add]"),re=document.querySelector("[data-footer-save]"),ce=document.querySelector("[data-template-footer-column]"),ye=document.querySelector("[data-template-footer-link]"),pe=null,Ce={nav:[],logo:{},cta:{},style:{}},ge={columns:[],socials:{},copyright:"",legal:{},style:{}},Ne=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),Ue=Ne,xe=Ne?`/api/sites/${encodeURIComponent(Ne)}/layout`:null,Me=a=>{Object.entries(n).forEach(([d,b])=>{b&&b.classList.toggle("hidden",d!==a)}),c.forEach(d=>{d.dataset.contentSection===a?d.dataset.active="true":delete d.dataset.active}),pe=a};c.forEach(a=>{a.addEventListener("click",()=>{let d=a.dataset.contentSection;(d==="header"||d==="footer")&&Me(d)})}),f.forEach(a=>{a.addEventListener("click",()=>{let d=a.dataset.contentSectionTrigger;d&&Me(d)})});let Re=async()=>{if(!(!Ue||!x))try{let a=await fetch(`/api/sites/${Ue}/pages`,{credentials:"include"});if(!a.ok)throw new Error("Erreur chargement pages");X=await a.json(),B()}catch(a){console.error("[header] load pages error",a),x.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},St=a=>{let d=(a||"").toString().trim();if(!d||d==="/"||d==="index")return"/";let b=d.toLowerCase();if(d.startsWith("#")||b.startsWith("mailto:")||b.startsWith("tel:")||/^[a-z]+:\/\//i.test(d))return d;if(d.startsWith("//")){let Y=d.slice(2);if(Y.includes("."))return d;let ue=Y.replace(/^\/+/,"").replace(/\/+$/,"");return ue?`/${ue}`:"/"}let j=d.replace(/^\/+/,"").replace(/\/+$/,"");return j?`/${j}`:"/"},y=(a,d="")=>{let b=(a||"").toString().trim();return b?St(b):d},B=()=>{if(x){if(x.innerHTML="",X.length===0){x.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}X.forEach(a=>{let d=a.slug||a.id||"",b=a.name||a.title||d,j=St(d),Y=J.some(O=>O.url===j),ue=document.createElement("label");ue.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ue.innerHTML=`
          <input type="checkbox" name="nav-page" value="${j}" data-page-title="${b}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${Y?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${b}</span>
          <span class="text-xs text-slate-400">${j}</span>
        `;let me=ue.querySelector("input");me.addEventListener("change",()=>{if(me.checked){let O=J.findIndex(we=>we.url===j);O===-1?J.push({label:b,url:j}):J[O]={...J[O],label:b}}else J=J.filter(O=>O.url!==j);h()}),x.appendChild(ue)}),h()}},h=()=>{if(Ie){if(Ie.innerHTML="",!J||J.length===0){let a=document.createElement("p");a.className="text-xs text-slate-400 italic",a.textContent="Aucun lien de menu s\xE9lectionn\xE9.",Ie.appendChild(a);return}J.forEach((a,d)=>{let b=document.createElement("div");b.className="flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2",b.dataset.navUrl=a.url;let j=document.createElement("div");j.className="flex-1 min-w-0";let Y=document.createElement("p");Y.className="text-sm font-medium text-slate-800 truncate",Y.textContent=a.label||a.url;let ue=document.createElement("p");ue.className="text-[11px] text-slate-400 truncate",ue.textContent=a.url,j.appendChild(Y),j.appendChild(ue);let me=document.createElement("div");me.className="flex items-center gap-1";let O=document.createElement("button");O.type="button",O.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:hover:bg-transparent",O.textContent="\u2191",O.setAttribute("aria-label",`Monter ${a.label||a.url}`),O.disabled=d===0,O.addEventListener("click",()=>{if(d<=0)return;let ee=[...J],je=ee[d-1];ee[d-1]=ee[d],ee[d]=je,J=ee,h()});let we=document.createElement("button");we.type="button",we.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:hover:bg-transparent",we.textContent="\u2193",we.setAttribute("aria-label",`Descendre ${a.label||a.url}`),we.disabled=d===J.length-1,we.addEventListener("click",()=>{if(d>=J.length-1)return;let ee=[...J],je=ee[d+1];ee[d+1]=ee[d],ee[d]=je,J=ee,h()});let Se=document.createElement("button");Se.type="button",Se.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",Se.textContent="\u2715",Se.setAttribute("aria-label",`Retirer ${a.label||a.url}`),Se.addEventListener("click",()=>{J=J.filter(je=>je.url!==a.url);let ee=x==null?void 0:x.querySelector(`input[name="nav-page"][value="${CSS.escape(a.url)}"]`);ee&&(ee.checked=!1),h()}),me.appendChild(O),me.appendChild(we),me.appendChild(Se),b.appendChild(j),b.appendChild(me),Ie.appendChild(b)})}},de=()=>{var d,b,j,Y,ue,me,O,we,Se,ee,je,st;let a=(J||[]).map(qe=>({label:(qe.label||qe.url||"").toString().trim(),url:St(qe.url)})).filter(qe=>qe.url);return{logo:{src:((b=(d=G.logo)==null?void 0:d.value)==null?void 0:b.trim())||"",alt:((Y=(j=G.logoAlt)==null?void 0:j.value)==null?void 0:Y.trim())||"",url:y((ue=G.logoUrl)==null?void 0:ue.value,"/")},nav:a,cta:{text:((O=(me=G.ctaText)==null?void 0:me.value)==null?void 0:O.trim())||"",url:y((we=G.ctaUrl)==null?void 0:we.value,""),style:((Se=G.ctaStyle)==null?void 0:Se.value)||"primary",textColor:((ee=G.ctaTextColor)==null?void 0:ee.value)||""},style:{position:((je=G.position)==null?void 0:je.value)||"static",bg:((st=G.bg)==null?void 0:st.value)||"bg-white"}}},Pt=async a=>{var b,j,Y,ue,me,O,we,Se,ee,je,st,qe;if(!a)return;G.logo&&(G.logo.value=((b=a.logo)==null?void 0:b.src)||""),G.logoAlt&&(G.logoAlt.value=((j=a.logo)==null?void 0:j.alt)||""),G.logoUrl&&(G.logoUrl.value=y((Y=a.logo)==null?void 0:Y.url,"/")),G.ctaText&&(G.ctaText.value=((ue=a.cta)==null?void 0:ue.text)||""),G.ctaUrl&&(G.ctaUrl.value=y((me=a.cta)==null?void 0:me.url,"")),G.ctaStyle&&(G.ctaStyle.value=((O=a.cta)==null?void 0:O.style)||"primary"),G.ctaTextColor&&(G.ctaTextColor.value=((we=a.cta)==null?void 0:we.textColor)||""),G.position&&(G.position.value=((Se=a.style)==null?void 0:Se.position)||"static"),G.bg&&(G.bg.value=((ee=a.style)==null?void 0:ee.bg)||"bg-white"),J=(a.nav||[]).map(De=>({...De,url:St(De.url)})),await Re();let d=((je=a.logo)==null?void 0:je.src)||((st=a.nav)==null?void 0:st.length)>0||((qe=a.cta)==null?void 0:qe.text);p&&(p.classList.toggle("bg-green-500",!!d),p.classList.toggle("bg-slate-300",!d),p.title=d?"Configur\xE9":"Non configur\xE9")};$e==null||$e.addEventListener("click",async()=>{if(xe){$e.disabled=!0,$e.textContent="Enregistrement...";try{let a=de();if(!(await fetch(`${xe}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");Ce=a,Pt(a),M("Header enregistr\xE9")}catch(a){console.error("[header] save error",a),M("Erreur lors de l'enregistrement","error")}finally{$e.disabled=!1,$e.textContent="Enregistrer"}}});let ts=(a,d="",b="")=>{if(!ye||!a)return;let j=ye.content.cloneNode(!0),Y=j.querySelector("[data-footer-link]"),ue=j.querySelector('[name="link-label"]'),me=j.querySelector('[name="link-url"]'),O=j.querySelector("[data-link-remove]");ue&&(ue.value=d),me&&(me.value=b),O==null||O.addEventListener("click",()=>Y==null?void 0:Y.remove()),a.appendChild(j)},ar=(a="",d=[])=>{if(!ce||!R)return;let b=ce.content.cloneNode(!0),j=b.querySelector("[data-footer-column]"),Y=b.querySelector('[name="column-title"]'),ue=b.querySelector("[data-column-links]"),me=b.querySelector("[data-column-link-add]"),O=b.querySelector("[data-column-remove]");Y&&(Y.value=a),d.forEach(we=>ts(ue,we.label,we.url)),me==null||me.addEventListener("click",()=>ts(ue)),O==null||O.addEventListener("click",()=>j==null?void 0:j.remove()),R.appendChild(b)},Ur=()=>{var d,b,j,Y,ue,me,O,we,Se,ee,je,st,qe,De,rt,At,ht,bs,Ze,Vt;let a=[];return R==null||R.querySelectorAll("[data-footer-column]").forEach(ys=>{var ct,vs;let lt=((vs=(ct=ys.querySelector('[name="column-title"]'))==null?void 0:ct.value)==null?void 0:vs.trim())||"",Hs=[];ys.querySelectorAll("[data-footer-link]").forEach(xs=>{var _e,ot,ws,Rs;let Us=((ot=(_e=xs.querySelector('[name="link-label"]'))==null?void 0:_e.value)==null?void 0:ot.trim())||"",Ke=((Rs=(ws=xs.querySelector('[name="link-url"]'))==null?void 0:ws.value)==null?void 0:Rs.trim())||"";(Us||Ke)&&Hs.push({label:Us,url:Ke})}),(lt||Hs.length>0)&&a.push({title:lt,links:Hs})}),{columns:a,socials:{linkedin:((b=(d=g.linkedin)==null?void 0:d.value)==null?void 0:b.trim())||"",twitter:((Y=(j=g.twitter)==null?void 0:j.value)==null?void 0:Y.trim())||"",instagram:((me=(ue=g.instagram)==null?void 0:ue.value)==null?void 0:me.trim())||"",facebook:((we=(O=g.facebook)==null?void 0:O.value)==null?void 0:we.trim())||"",youtube:((ee=(Se=g.youtube)==null?void 0:Se.value)==null?void 0:ee.trim())||"",github:((st=(je=g.github)==null?void 0:je.value)==null?void 0:st.trim())||""},copyright:((De=(qe=g.copyright)==null?void 0:qe.value)==null?void 0:De.trim())||"",legal:{url:((At=(rt=g.legalUrl)==null?void 0:rt.value)==null?void 0:At.trim())||"",privacyUrl:((bs=(ht=g.privacyUrl)==null?void 0:ht.value)==null?void 0:bs.trim())||""},style:{bg:((Ze=g.bg)==null?void 0:Ze.value)||"bg-slate-900 text-white",columnsCount:((Vt=g.columnsCount)==null?void 0:Vt.value)||"4"}}},Ps=a=>{var b,j,Y,ue,me,O,we,Se,ee,je,st;if(!a)return;g.linkedin&&(g.linkedin.value=((b=a.socials)==null?void 0:b.linkedin)||""),g.twitter&&(g.twitter.value=((j=a.socials)==null?void 0:j.twitter)||""),g.instagram&&(g.instagram.value=((Y=a.socials)==null?void 0:Y.instagram)||""),g.facebook&&(g.facebook.value=((ue=a.socials)==null?void 0:ue.facebook)||""),g.youtube&&(g.youtube.value=((me=a.socials)==null?void 0:me.youtube)||""),g.github&&(g.github.value=((O=a.socials)==null?void 0:O.github)||""),g.copyright&&(g.copyright.value=a.copyright||""),g.legalUrl&&(g.legalUrl.value=((we=a.legal)==null?void 0:we.url)||""),g.privacyUrl&&(g.privacyUrl.value=((Se=a.legal)==null?void 0:Se.privacyUrl)||""),g.bg&&(g.bg.value=((ee=a.style)==null?void 0:ee.bg)||"bg-slate-900 text-white"),g.columnsCount&&(g.columnsCount.value=((je=a.style)==null?void 0:je.columnsCount)||"4"),R&&(R.innerHTML=""),(a.columns||[]).forEach(qe=>ar(qe.title,qe.links));let d=((st=a.columns)==null?void 0:st.length)>0||a.copyright||Object.values(a.socials||{}).some(qe=>qe);v&&(v.classList.toggle("bg-green-500",!!d),v.classList.toggle("bg-slate-300",!d),v.title=d?"Configur\xE9":"Non configur\xE9")};I==null||I.addEventListener("click",()=>ar()),re==null||re.addEventListener("click",async()=>{if(xe){re.disabled=!0,re.textContent="Enregistrement...";try{let a=Ur();if(!(await fetch(`${xe}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");ge=a,Ps(a),M("Footer enregistr\xE9")}catch(a){console.error("[footer] save error",a),M("Erreur lors de l'enregistrement","error")}finally{re.disabled=!1,re.textContent="Enregistrer"}}}),(async()=>{if(xe)try{let a=await fetch(xe,{credentials:"include"});if(a.ok){let d=await a.json();d.header&&(Ce=d.header,Pt(d.header)),d.footer&&(ge=d.footer,Ps(d.footer))}}catch(a){console.error("[layout] load error",a)}})();let ir=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),ut=ir?`/api/sites/${encodeURIComponent(ir)}/collections`:null,jt=[],ze=[],Oe=null,Je=null,mt=!1,Wt=!1,Ut=null,js=a=>{let d=(a||"").trim();if(!d)return"";if(d==="/")return"/";let j=d.replace(/^\//,"").split("/").map(Y=>Xt(Y||"")).filter(Y=>Y.length>0);return j.length?`/${j.join("/")}`:""},Rr=a=>{if(!a)return"\u2014";let d=new Date(a);return Number.isNaN(d.getTime())?"\u2014":d.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Gt=()=>{let a=jt.find(d=>d.id===Oe);$&&($.textContent=(a==null?void 0:a.name)||"S\xE9lectionnez une collection"),F&&(F.textContent=(a==null?void 0:a.description)||"")},ss=a=>{_&&(_.textContent=a||(Oe?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Rt=()=>{k&&(k.classList.add("hidden"),k.dataset.itemId=""),U==null||U.classList.remove("hidden"),w&&(w.className=`hidden ${ke}`,w.textContent=""),q&&(q.disabled=!0),Ee()},We=()=>{k&&(k.classList.remove("hidden"),U==null||U.classList.add("hidden"),Ee())},zt=()=>{P&&(P.disabled=!Oe,P.disabled?P.classList.add("opacity-60","pointer-events-none"):P.classList.remove("opacity-60","pointer-events-none"))},rs=a=>{if(!w)return;if(!a){w.className=`hidden ${ke}`,w.textContent="";return}let d=a.toLowerCase(),b="bg-slate-100 text-slate-600 border border-slate-200";d==="publi\xE9"||d==="publie"?b="bg-emerald-50 text-emerald-700 border border-emerald-100":d==="brouillon"&&(b="bg-amber-50 text-amber-700 border border-amber-100"),w.className=`${ke} ${b}`,w.textContent=a},Ms=()=>{if(r.innerHTML="",V&&(V.textContent=jt.length),!jt.length){se==null||se.classList.remove("hidden");return}se==null||se.classList.add("hidden"),jt.forEach(a=>{let d=a.id===Oe,b=document.createElement("button");b.type="button",b.dataset.collectionId=a.id,b.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",d?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),b.setAttribute("role","option"),d?b.setAttribute("aria-current","true"):b.removeAttribute("aria-current"),b.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${a.name||a.id}</p>
              <p class="text-xs text-slate-500">${a.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${a.type||""}</span>
          </div>
        `,b.addEventListener("click",()=>{Fs(a.id)}),r.appendChild(b)})},gt=()=>{if(T){if(T.innerHTML="",!ze.length||!Oe){_==null||_.classList.remove("hidden"),ss(),S==null||S.classList.add("hidden");return}_==null||_.classList.add("hidden"),S==null||S.classList.remove("hidden"),ze.forEach(a=>{let d=document.createElement("tr");d.dataset.itemId=a.id;let b=a.id===Je&&!mt;d.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",b?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),d.tabIndex=0,d.setAttribute("role","button"),b?d.setAttribute("aria-current","true"):d.removeAttribute("aria-current");let j=a.status||"Brouillon",Y=j.toLowerCase(),ue=Y==="publi\xE9"||Y==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";d.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${a.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${a.summary||a.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${a.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ue}">
              ${j}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Rr(a.updatedAt||a.createdAt)}</td>
        `;let me=()=>{lr(a.id)};d.addEventListener("click",me),d.addEventListener("keydown",O=>{(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),me())}),T.appendChild(d)})}},lr=a=>{let d=ze.find(b=>b.id===a);d&&(Je=d.id,mt=!1,Wt=!0,gs(d),gt())},gs=a=>{var d,b;if(!k||!a){Rt();return}We(),k.dataset.itemId=a.id,L.title&&(L.title.value=a.title||""),L.slug&&(L.slug.value=a.slug||""),L.excerpt&&(L.excerpt.value=a.summary||a.excerpt||""),L.content&&(L.content.value=a.content||""),L.image&&(L.image.value=a.image||""),L.ctaText&&(L.ctaText.value=((d=a.cta)==null?void 0:d.text)||a.ctaText||""),L.ctaUrl&&(L.ctaUrl.value=((b=a.cta)==null?void 0:b.url)||a.ctaUrl||""),L.status&&(L.status.value=a.status||"Brouillon"),rs(a.status||"Brouillon"),q&&(q.disabled=!1)},cr=()=>{var a;k&&(mt=!0,Je=null,Wt=!1,k.dataset.itemId="",k.reset(),L.status&&(L.status.value="Brouillon"),L.slug&&(L.slug.value=""),rs("Brouillon"),We(),q&&(q.disabled=!0),(a=L.title)==null||a.focus())},zr=()=>{var Se,ee,je,st,qe,De,rt,At;let a=(((Se=L.title)==null?void 0:Se.value)||"").trim(),d=(((ee=L.slug)==null?void 0:ee.value)||"").trim(),b=(((je=L.excerpt)==null?void 0:je.value)||"").trim(),j=(((st=L.content)==null?void 0:st.value)||"").trim(),Y=(((qe=L.image)==null?void 0:qe.value)||"").trim(),ue=(((De=L.ctaText)==null?void 0:De.value)||"").trim(),me=(((rt=L.ctaUrl)==null?void 0:rt.value)||"").trim(),O=((At=L.status)==null?void 0:At.value)||"Brouillon",we=ue||me?{text:ue,url:me}:null;return{title:a,slug:js(d||a),summary:b,excerpt:b,content:j,image:Y,status:O,...we&&{cta:we}}},dr=a=>{Q&&(Q.disabled=a,Q.textContent=a?"Enregistrement\u2026":"Enregistrer"),q&&!mt&&Je&&(q.disabled=a)},ur=async a=>{if(!ut)return[];let d=await fetch(`${ut}/${encodeURIComponent(a)}/items`,{headers:{Accept:"application/json"}});if(!d.ok){let j=await d.json().catch(()=>({}));throw new Error(j.message||"Impossible de charger les items.")}let b=await d.json().catch(()=>({}));return Array.isArray(b.items)?b.items:[]},Fs=async a=>{if(a&&(Oe=a,Je=null,mt=!1,Wt=!1,Me("collection"),Gt(),zt(),Ms(),Rt(),ze=[],gt(),ss("Chargement des items\u2026"),_==null||_.classList.remove("hidden"),S==null||S.classList.add("hidden"),!!ut))try{ze=await ur(a),gt(),ze.length||ss()}catch(d){console.error("[content] items failed",d),M(d.message||"Impossible de charger les items."),ze=[],gt()}},Ns=async(a,d)=>{if(!ut)throw new Error("Site inconnu.");let b=await fetch(`${ut}/${encodeURIComponent(a)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!b.ok){let j=await b.json().catch(()=>({}));throw new Error(j.message||"Impossible de cr\xE9er cet item.")}return b.json()},Vr=async(a,d,b)=>{if(!ut)throw new Error("Site inconnu.");let j=await fetch(`${ut}/${encodeURIComponent(a)}/items/${encodeURIComponent(d)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!j.ok){let Y=await j.json().catch(()=>({}));throw new Error(Y.message||"Impossible de sauvegarder cet item.")}return j.json()},os=async(a,d)=>{if(!ut)throw new Error("Site inconnu.");let b=await fetch(`${ut}/${encodeURIComponent(a)}/items/${encodeURIComponent(d)}`,{method:"DELETE"});if(!b.ok){let j=await b.json().catch(()=>({}));throw new Error(j.message||"Impossible de supprimer cet item.")}},Or=async()=>{var a;if(!ut){se==null||se.classList.remove("hidden"),Oe=null,ze=[],gt(),Gt(),zt();return}try{let d=await fetch(ut,{headers:{Accept:"application/json"}});if(!d.ok)throw new Error("Impossible de charger les collections.");let b=await d.json().catch(()=>[]);if(jt=Array.isArray(b)?b:[],Ms(),jt.length>0){let j=((a=jt.find(Y=>Y.id===Oe))==null?void 0:a.id)||jt[0].id;Fs(j)}else Oe=null,ze=[],Gt(),zt(),gt()}catch(d){console.error("[content] load collections",d),M(d.message||"Impossible de charger les collections.")}};P==null||P.addEventListener("click",()=>{if(!Oe){M("S\xE9lectionnez d\u2019abord une collection.");return}cr(),gt()}),te==null||te.addEventListener("click",a=>{if(a.preventDefault(),mt){mt=!1,Je=null,Rt(),gt();return}if(Je){let d=ze.find(b=>b.id===Je);gs(d)}else Rt()}),(Ds=L.status)==null||Ds.addEventListener("change",()=>{rs(L.status.value)}),(as=L.title)==null||as.addEventListener("input",()=>{!mt||!L.slug||Wt||(L.slug.value=js(L.title.value))}),(qt=L.slug)==null||qt.addEventListener("input",()=>{mt&&(Wt=!0)}),k==null||k.addEventListener("submit",async a=>{var b;if(a.preventDefault(),!Oe){M("S\xE9lectionnez une collection.");return}let d=zr();if(!d.title){M("Le titre est requis."),(b=L.title)==null||b.focus();return}dr(!0);try{let j;mt||!Je?(j=await Ns(Oe,d),ze=[...ze,j],M("Item cr\xE9\xE9")):(j=await Vr(Oe,Je,d),ze=ze.map(Y=>Y.id===j.id?j:Y),M("Item mis \xE0 jour")),mt=!1,Je=j.id,gs(j),gt()}catch(j){console.error("[content] save item failed",j),M(j.message||"Impossible de sauvegarder cet item.")}finally{dr(!1)}});let hs=()=>{E&&(E.classList.add("hidden"),E.classList.remove("flex"),Ut=null)},ns=()=>{!E||!Je||(Ut=Je,E.classList.remove("hidden"),E.classList.add("flex"))};q==null||q.addEventListener("click",a=>{a.preventDefault(),Je&&ns()}),D==null||D.addEventListener("click",()=>{hs()}),E==null||E.addEventListener("click",a=>{a.target===E&&hs()}),K==null||K.addEventListener("click",async()=>{if(!Ut||!Oe){hs();return}K.disabled=!0,K.textContent="Suppression\u2026";try{await os(Oe,Ut),ze=ze.filter(a=>a.id!==Ut),Je===Ut&&(Je=null,Rt()),M("Item supprim\xE9"),gt()}catch(a){console.error("[content] delete item failed",a),M(a.message||"Impossible de supprimer cet item.")}finally{K.disabled=!1,K.textContent="Supprimer",hs()}}),Gt(),zt(),Or()}function Cn(){let r=document.querySelector("[data-deploy-form]");if(!r)return;let n=document.querySelector("[data-deploy-protocol]"),c=document.querySelector("[data-deploy-host]"),f=document.querySelector("[data-deploy-port]"),p=document.querySelector("[data-deploy-user]"),v=document.querySelector("[data-deploy-password]"),V=document.querySelector("[data-deploy-show-password]"),H=document.querySelector("[data-deploy-remote-path]"),W=document.querySelector("[data-deploy-feedback]"),se=document.querySelector("[data-deploy-save]"),_=document.querySelector("[data-deploy-test]"),S=document.querySelector("[data-deploy-trigger]"),T=document.querySelector("[data-deploy-history]"),$=document.querySelector("[data-deploy-log]"),F=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),P=F?`/api/sites/${encodeURIComponent(F)}/deploy-config`:null,U=F?`/api/sites/${encodeURIComponent(F)}/deploy`:null,k=F?`/api/sites/${encodeURIComponent(F)}/deploy-log`:null,L=!1,w=null,q=N=>{let x=(N||"").trim();return x?x.startsWith("/")?x:`/${x}`:"/www"},E=(N,x="muted")=>{if(!W)return;let X="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",J=x==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":x==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!N){W.textContent="",W.className="text-sm text-slate-500";return}let g=x==="success"?"\u2705":x==="error"?"\u274C":"\u2139\uFE0F";W.innerHTML=`<span class="${X} ${J}">${g}<span>${N}</span></span>`,W.className="text-sm"},D=(N=null)=>{w=N;let x=!!N,X='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';se&&(se.disabled=x,se.innerHTML=N==="save"?`<span class="inline-flex items-center gap-2">${X}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),_&&(_.disabled=x,_.innerHTML=N==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),S&&(S.disabled=x&&N!==null,S.innerHTML=N==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},K=N=>{n&&(n.value=N.protocol||"sftp"),c&&(c.value=N.host||""),f&&(f.value=N.port||""),p&&(p.value=N.user||""),H&&(H.value=N.remotePath||"/www"),L=!!N.hasPassword,v&&(v.value="",v.placeholder=L?"Non affich\xE9":"Mot de passe")},te=(N=[])=>{if(T){if(T.innerHTML="",!N.length){let x=document.createElement("li");x.className="text-slate-500",x.textContent="Aucun d\xE9ploiement pour le moment.",T.appendChild(x);return}N.forEach(x=>{let X=document.createElement("li");X.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let J=x.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',g=x.finishedAt||x.startedAt||"",R=x.durationMs&&Number(x.durationMs)>=0?`${Math.round(Number(x.durationMs)/1e3)}s`:"";X.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${J}<span class="text-xs text-slate-500">${g}</span></div>
            <p class="text-sm text-slate-800">${x.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${R}</div>
        `,X.dataset.deployId=x.id||"",X.addEventListener("click",()=>{x.logs&&$&&($.textContent=x.logs.join(`
`))}),T.appendChild(X)})}},Q=(N=[])=>{$&&($.textContent=N.length?N.join(`
`):"Aucun log pour le moment.")},ke=async()=>{var N;if(k)try{let x=await fetch(k,{headers:{Accept:"application/json"}});if(!x.ok){if(x.status===404){te([]),Q(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let X=await x.json().catch(()=>({})),J=Array.isArray(X.entries)?X.entries:[];te(J),(N=J[0])!=null&&N.logs&&Q(J[0].logs)}catch(x){console.error("[deploy] history failed",x)}},Te=async()=>{if(!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}D("load");try{let N=await fetch(P,{headers:{Accept:"application/json"}}),x=await N.json().catch(()=>({}));N.ok?(K(x||{}),E("Configuration charg\xE9e.","muted")):(K(x||{}),E(x.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(N){console.error("[deploy] load failed",N),E(N.message||"Erreur lors du chargement.","error")}finally{D(null)}},Ge=()=>{let N={protocol:(n==null?void 0:n.value)||"sftp",host:(c==null?void 0:c.value.trim())||"",port:Number(f==null?void 0:f.value)||void 0,user:(p==null?void 0:p.value.trim())||"",remotePath:q((H==null?void 0:H.value)||"/www")},x=(v==null?void 0:v.value)||"";return x.trim().length>0&&(N.password=x),N};r.addEventListener("submit",async N=>{if(N.preventDefault(),!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}let x=Ge();D("save");try{let X=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!X.ok){let g=await X.json().catch(()=>({}));throw new Error(g.message||"Sauvegarde impossible.")}let J=await X.json();K(J||{}),E("Configuration enregistr\xE9e.","success"),M("Configuration d\xE9ploiement sauvegard\xE9e")}catch(X){console.error("[deploy] save failed",X),E(X.message||"Erreur lors de la sauvegarde.","error")}finally{D(null)}}),_==null||_.addEventListener("click",async()=>{if(!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}let N=Ge();if(!N.host||!N.user||!N.remotePath){E("Remplissez les champs requis avant de tester.","error");return}D("test");try{let x=await fetch(`${P}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),X=await x.json().catch(()=>({}));if(!x.ok||X.success===!1){E(X.message||"Test de connexion \xE9chou\xE9.","error");return}E(X.message||"Connexion OK.","success"),M("Test de connexion r\xE9ussi")}catch(x){console.error("[deploy] test failed",x),E(x.message||"Test de connexion \xE9chou\xE9.","error")}finally{D(null)}}),S==null||S.addEventListener("click",async()=>{if(!U){E("Aucun site actif s\xE9lectionn\xE9.","error");return}D("deploy"),Q(["D\xE9ploiement en cours\u2026"]);try{let N=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge())}),x=await N.json().catch(()=>({}));if(!N.ok){if(N.status===404){E("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),Q(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw Q(x.logs||[]),new Error(x.message||"D\xE9ploiement \xE9chou\xE9.")}Q(x.logs||[]),await ke(),M("D\xE9ploiement termin\xE9")}catch(N){console.error("[deploy] run failed",N),E(N.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{D(null)}}),V==null||V.addEventListener("change",()=>{v&&(v.type=V.checked?"text":"password")});let Ee=document.querySelector("[data-download-build]"),G=document.querySelector("[data-download-feedback]"),Ie=F?`/api/sites/${encodeURIComponent(F)}/download`:null,$e=(N,x="muted")=>{if(!G)return;let X=x==="success"?"text-emerald-600":x==="error"?"text-rose-600":"text-slate-500";G.textContent=N||"",G.className=`text-sm ${X}`};Ee==null||Ee.addEventListener("click",async()=>{if(!Ie){$e("Aucun site actif s\xE9lectionn\xE9.","error");return}Ee.disabled=!0;let N=Ee.innerHTML;Ee.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,$e("G\xE9n\xE9ration du build en cours...","muted");try{let x=await fetch(Ie);if(!x.ok){let R=await x.json().catch(()=>({}));throw new Error(R.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let X=await x.blob(),J=window.URL.createObjectURL(X),g=document.createElement("a");g.href=J,g.download=`${F}-build.zip`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(J),$e("T\xE9l\xE9chargement termin\xE9 !","success"),M("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(x){console.error("[download] failed",x),$e(x.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{Ee.disabled=!1,Ee.innerHTML=N}}),Te(),ke()}function En(){let r=document.querySelectorAll("[data-settings-tab]"),n=document.querySelectorAll("[data-settings-panel]"),c=document.querySelector("[data-admin-password-form]"),f=document.querySelector("[data-site-config-form]"),p=document.querySelector("[data-site-config-feedback]"),v=document.querySelector("[data-theme-form]"),V=S=>{r.forEach(T=>{let $=T.dataset.settingsTab===S;T.setAttribute("aria-selected",$?"true":"false"),T.classList.toggle("bg-[#9C6BFF]",$),T.classList.toggle("text-white",$)}),n.forEach(T=>{T.classList.toggle("hidden",T.dataset.settingsPanel!==S)})};if(r.forEach(S=>{S.addEventListener("click",()=>V(S.dataset.settingsTab||"account"))}),V("account"),c){let S=c.querySelector("[data-admin-password-feedback]"),T=c.querySelector("[data-admin-password-submit]"),$=(F,P="muted")=>{if(!S)return;let U=P==="success"?"text-emerald-600":P==="error"?"text-rose-600":"text-slate-500";S.textContent=F||"",S.className=`text-sm ${U}`};c.addEventListener("submit",async F=>{F.preventDefault();let P=new FormData(c),U=P.get("currentPassword")||"",k=P.get("newPassword")||"",L=P.get("confirmPassword")||"";if(!U||!k||!L){$("Compl\xE8te tous les champs.","error");return}T&&(T.disabled=!0),$("");try{let w=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:U,newPassword:k,confirmPassword:L})}),q=await w.json().catch(()=>({}));if(!w.ok||q.success===!1)throw new Error(q.message||"Impossible de mettre \xE0 jour le mot de passe.");$(q.message||"Mot de passe mis \xE0 jour.","success"),c.reset()}catch(w){console.error("[settings] change password failed",w),$(w.message||"Erreur lors de la mise \xE0 jour.","error")}finally{T&&(T.disabled=!1)}})}if(f){let S=f.querySelector("[data-site-name]"),T=f.querySelector("[data-site-language]"),$=f.querySelector("[data-site-tagline]"),F=f.querySelector("[data-site-save]"),P=(w,q="muted")=>{if(!p)return;let E=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";p.textContent=w||"",p.className=`text-sm ${E}`},U=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),k=U?`/api/sites/${encodeURIComponent(U)}/config/site`:null,L=async()=>{if(k)try{let w=await fetch(k,{headers:{Accept:"application/json"}});if(!w.ok)return;let q=await w.json().catch(()=>({}));S&&(S.value=q.name||""),T&&(T.value=q.language||"fr"),$&&($.value=q.tagline||"")}catch(w){console.error("[settings] load site config failed",w)}};f.addEventListener("submit",async w=>{if(w.preventDefault(),!k){P("Aucun site actif.","error");return}if(!(S!=null&&S.value.trim())){P("Nom requis.","error");return}F&&(F.disabled=!0),P("");try{let q={name:(S==null?void 0:S.value)||"",language:(T==null?void 0:T.value)||"fr",tagline:($==null?void 0:$.value)||""},E=await fetch(k,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),D=await E.json().catch(()=>({}));if(!E.ok||D.success===!1)throw new Error(D.message||"Sauvegarde impossible.");P(D.message||"Param\xE8tres enregistr\xE9s.","success")}catch(q){console.error("[settings] save site config failed",q),P(q.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),L()}if(v){let S=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),T=S?`/api/sites/${encodeURIComponent(S)}/config/theme`:null,$={primary:v.querySelector("[data-theme-primary]"),secondary:v.querySelector("[data-theme-secondary]"),accent:v.querySelector("[data-theme-accent]"),background:v.querySelector("[data-theme-background]"),text:v.querySelector("[data-theme-text]")},F=v.querySelector("[data-theme-headings]"),P=v.querySelector("[data-theme-body]"),U=v.querySelector("[data-theme-radius-small]"),k=v.querySelector("[data-theme-radius-medium]"),L=v.querySelector("[data-theme-radius-large]"),w=v.querySelector("[data-theme-preview]"),q=v.querySelector("[data-theme-feedback]"),E=v.querySelector("[data-theme-apply]"),D={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"},K=g=>{if(!g)return null;if(g==="white")return"#ffffff";if(g==="black")return"#000000";if(g==="transparent")return"transparent";let[R,I]=g.split("-");if(!R||!I)return null;let re=D[R];if(!re)return null;let ce=Number(I)||500,ye=Math.min(Math.max((ce-50)/900,0),1),pe=xe=>xe.replace("#","").match(/[A-Fa-f0-9]{2}/g).map(Me=>parseInt(Me,16)),[Ce,ge,Ne]=pe(re),Ue=xe=>Math.round(255-(255-xe)*ye);return`rgb(${Ue(Ce)}, ${Ue(ge)}, ${Ue(Ne)})`},te=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],Q=["50","100","200","300","400","500","600","700","800","900"],ke=te.flatMap(g=>Q.map(R=>`${g}-${R}`)),Te=[{value:"white",label:"Blanc",color:"#ffffff",emoji:"\u2B1C"},{value:"transparent",label:"Transparent",color:"transparent",emoji:"\u2B1C"},{value:"black",label:"Noir",color:"#000000",emoji:"\u2B1B"}],Ge=(()=>{let g=[];return Te.forEach(({value:R,label:I,color:re,emoji:ce})=>{g.push({value:R,label:`${ce} ${I}`,color:re})}),ke.forEach(R=>{let[I,re]=R.split("-"),ce=K(R)||"#ffffff";g.push({value:R,label:`${I.charAt(0).toUpperCase()+I.slice(1)} ${re}`,color:ce})}),g})(),Ee=g=>typeof g=="string"?g.trim().toLowerCase():"",G=(g={})=>{Object.entries($).forEach(([R,I])=>{var ce;if(!I)return;let re=Ee(g[R]);I.innerHTML="",Ge.forEach(({value:ye,label:pe,color:Ce})=>{let ge=document.createElement("option");ge.value=ye,ge.textContent=pe,ge.dataset.color=Ce,re&&re===ye&&(ge.selected=!0),I.appendChild(ge)}),I.dataset.default=I.dataset.default||((ce=I.options[0])==null?void 0:ce.value)||"",!re&&I.dataset.default&&(I.value=I.dataset.default),sr(I)})},Ie=(g,R="muted")=>{if(!q)return;let I=R==="success"?"text-emerald-600":R==="error"?"text-rose-600":"text-slate-500";q.textContent=g||"",q.className=`text-sm ${I}`},$e=()=>{var R,I,re,ce,ye;if(!w)return;let g=pe=>{if(!pe)return null;if(pe==="white")return"#ffffff";if(pe==="black")return"#000000";if(pe==="transparent")return"transparent";let[Ce,ge]=pe.split("-");if(!Ce||!ge)return null;let Ue={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[Ce];if(!Ue)return null;let xe=Number(ge)||500,Me=Math.min(Math.max((xe-50)/900,0),1),Re=de=>de.match(/[A-Fa-f0-9]{2}/g).map(Pt=>parseInt(Pt,16)),[St,y,B]=Re(Ue.replace("#","")),h=de=>Math.round(255-(255-de)*Me);return`rgb(${h(St)}, ${h(y)}, ${h(B)})`};w.style.setProperty("--color-primary",K((R=$.primary)==null?void 0:R.value)||"#9C6BFF"),w.style.setProperty("--color-secondary",K((I=$.secondary)==null?void 0:I.value)||"#0EA5E9"),w.style.setProperty("--color-accent",K((re=$.accent)==null?void 0:re.value)||"#F97316"),w.style.setProperty("--color-background",K((ce=$.background)==null?void 0:ce.value)||"#FFFFFF"),w.style.setProperty("--color-text",K((ye=$.text)==null?void 0:ye.value)||"#0F172A"),w.style.setProperty("--font-headings",(F==null?void 0:F.value)||"Inter, sans-serif"),w.style.setProperty("--font-body",(P==null?void 0:P.value)||"Inter, sans-serif"),w.style.setProperty("--radius-small",(U==null?void 0:U.value)||"8px"),w.style.setProperty("--radius-medium",(k==null?void 0:k.value)||"16px"),w.style.setProperty("--radius-large",(L==null?void 0:L.value)||"24px"),w.style.borderRadius=(k==null?void 0:k.value)||"16px"},N=(g,R)=>{if(g){if(R==="transparent"){g.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",g.style.borderColor="#cbd5f5",g.style.boxShadow="";return}g.style.background=R,g.style.borderColor=R,g.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},x=g=>{var ye,pe,Ce;if(!g)return;let R=g.options[g.selectedIndex],I=((ye=R==null?void 0:R.dataset)==null?void 0:ye.color)||"#ffffff",re=(pe=g.closest(".relative"))==null?void 0:pe.querySelector("[data-color-preview]");re&&(I==="transparent"?re.style.background=es:re.style.background=I);let ce=(Ce=g.closest(".relative"))==null?void 0:Ce.querySelector("[data-theme-color-chip]");N(ce,I)},X=()=>{Object.values($).forEach(g=>{g&&(sr(g),x(g),g.addEventListener("change",()=>x(g)))})};Object.keys($).forEach(g=>{var R;(R=$[g])==null||R.addEventListener("change",$e)}),[F,P,U,k,L].forEach(g=>{g==null||g.addEventListener("change",$e)});let J=async()=>{var g,R,I,re,ce;if(T)try{let ye=await fetch(T,{headers:{Accept:"application/json"},credentials:"include"});if(!ye.ok)return;let pe=await ye.json().catch(()=>({})),Ce=pe.colors||{};G(Ce),Object.entries($).forEach(([ge,Ne])=>{if(!Ne)return;let Ue=Ce[ge],xe=Ee(Ue);xe?Ne.value=xe:Ue?Ne.value=Ue:Ne.dataset.default&&(Ne.value=Ne.dataset.default),x(Ne)}),F&&(F.value=((g=pe.typography)==null?void 0:g.headings)||"Inter, sans-serif"),P&&(P.value=((R=pe.typography)==null?void 0:R.body)||"Inter, sans-serif"),U&&(U.value=((I=pe.radius)==null?void 0:I.small)||"8px"),k&&(k.value=((re=pe.radius)==null?void 0:re.medium)||"16px"),L&&(L.value=((ce=pe.radius)==null?void 0:ce.large)||"24px"),$e()}catch(ye){console.error("[settings] load theme failed",ye)}};E==null||E.addEventListener("click",async g=>{var I,re,ce,ye,pe;if(g.preventDefault(),!T){Ie("Aucun site actif.","error");return}let R={colors:{primary:((I=$.primary)==null?void 0:I.value)||"violet-500",secondary:((re=$.secondary)==null?void 0:re.value)||"indigo-400",accent:((ce=$.accent)==null?void 0:ce.value)||"emerald-500",background:((ye=$.background)==null?void 0:ye.value)||"slate-50",text:((pe=$.text)==null?void 0:pe.value)||"slate-900"},typography:{headings:(F==null?void 0:F.value)||"Inter, sans-serif",body:(P==null?void 0:P.value)||"Inter, sans-serif"},radius:{small:(U==null?void 0:U.value)||"8px",medium:(k==null?void 0:k.value)||"16px",large:(L==null?void 0:L.value)||"24px"}};E.disabled=!0,Ie("");try{let Ce=await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(R)}),ge=await Ce.json().catch(()=>({}));if(!Ce.ok||ge.success===!1)throw new Error(ge.message||"Application du th\xE8me \xE9chou\xE9e.");await J(),Ie(ge.message||"Th\xE8me appliqu\xE9.","success")}catch(Ce){console.error("[settings] apply theme failed",Ce),Ie(Ce.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{E.disabled=!1}}),G(),X(),J(),$e(),document.addEventListener("ai-theme-updated",()=>{J(),Ie("Th\xE8me mis \xE0 jour.","success")})}let H=document.querySelector("[data-seo-config-form]");if(H){let S=H.querySelector("[data-seo-index-all]"),T=H.querySelector("[data-seo-config-feedback]"),$=H.querySelector("[data-seo-save]"),F=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),P=F?`/api/sites/${encodeURIComponent(F)}/config/site`:null,U=(L,w="muted")=>{if(!T)return;let q=w==="success"?"text-emerald-600":w==="error"?"text-rose-600":"text-slate-500";T.textContent=L||"",T.className=`text-sm ${q}`},k=async()=>{var L;if(P)try{let w=await fetch(P,{headers:{Accept:"application/json"}});if(!w.ok)return;let E=((L=(await w.json().catch(()=>({}))).seo)==null?void 0:L.indexAllPagesByDefault)!==!1;S&&(S.checked=E)}catch(w){console.error("[settings] load seo config failed",w)}};H.addEventListener("submit",async L=>{var w;if(L.preventDefault(),!P){U("Aucun site actif.","error");return}$&&($.disabled=!0),U("");try{let q=await fetch(P,{headers:{Accept:"application/json"}}),E=q.ok?await q.json().catch(()=>({})):{},D={...E,seo:{...E.seo||{},indexAllPagesByDefault:(w=S==null?void 0:S.checked)!=null?w:!0}},K=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),te=await K.json().catch(()=>({}));if(!K.ok||te.success===!1)throw new Error(te.message||"Sauvegarde impossible.");U(te.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(q){console.error("[settings] save seo config failed",q),U(q.message||"Erreur lors de la sauvegarde.","error")}finally{$&&($.disabled=!1)}}),k()}let W=document.querySelector("[data-analytics-form]");if(W){let S=W.querySelector("[data-analytics-head]"),T=W.querySelector("[data-analytics-body]"),$=W.querySelector("[data-analytics-feedback]"),F=W.querySelector("[data-analytics-save]"),P=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),U=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,k=(w,q="muted")=>{if(!$)return;let E=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";$.textContent=w||"",$.className=`text-sm ${E}`},L=async()=>{var w,q;if(U)try{let E=await fetch(U,{headers:{Accept:"application/json"}});if(!E.ok)return;let D=await E.json().catch(()=>({}));S&&(S.value=((w=D.analytics)==null?void 0:w.headCode)||""),T&&(T.value=((q=D.analytics)==null?void 0:q.bodyEndCode)||"")}catch(E){console.error("[settings] load analytics config failed",E)}};W.addEventListener("submit",async w=>{if(w.preventDefault(),!U){k("Aucun site actif.","error");return}F&&(F.disabled=!0),k("");try{let q=await fetch(U,{headers:{Accept:"application/json"}}),D={...q.ok?await q.json().catch(()=>({})):{},analytics:{headCode:(S==null?void 0:S.value)||"",bodyEndCode:(T==null?void 0:T.value)||""}},K=await fetch(U,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),te=await K.json().catch(()=>({}));if(!K.ok||te.success===!1)throw new Error(te.message||"Sauvegarde impossible.");k(te.message||"Scripts enregistr\xE9s.","success")}catch(q){console.error("[settings] save analytics config failed",q),k(q.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),L()}let se=document.querySelector("[data-accessibility-form]");if(se){let S=se.querySelector("[data-accessibility-animations]"),T=se.querySelector("[data-accessibility-contrast]"),$=se.querySelector("[data-accessibility-feedback]"),F=se.querySelector("[data-accessibility-save]"),P=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),U=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,k=(w,q="muted")=>{if(!$)return;let E=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";$.textContent=w||"",$.className=`text-sm ${E}`},L=async()=>{var w,q;if(U)try{let E=await fetch(U,{headers:{Accept:"application/json"}});if(!E.ok)return;let D=await E.json().catch(()=>({}));S&&(S.checked=((w=D.accessibility)==null?void 0:w.animationsEnabled)!==!1),T&&(T.checked=((q=D.accessibility)==null?void 0:q.highContrast)===!0)}catch(E){console.error("[settings] load accessibility config failed",E)}};se.addEventListener("submit",async w=>{var q,E;if(w.preventDefault(),!U){k("Aucun site actif.","error");return}F&&(F.disabled=!0),k("");try{let D=await fetch(U,{headers:{Accept:"application/json"}}),te={...D.ok?await D.json().catch(()=>({})):{},accessibility:{animationsEnabled:(q=S==null?void 0:S.checked)!=null?q:!0,highContrast:(E=T==null?void 0:T.checked)!=null?E:!1}},Q=await fetch(U,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)}),ke=await Q.json().catch(()=>({}));if(!Q.ok||ke.success===!1)throw new Error(ke.message||"Sauvegarde impossible.");k(ke.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(D){console.error("[settings] save accessibility config failed",D),k(D.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),L()}let _=document.querySelector("[data-ai-config-form]");if(_){let S=_.querySelector("[data-ai-api-key]"),T=_.querySelector("[data-ai-model]"),$=_.querySelector("[data-ai-project-prompt]"),F=_.querySelector("[data-ai-enabled]"),P=_.querySelector("[data-ai-feedback]"),U=_.querySelector("[data-ai-save]"),k=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),L=k?`/api/sites/${encodeURIComponent(k)}/config/ai`:null,w=(E,D="muted")=>{if(!P)return;let K=D==="success"?"text-emerald-600":D==="error"?"text-rose-600":"text-slate-500";P.textContent=E||"",P.className=`text-sm ${K}`},q=async()=>{if(L)try{let E=await fetch(L,{headers:{Accept:"application/json"}});if(!E.ok)return;let D=await E.json().catch(()=>({}));S&&(S.value="",S.placeholder=D.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),T&&(T.value=D.model||"gemini-2.5-flash"),$&&($.value=D.projectPrompt||""),F&&(F.checked=D.enabled!==!1)}catch(E){console.error("[settings] load AI config failed",E)}};_.addEventListener("submit",async E=>{var D,K;if(E.preventDefault(),!L){w("Aucun site actif.","error");return}U&&(U.disabled=!0),w("");try{let te={model:(T==null?void 0:T.value)||"gemini-2.5-flash",projectPrompt:($==null?void 0:$.value)||"",enabled:(D=F==null?void 0:F.checked)!=null?D:!0},Q=(K=S==null?void 0:S.value)==null?void 0:K.trim();Q&&(te.apiKey=Q);let ke=await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)}),Te=await ke.json().catch(()=>({}));if(!ke.ok||Te.success===!1)throw new Error(Te.message||"Sauvegarde impossible.");w(Te.message||"Configuration IA enregistr\xE9e.","success"),S&&(S.value="",S.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(te){console.error("[settings] save AI config failed",te),w(te.message||"Erreur lors de la sauvegarde.","error")}finally{U&&(U.disabled=!1)}}),q()}}function qn(){let r=document.querySelector("[data-media-grid]");if(!r)return;let n=document.querySelector("[data-media-empty]"),c=document.querySelector("[data-media-count]"),f=document.querySelector("[data-media-filter-type]"),p=document.querySelector("[data-media-detail-empty]"),v=document.querySelector("[data-media-detail]"),V=document.querySelector("[data-media-detail-preview]"),H=document.querySelector("[data-media-detail-name]"),W=document.querySelector("[data-media-detail-type]"),se=document.querySelector("[data-media-detail-size]"),_=document.querySelector("[data-media-detail-path]"),S=document.querySelector("[data-media-detail-used]"),T=document.querySelector("[data-media-alt-edit]"),$=document.querySelector("[data-media-save]"),F=document.querySelector("[data-media-delete]"),P=document.querySelector("[data-media-delete-modal]"),U=document.querySelector("[data-media-delete-cancel]"),k=document.querySelector("[data-media-delete-confirm]"),L=document.querySelector("[data-media-upload-open]"),w=document.querySelector("[data-media-file-input]"),q=document.querySelector("[data-media-upload-status]"),E=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),D=E?`/api/sites/${encodeURIComponent(E)}/media`:null,K=[],te=[],Q=null,ke=null,Te=null,Ge=!1,Ee=!1,G=!1,Ie=null,$e=y=>{let B=(y.type||"").toLowerCase(),h=(y.filename||"").toLowerCase();return B.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(h)?"image":B.includes("pdf")||B.includes("doc")||/\.(pdf|docx?)$/i.test(h)?"document":B.includes("video")||/\.(mp4|mov|webm)$/i.test(h)?"video":"other"},N=y=>$e(y)==="image",x=y=>{if(y.type)return y.type.toUpperCase();let B=(y.filename||"").split(".").pop();return B?B.toUpperCase():"FILE"},X=y=>!y||y<=0?"\u2014":y<1024?`${y} o`:y<1024*1024?`${(y/1024).toFixed(1)} ko`:`${(y/(1024*1024)).toFixed(1)} Mo`,J=()=>{v==null||v.classList.add("hidden"),p==null||p.classList.remove("hidden"),g(),Q=null,Ee=!1,ce(!1),V&&(V.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),H&&(H.textContent=""),W&&(W.textContent=""),se&&(se.textContent=""),T&&(T.value=""),_&&(_.textContent=""),S&&(S.innerHTML="")},g=()=>{Te=null,G=!1,Ge=!1,Ie&&(URL.revokeObjectURL(Ie),Ie=null),q&&(q.textContent="Aucun fichier s\xE9lectionn\xE9."),w&&(w.value="")},R=()=>{c&&(te.length?te.length===1?c.textContent="1 m\xE9dia":c.textContent=`${te.length} m\xE9dias`:c.textContent="0 m\xE9dia")},I=()=>{if(r.innerHTML="",!te.length){n==null||n.classList.remove("hidden"),J();return}n==null||n.classList.add("hidden"),te.forEach(y=>{let B=document.createElement("button");B.type="button",B.dataset.mediaId=y.id;let h=y.id===Q;B.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",h?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let de=N(y)?`<img src="${y.path}" alt="${y.alt||y.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';B.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${de}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${y.filename}</p>
            <p class="text-xs text-slate-500">
              ${x(y)} \xB7 ${X(y.size)}
            </p>
          </div>
        `,y.id===ke&&(B.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{B.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),B.addEventListener("click",()=>ye(y.id)),r.appendChild(B)}),ke=null},re=y=>{if(S){if(S.innerHTML="",!y.usedIn||y.usedIn.length===0){let B=document.createElement("li");B.textContent="Non utilis\xE9",B.className="text-xs text-slate-400",S.appendChild(B);return}y.usedIn.forEach(B=>{let h=document.createElement("li");h.textContent=B,h.className="text-xs text-slate-600",S.appendChild(h)})}},ce=y=>{if($){if(G){$.textContent=y?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",$.disabled=y||!Te,F&&F.classList.add("hidden");return}$.textContent=y?"Enregistrement\u2026":"Enregistrer",$.disabled=y||!Ee,F&&(F.classList.remove("hidden"),F.disabled=!Q)}},ye=y=>{let B=K.find(h=>h.id===y);if(!B){J(),I();return}g(),Q=B.id,Ee=!1,ce(!1),I(),p==null||p.classList.add("hidden"),v==null||v.classList.remove("hidden"),V&&(N(B)?V.innerHTML=`<img src="${B.path}" alt="${B.alt||B.filename}" class="h-full w-full rounded-2xl object-cover" />`:V.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),H&&(H.textContent=B.filename||"Fichier"),W&&(W.textContent=x(B)),se&&(se.textContent=X(B.size)),T&&(T.value=B.alt||""),_&&(_.textContent=B.path||"\u2014"),re(B)},pe=y=>{if(y){if(G=!0,Ee=!1,Q=null,p==null||p.classList.add("hidden"),v==null||v.classList.remove("hidden"),Ie&&URL.revokeObjectURL(Ie),Ie=URL.createObjectURL(y),V&&(V.innerHTML=`<img src="${Ie}" alt="${y.name}" class="h-full w-full rounded-2xl object-cover" />`),H&&(H.textContent=y.name),W&&(W.textContent=x({type:y.type,filename:y.name})),se&&(se.textContent=X(y.size)),T&&!T.value.trim()&&(T.value=y.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),_&&(_.textContent="En attente de t\xE9l\xE9versement"),S){S.innerHTML="";let B=document.createElement("li");B.textContent="Non utilis\xE9",B.className="text-xs text-slate-400",S.appendChild(B)}ce(!1)}},Ce=()=>{let y=(f==null?void 0:f.value)||"all";y==="all"?te=[...K]:te=K.filter(B=>B.groupType===y),te.some(B=>B.id===Q)||J(),R(),I()},ge=async()=>{if(!D){n==null||n.classList.remove("hidden");return}try{let y=await fetch(D,{headers:{Accept:"application/json"}});if(!y.ok)throw new Error("Impossible de charger les m\xE9dias.");let B=await y.json().catch(()=>({items:[]}));K=Array.isArray(B.items)?B.items.map(h=>({...h,groupType:$e(h)})):[],Ce()}catch(y){console.error("[media] load failed",y),M(y.message||"Impossible de charger les m\xE9dias."),K=[],Ce()}};f==null||f.addEventListener("change",()=>{Ce()}),T==null||T.addEventListener("input",()=>{if(G){ce(!1);return}Q&&(Ee=!0,ce(!1))});let Ne=y=>{if(y){if(!y.type.startsWith("image/")){M("Seules les images sont accept\xE9es pour le moment.");return}if(y.size>4*1024*1024){M("Fichier trop volumineux (4 Mo max).");return}Te=y,pe(y),q&&(q.textContent=`${y.name} \xB7 ${X(y.size)}`)}},Ue=y=>new Promise((B,h)=>{let de=new FileReader;de.onload=()=>{let Pt=de.result||"",[,ts=""]=String(Pt).split(",");B(ts)},de.onerror=()=>h(new Error("Impossible de lire ce fichier.")),de.readAsDataURL(y)}),xe=async()=>{if(!(!Te||!D)){Ge=!0,ce(!0);try{let y=await Ue(Te),B={filename:Te.name,type:Te.type,size:Te.size,alt:(T==null?void 0:T.value)||"",data:y},h=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!h.ok){let Pt=await h.json().catch(()=>({}));throw new Error(Pt.message||"Upload impossible.")}let de=await h.json();de.groupType=$e(de),K=[...K,de],ke=de.id,Ce(),ye(de.id),M("M\xE9dia ajout\xE9"),g()}catch(y){console.error("[media] upload failed",y),M(y.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Ge=!1,Te=null,ce(!1)}}};L==null||L.addEventListener("click",()=>w==null?void 0:w.click()),w==null||w.addEventListener("change",()=>{w.files&&w.files[0]&&Ne(w.files[0])});let Me=()=>{P&&(P.classList.add("hidden"),P.classList.remove("flex"))},Re=()=>{if(!(!Q||G)){if(P){P.classList.remove("hidden"),P.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&St()}},St=async()=>{if(!Q||!D){Me();return}let y=()=>{F&&(F.disabled=!0),k&&(k.disabled=!0,k.textContent="Suppression\u2026")},B=()=>{F&&(F.disabled=!1),k&&(k.disabled=!1,k.textContent="Supprimer")};y();try{let h=await fetch(`${D}/${encodeURIComponent(Q)}`,{method:"DELETE"});if(!h.ok){let de=await h.json().catch(()=>({}));throw new Error(de.message||"Suppression impossible.")}K=K.filter(de=>de.id!==Q),te=te.filter(de=>de.id!==Q),M("M\xE9dia supprim\xE9"),J(),R(),I()}catch(h){console.error("[media] delete failed",h),M(h.message||"Impossible de supprimer ce m\xE9dia.")}finally{B(),Me()}};U==null||U.addEventListener("click",Me),P==null||P.addEventListener("click",y=>{y.target===P&&Me()}),k==null||k.addEventListener("click",()=>St()),F==null||F.addEventListener("click",Re),$==null||$.addEventListener("click",async()=>{if(G){xe();return}if(!(!Q||!D||!T)){ce(!0);try{let y={alt:T.value||""},B=await fetch(`${D}/${encodeURIComponent(Q)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!B.ok){let de=await B.json().catch(()=>({}));throw new Error(de.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let h=await B.json();K=K.map(de=>de.id===Q?{...de,...h}:de),te=te.map(de=>de.id===Q?{...de,...h}:de),Ee=!1,ce(!1),M("M\xE9dia mis \xE0 jour")}catch(y){console.error("[media] update failed",y),M(y.message||"\xC9chec de la mise \xE0 jour."),ce(!1)}}}),ge()}let Mr=document.getElementById("ai-chat-toggle"),ps=document.getElementById("ai-chat-panel"),it=document.getElementById("ai-chat-overlay"),Fr=document.getElementById("ai-chat-close"),Nr=document.getElementById("ai-chat-clear"),Dr=document.getElementById("ai-chat-form"),Bt=document.getElementById("ai-chat-input"),Ae=document.getElementById("ai-chat-messages"),Ta=document.getElementById("ai-chat-status"),wt=document.getElementById("ai-chat-no-api"),An=document.querySelectorAll("[data-ai-quick]"),rr=!1,Hr=!1,wo=!1,Tn=!1;function In(){ps&&(rr=!0,ps.classList.remove("translate-x-full"),ps.setAttribute("aria-hidden","false"),it==null||it.classList.remove("opacity-0","pointer-events-none"),it==null||it.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Bt==null||Bt.focus(),wo||$n())}function or(){ps&&(rr=!1,ps.classList.add("translate-x-full"),ps.setAttribute("aria-hidden","true"),it==null||it.classList.add("opacity-0","pointer-events-none"),it==null||it.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function $n(){let r=Pe(oe.slug||"");if(!r){wt==null||wt.classList.remove("hidden");return}try{let n=await fetch(`/api/sites/${encodeURIComponent(r)}/config/ai`);if(!n.ok)throw new Error("Config check failed");let c=await n.json();wo=!0,Tn=c.hasApiKey,!c.enabled||!c.hasApiKey?wt==null||wt.classList.remove("hidden"):(wt==null||wt.classList.add("hidden"),Bn())}catch(n){console.error("[AI] Config check failed:",n),wt==null||wt.classList.remove("hidden")}}async function Bn(){let r=Pe(oe.slug||"");if(!(!r||!Ae))try{let n=await fetch(`/api/sites/${encodeURIComponent(r)}/ai/history`);if(!n.ok)return;let c=await n.json();if(c.messages&&c.messages.length>0){let f=Ae.querySelector("[data-ai-welcome]");f&&f.remove(),c.messages.forEach(p=>{nr(p.content,p.role==="user"?"user":"assistant")}),Ae.scrollTop=Ae.scrollHeight}}catch(n){console.error("[AI] History load failed:",n)}}function nr(r,n="assistant"){if(!Ae)return;let c=document.createElement("div");if(c.className="flex gap-3",n==="user")c.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${pt(r)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let f=jn(r);c.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${f}</div>
        </div>
      `}Ae.appendChild(c),Ae.scrollTop=Ae.scrollHeight}function Pn(){if(!Ae)return;let r=document.createElement("div");r.className="flex gap-3",r.id="ai-loading-indicator",r.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Ae.appendChild(r),Ae.scrollTop=Ae.scrollHeight}function So(){let r=document.getElementById("ai-loading-indicator");r==null||r.remove()}function jn(r){if(!r)return"";let n=pt(r);return n=n.replace(/```(\w*)\n([\s\S]*?)```/g,(c,f,p)=>`<pre class="language-${f||"text"}"><code>${p.trim()}</code></pre>`),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=n.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),n=n.replace(/\*([^*]+)\*/g,"<em>$1</em>"),n=n.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),n=n.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),n=n.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),n=n.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),n=n.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),n=n.replace(/\n\n/g,'</p><p class="mb-2">'),n='<p class="mb-2">'+n+"</p>",n=n.replace(/<p class="mb-2"><\/p>/g,""),n}function pt(r){let n=document.createElement("div");return n.textContent=r,n.innerHTML}async function Lo(r){let n=Pe(oe.slug||"");if(!r||!n||Hr)return;Hr=!0,Bt.disabled=!0;let c=Ae==null?void 0:Ae.querySelector("[data-ai-welcome]");c&&c.remove(),nr(r,"user"),Pn();try{let f=await fetch(`/api/sites/${encodeURIComponent(n)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r})});if(So(),!f.ok){let v=await f.json().catch(()=>({}));throw new Error(v.message||"Erreur de communication")}let p=await f.json();p.response&&nr(p.response,"assistant"),p.editProposal&&Mn(p.editProposal),p.themeProposal&&Fn(p.themeProposal)}catch(f){So(),nr(`\u274C Erreur: ${f.message}`,"assistant")}finally{Hr=!1,Bt.disabled=!1,Bt.focus()}}function Mn(r){var f,p;if(!Ae||!r)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=r.proposalId;let c="";if(r.changes&&(r.changes.title&&(c+=`<li>Titre \u2192 <strong>${pt(r.changes.title)}</strong></li>`),r.changes.description&&(c+=`<li>Description \u2192 ${pt(r.changes.description.substring(0,80))}...</li>`),r.changes.seo&&(r.changes.seo.metaTitle&&(c+=`<li>Meta title \u2192 ${pt(r.changes.seo.metaTitle)}</li>`),r.changes.seo.metaDescription&&(c+=`<li>Meta description \u2192 ${pt(r.changes.seo.metaDescription.substring(0,60))}...</li>`)),r.changes.blockUpdate&&(c+=`<li>Bloc "${r.changes.blockUpdate.blockId}" modifi\xE9</li>`,r.changes.blockUpdate.settings))){let v=r.changes.blockUpdate.settings;v.title&&(c+=`<li class="ml-4">\u2192 title: ${pt(v.title)}</li>`),v.content&&(c+='<li class="ml-4">\u2192 content modifi\xE9</li>')}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${pt(r.pageTitle||r.pageId)}</p>
        ${r.reason?`<p class="text-sm text-slate-600 mb-2">${pt(r.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${c||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${r.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${r.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Ae.appendChild(n),Ae.scrollTop=Ae.scrollHeight,(f=n.querySelector(".ai-apply-edit"))==null||f.addEventListener("click",Hn),(p=n.querySelector(".ai-reject-edit"))==null||p.addEventListener("click",ko)}function Fn(r){var p,v,V,H;if(!Ae||!r)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=r.proposalId;let c="";if((p=r.changes)!=null&&p.colors){let W=r.changes.colors;for(let[se,_]of Object.entries(W))c+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Nn(_)}"></span>
          <span>${se}: <strong>${pt(_)}</strong></span>
        </li>`}let f="";if((v=r.changes)!=null&&v.typography){let W=r.changes.typography;W.headings&&(f+=`<li>Titres \u2192 <strong>${pt(W.headings)}</strong></li>`),W.body&&(f+=`<li>Textes \u2192 <strong>${pt(W.body)}</strong></li>`)}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${r.reason?`<p class="text-sm text-slate-600 mb-3">${pt(r.reason)}</p>`:""}
        ${c?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${c}</ul>
        `:""}
        ${f?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${f}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${r.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${r.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Ae.appendChild(n),Ae.scrollTop=Ae.scrollHeight,(V=n.querySelector(".ai-apply-theme"))==null||V.addEventListener("click",Dn),(H=n.querySelector(".ai-reject-theme"))==null||H.addEventListener("click",ko)}function Nn(r){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[r]||"#9C6BFF"}async function Dn(r){var p;let n=(p=r.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,c=Pe(oe.slug||"");if(!n||!c)return;let f=r.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let v=await fetch(`/api/sites/${encodeURIComponent(c)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),V=await v.json();if(v.ok&&V.success){let H=document.querySelector(`[data-proposal-id="${n}"]`);H&&(H.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),M("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:V.updatedTheme}}))}else throw new Error(V.message||"Erreur lors de l'application")}catch(v){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${v.message}`)}}async function Hn(r){var p,v;let n=(p=r.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,c=Pe(oe.slug||"");if(!n||!c)return;let f=r.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let V=await fetch(`/api/sites/${encodeURIComponent(c)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),H=await V.json();if(V.ok&&H.success){let W=document.querySelector(`[data-proposal-id="${n}"]`);W&&(W.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),M("Modifications appliqu\xE9es !");let se=((v=H.updatedPage)==null?void 0:v.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:se,updatedPage:H.updatedPage}}))}else throw new Error(H.message||"Erreur lors de l'application")}catch(V){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${V.message}`)}}async function ko(r){var f;let n=(f=r.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,c=Pe(oe.slug||"");if(!(!n||!c))try{await fetch(`/api/sites/${encodeURIComponent(c)}/ai/proposal/${n}`,{method:"DELETE"});let p=document.querySelector(`[data-proposal-id="${n}"]`);p&&(p.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(p){console.error("[AI] Reject edit error:",p)}}async function Un(){let r=Pe(oe.slug||"");if(!(!r||!Ae))try{await fetch(`/api/sites/${encodeURIComponent(r)}/ai/history`,{method:"DELETE"}),Ae.innerHTML="",Ae.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,M("Historique effac\xE9")}catch(n){console.error("[AI] Clear history failed:",n),M("Erreur lors de l'effacement")}}let Rn={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};Mr==null||Mr.addEventListener("click",()=>{rr?or():In()}),Fr==null||Fr.addEventListener("click",or),it==null||it.addEventListener("click",or),Nr==null||Nr.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&Un()}),Dr==null||Dr.addEventListener("submit",r=>{var c;r.preventDefault();let n=(c=Bt==null?void 0:Bt.value)==null?void 0:c.trim();n&&(Bt.value="",Lo(n))}),An.forEach(r=>{r.addEventListener("click",()=>{let n=r.dataset.aiQuick,c=Rn[n];c&&Lo(c)})}),document.addEventListener("keydown",r=>{r.key==="Escape"&&rr&&or()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCB0cmltbWVkID0gYCR7c2x1Z31gLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2l0aG91dExlYWRpbmcgPSB0cmltbWVkLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgIGlmICghd2l0aG91dExlYWRpbmcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7d2l0aG91dExlYWRpbmd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3NsdWd9YC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBUUkFOU1BBUkVOVF9QQVRURVJOID1cbiAgICAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICBjb25zdCBwYXJzZUNzc0NvbG9yVG9SZ2IgPSAodmFsdWUpID0+IHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmdiTWF0Y2ggPSBub3JtYWxpemVkLm1hdGNoKFxuICAgICAgL15yZ2JcXFxcKFxcXFxzKihcXFxcZHsxLDN9KVxcXFxzKixcXFxccyooXFxcXGR7MSwzfSlcXFxccyosXFxcXHMqKFxcXFxkezEsM30pXFxcXHMqXFxcXCkkLyxcbiAgICApO1xuICAgIGlmIChyZ2JNYXRjaCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBOdW1iZXIocmdiTWF0Y2hbMV0pKSksXG4gICAgICAgIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTnVtYmVyKHJnYk1hdGNoWzJdKSkpLFxuICAgICAgICBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE51bWJlcihyZ2JNYXRjaFszXSkpKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IGhleE1hdGNoID0gbm9ybWFsaXplZC5tYXRjaCgvXiMoW2EtZjAtOV17M318W2EtZjAtOV17Nn0pJC8pO1xuICAgIGlmIChoZXhNYXRjaCkge1xuICAgICAgY29uc3QgaGV4ID0gaGV4TWF0Y2hbMV07XG4gICAgICBjb25zdCBub3JtYWxpemVkSGV4ID1cbiAgICAgICAgaGV4Lmxlbmd0aCA9PT0gMyA/IGhleC5zcGxpdCgnJykubWFwKChjKSA9PiBgJHtjfSR7Y31gKS5qb2luKCcnKSA6IGhleDtcbiAgICAgIGNvbnN0IHIgPSBwYXJzZUludChub3JtYWxpemVkSGV4LnNsaWNlKDAsIDIpLCAxNik7XG4gICAgICBjb25zdCBnID0gcGFyc2VJbnQobm9ybWFsaXplZEhleC5zbGljZSgyLCA0KSwgMTYpO1xuICAgICAgY29uc3QgYiA9IHBhcnNlSW50KG5vcm1hbGl6ZWRIZXguc2xpY2UoNCwgNiksIDE2KTtcbiAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBjb25zdCBnZXRSZWFkYWJsZVRleHRDb2xvciA9IChiYWNrZ3JvdW5kQ29sb3IpID0+IHtcbiAgICBjb25zdCByZ2IgPSBwYXJzZUNzc0NvbG9yVG9SZ2IoYmFja2dyb3VuZENvbG9yKTtcbiAgICBpZiAoIXJnYikgcmV0dXJuICcjMGYxNzJhJztcbiAgICBjb25zdCBbciwgZywgYl0gPSByZ2I7XG4gICAgY29uc3QgbHVtaW5hbmNlID0gKDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYikgLyAyNTU7XG4gICAgcmV0dXJuIGx1bWluYW5jZSA+IDAuNjIgPyAnIzBmMTcyYScgOiAnI2ZmZmZmZic7XG4gIH07XG4gIGNvbnN0IHN0eWxlU2VsZWN0T3B0aW9ucyA9IChzZWxlY3QpID0+IHtcbiAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgIEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uQ29sb3IgPSBvcHRpb24uZGF0YXNldD8uY29sb3I7XG4gICAgICBpZiAoIW9wdGlvbkNvbG9yKSByZXR1cm47XG4gICAgICBpZiAob3B0aW9uQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gb3B0aW9uQ29sb3I7XG4gICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcihvcHRpb25Db2xvcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHdvcmtzcGFjZUNvbnRleHQ/LnNlY3Rpb24gfHwgZGV0ZWN0V29ya3NwYWNlU2VjdGlvbigpO1xuXG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVzaWduJykge1xuICAgIGluaXREZXNpZ25Xb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgaW5pdENvbnRlbnRXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ21lZGlhJykge1xuICAgIGluaXRNZWRpYVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVwbG95Jykge1xuICAgIGluaXREZXBsb3lXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ3NldHRpbmdzJykge1xuICAgIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpO1xuICB9XG5cbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQgJiYgc3RvcmVkU2l0ZS5uYW1lKSB7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhzdG9yZWRTaXRlLm5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlc2lnbldvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBwYWdlTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWxpc3RdJyk7XG4gICAgaWYgKHBhZ2VMaXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhY3RpdmVTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBwcmV2aWV3VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy10YWdzXScpO1xuICAgIGNvbnN0IHByZXZpZXdGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1mcmFtZV0nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgcHJldmlld1NoZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXNoZWxsXScpO1xuICAgIGNvbnN0IHByZXZpZXdWaWV3QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctdmlldy1idXR0b25dJyk7XG4gICAgY29uc3QgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctY3VycmVudC12aWV3XScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3Qgc3R5bGVDb2xvckNoaXAgPSAoY2hpcCwgY29sb3IpID0+IHtcbiAgICAgIGlmICghY2hpcCkgcmV0dXJuO1xuICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2NiZDVmNSc7XG4gICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDAgMXB4IHJnYmEoMTUsMjMsNDIsMC4xNSknO1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24gPSAoc2VsZWN0LCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QgfHwgIXZhbHVlKSByZXR1cm47XG4gICAgICBpZiAoQXJyYXkuZnJvbShzZWxlY3Qub3B0aW9ucykuc29tZSgob3B0KSA9PiBvcHQudmFsdWUgPT09IHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0NvdWxldXIgcGVyc29ubmFsaXNcdTAwRTllJztcbiAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gdmFsdWU7XG4gICAgICBpZiAodmFsdWUgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IHZhbHVlO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgc3R5bGVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHRoZW1lQ29sb3JTZWxlY3RzID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRoZW1lLWNvbG9yLXNlbGVjdF0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gc2VsZWN0Py5nZXRBdHRyaWJ1dGU/LignbmFtZScpIHx8ICcnO1xuICAgICAgcmV0dXJuIG5hbWUuZW5kc1dpdGgoJy1iZycpO1xuICAgIH07XG4gICAgY29uc3QgdGhlbWVDb2xvclByZXNldHMgPSBbXG4gICAgICB7IGxhYmVsOiAnQ291bGV1ciBwcmltYWlyZScsIHZhbHVlOiAndGhlbWUtcHJpbWFyeScsIGNzc1ZhcjogJy0tY29sb3ItcHJpbWFyeScgfSxcbiAgICAgIHsgbGFiZWw6ICdDb3VsZXVyIHNlY29uZGFpcmUnLCB2YWx1ZTogJ3RoZW1lLXNlY29uZGFyeScsIGNzc1ZhcjogJy0tY29sb3Itc2Vjb25kYXJ5JyB9LFxuICAgICAgeyBsYWJlbDogJ0NvdWxldXIgYWNjZW50JywgdmFsdWU6ICd0aGVtZS1hY2NlbnQnLCBjc3NWYXI6ICctLWNvbG9yLWFjY2VudCcgfSxcbiAgICAgIHsgbGFiZWw6ICdGb25kJywgdmFsdWU6ICd0aGVtZS1iYWNrZ3JvdW5kJywgY3NzVmFyOiAnLS1jb2xvci1iYWNrZ3JvdW5kJyB9LFxuICAgICAgeyBsYWJlbDogJ1RleHRlJywgdmFsdWU6ICd0aGVtZS10ZXh0JywgY3NzVmFyOiAnLS1jb2xvci10ZXh0JyB9LFxuICAgIF07XG4gICAgY29uc3QgZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUgPSAoY3NzVmFyLCBmYWxsYmFjayA9ICcjZmZmZmZmJykgPT4ge1xuICAgICAgaWYgKCFjc3NWYXIpIHJldHVybiBmYWxsYmFjaztcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzVmFyKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkLnRyaW0oKSA6IGZhbGxiYWNrO1xuICAgIH07XG4gICAgY29uc3QgZmlsbFRoZW1lQ29sb3JTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgdGhlbWVDb2xvclByZXNldHMuZm9yRWFjaCgoeyBsYWJlbCwgdmFsdWUsIGNzc1ZhciB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IGdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlKGNzc1Zhcik7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IGNvbG9yVmFsdWU7XG4gICAgICAgIGlmIChjb2xvclZhbHVlID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9ICcjNDc1NTY5JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JWYWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9IGdldFJlYWRhYmxlVGV4dENvbG9yKGNvbG9yVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdC52YWx1ZSA9IHRoZW1lQ29sb3JQcmVzZXRzWzBdLnZhbHVlO1xuICAgICAgICBzZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICBpZiAoaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3Qoc2VsZWN0KSkge1xuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyA9ICgpID0+IHRoZW1lQ29sb3JTZWxlY3RzLmZvckVhY2goZmlsbFRoZW1lQ29sb3JTZWxlY3QpO1xuICAgICAgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS10aGVtZS11cGRhdGVkJywgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKTtcbiAgICBjb25zdCBibG9ja0Zvcm1TZWN0aW9ucyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgZ2V0QmxvY2tFZGl0b3JTZWN0aW9uRWxlbWVudCA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWc/LnNlY3Rpb24pIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1lZGl0b3Itc2VjdGlvbj1cIiR7Y29uZmlnLnNlY3Rpb259XCJdYCk7XG4gICAgfTtcbiAgICAvLyBPbmdsZXRzIENvbnRlbnUgLyBBcHBhcmVuY2VcbiAgICBjb25zdCBibG9ja1RhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay10YWJdJyk7XG4gICAgbGV0IGFjdGl2ZUJsb2NrVGFiID0gJ2NvbnRlbnQnO1xuXG4gICAgLy8gT25nbGV0cyBwYW5uZWF1IGdhdWNoZSAoQmxvY3MgLyBQYWdlcylcbiAgICBjb25zdCBsZWZ0UGFuZWxUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbGVmdC10YWJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsQmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cImJsb2Nrc1wiXScpO1xuICAgIGNvbnN0IGxlZnRQYW5lbFBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cInBhZ2VzXCJdJyk7XG4gICAgbGV0IGFjdGl2ZUxlZnRUYWIgPSAnYmxvY2tzJztcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQmxvY3MvUGFnZXMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBjb25zdCBzd2l0Y2hMZWZ0VGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUxlZnRUYWIgPSB0YWJOYW1lO1xuICAgICAgbGVmdFBhbmVsVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5sZWZ0VGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHNcbiAgICAgIGlmIChsZWZ0UGFuZWxCbG9ja3MpIHtcbiAgICAgICAgbGVmdFBhbmVsQmxvY2tzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdibG9ja3MnKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0UGFuZWxQYWdlcykge1xuICAgICAgICBsZWZ0UGFuZWxQYWdlcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCB0YWJOYW1lICE9PSAncGFnZXMnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hMZWZ0VGFiKHRhYi5kYXRhc2V0LmxlZnRUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRFx1MDBFOWNsYXJhdGlvbnMgZGVzIFx1MDBFOWxcdTAwRTltZW50cyBkJ2FjdGlvbnMgZHUgZm9ybXVsYWlyZSAoYXZhbnQgc3dpdGNoQmxvY2tUYWIpXG4gICAgY29uc3QgYmxvY2tGb3JtQWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYWN0aW9uc10nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1BdXRvc2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYXV0b3NhdmVdJyk7XG5cbiAgICAvLyBGb25jdGlvbiBwb3VyIHN3aXRjaGVyIGVudHJlIGxlcyBvbmdsZXRzIENvbnRlbnUvQXBwYXJlbmNlXG4gICAgY29uc3Qgc3dpdGNoQmxvY2tUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlQmxvY2tUYWIgPSB0YWJOYW1lO1xuICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBzdHlsZXMgZGVzIGJvdXRvbnMgZCdvbmdsZXRcbiAgICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5ibG9ja1RhYiA9PT0gdGFiTmFtZTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgcGFuZWxzIGRhbnMgbGEgc2VjdGlvbiBhY3RpdmVcbiAgICAgIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXTpub3QoLmhpZGRlbiknKTtcbiAgICAgIGlmIChhY3RpdmVTZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IGFjdGl2ZVNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICAgIHBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICAgIGlmIChwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09IHRhYk5hbWUpIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgYm91dG9ucyBzZWxvbiBsJ29uZ2xldFxuICAgICAgLy8gQ29udGVudSBcdTIxOTIgYm91dG9ucyBFbnJlZ2lzdHJlci9Bbm51bGVyXG4gICAgICAvLyBBcHBhcmVuY2UgXHUyMTkyIGluZGljYXRldXIgYXV0by1zYXZlXG4gICAgICBpZiAoYmxvY2tGb3JtQWN0aW9ucyAmJiBibG9ja0Zvcm1BdXRvc2F2ZSkge1xuICAgICAgICBpZiAodGFiTmFtZSA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVycyBwb3VyIGxlcyBvbmdsZXRzXG4gICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hCbG9ja1RhYih0YWIuZGF0YXNldC5ibG9ja1RhYik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3QgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb25cIl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1jb2xsZWN0aW9uLXNlbGVjdGlvbi1pbmZvXScsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja0Zvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGJsb2NrVHlwZUZvcm1zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICBzZWN0aW9uOiAnaGVybycsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdzdWJ0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnaGVyby10aXRsZScsXG4gICAgICAgICAgc3VidGl0bGU6ICdoZXJvLXN1YnRpdGxlJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ2hlcm8tY3RhLWxhYmVsJyxcbiAgICAgICAgICBjdGFVcmw6ICdoZXJvLWN0YS11cmwnLFxuICAgICAgICAgIGN0YVRleHRDb2xvcjogJ2hlcm8tY3RhLXRleHQtY29sb3InLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGltYWdlOiAnaGVyby1pbWFnZScsXG4gICAgICAgICAgbGF5b3V0OiAnaGVyby1sYXlvdXQnLFxuICAgICAgICAgIGltYWdlV2lkdGg6ICdoZXJvLWltYWdlLXdpZHRoJyxcbiAgICAgICAgICBpbWFnZUhlaWdodDogJ2hlcm8taW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBpbWFnZU9iamVjdEZpdDogJ2hlcm8taW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiAnaGVyby1ob3Jpem9udGFsLWFsaWduJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdoZXJvLXRleHQtYWxpZ24nLFxuICAgICAgICAgIG92ZXJsYXk6ICdoZXJvLW92ZXJsYXknLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ2hlcm8tdGl0bGUtc2l6ZScsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaGVyby1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaGVyby1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdoZXJvLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnaGVyby1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ3BhcmFncmFwaC10aXRsZS1zaXplJyxcbiAgICAgICAgICB0ZXh0U2l6ZTogJ3BhcmFncmFwaC10ZXh0LXNpemUnLFxuICAgICAgICAgIHNwYWNpbmc6ICdwYXJhZ3JhcGgtc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAncGFyYWdyYXBoLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdwYXJhZ3JhcGgtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAncGFyYWdyYXBoLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAncGFyYWdyYXBoLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgc2VjdGlvbjogJ2ltYWdlJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2FsdCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogJ2ltYWdlLXNyYycsXG4gICAgICAgICAgYWx0OiAnaW1hZ2UtYWx0JyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogJ2ltYWdlLWNhcHRpb24tdG9nZ2xlJyxcbiAgICAgICAgICBjYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgcm91bmRlZDogJ2ltYWdlLXJvdW5kZWQnLFxuICAgICAgICAgIHNoYWRvdzogJ2ltYWdlLXNoYWRvdycsXG4gICAgICAgICAgbWF4V2lkdGg6ICdpbWFnZS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGhlaWdodDogJ2ltYWdlLWhlaWdodCcsXG4gICAgICAgICAgb2JqZWN0Rml0OiAnaW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgYWxpZ246ICdpbWFnZS1hbGlnbicsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaW1hZ2UtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2ltYWdlLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIGJvcmRlcjogJ2ltYWdlLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdncm91cC1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdncm91cC1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHNlY3Rpb246ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb24nLFxuICAgICAgICAgIGxpbWl0OiAnY29sbGVjdGlvbi1ncmlkLWxpbWl0JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcsXG4gICAgICAgICAgZ2FwOiAnY29sbGVjdGlvbi1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdjb2xsZWN0aW9uLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBjYXJkUm91bmRlZDogJ2NvbGxlY3Rpb24tY2FyZC1yb3VuZGVkJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdjb2xsZWN0aW9uLW1vYmlsZS1sYXlvdXQnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2NvbGxlY3Rpb24tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2NvbGxlY3Rpb24tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnY29sbGVjdGlvbi1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2NvbGxlY3Rpb24tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnZm9ybS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnZm9ybS1hbGlnbicsXG4gICAgICAgICAgYnV0dG9uUm91bmRlZDogJ2Zvcm0tYnV0dG9uLXJvdW5kZWQnLFxuICAgICAgICAgIHNwYWNpbmc6ICdmb3JtLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2Zvcm0tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2Zvcm0tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZm9ybS1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2Zvcm0tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICduZXdzbGV0dGVyLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICduZXdzbGV0dGVyLWFsaWduJyxcbiAgICAgICAgICBwYWRkaW5nOiAnbmV3c2xldHRlci1wYWRkaW5nJyxcbiAgICAgICAgICBiZzogJ25ld3NsZXR0ZXItYmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICduZXdzbGV0dGVyLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ25ld3NsZXR0ZXItc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICduZXdzbGV0dGVyLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY2FyZDoge1xuICAgICAgICBzZWN0aW9uOiAnY2FyZCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdkZXNjcmlwdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnY2FyZC10aXRsZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdjYXJkLWRlc2NyaXB0aW9uJyxcbiAgICAgICAgICBpbWFnZTogJ2NhcmQtaW1hZ2UnLFxuICAgICAgICAgIGN0YVRleHQ6ICdjYXJkLWN0YS10ZXh0JyxcbiAgICAgICAgICBjdGFVcmw6ICdjYXJkLWN0YS11cmwnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2NhcmQtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2NhcmQtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnY2FyZC1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2NhcmQtYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNhcmQ6ICdjYXJkJyxcbiAgICAgIGNhcnRlOiAnY2FyZCcsXG4gICAgICBjb2xsZWN0aW9uOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgY29sbGVjdGlvbmdyaWQ6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICAnY29sbGVjdGlvbi1ncmlkJzogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGZvcm06ICdmb3JtJyxcbiAgICAgIGZvcm11bGFpcmU6ICdmb3JtJyxcbiAgICAgIGNvbnRhY3Q6ICdmb3JtJyxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBuZXdzbGV0dGVyOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIGVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICB9O1xuICAgIGNvbnN0IGFuaW1hdGlvbkZpZWxkTWFwID0ge1xuICAgICAgYW5pbWF0aW9uOiAnYW5pbS10eXBlJyxcbiAgICAgIGFuaW1hdGlvbkRlbGF5OiAnYW5pbS1kZWxheScsXG4gICAgICBhbmltYXRpb25EdXJhdGlvbjogJ2FuaW0tZHVyYXRpb24nLFxuICAgIH07XG4gICAgT2JqZWN0LnZhbHVlcyhibG9ja1R5cGVGb3JtcykuZm9yRWFjaCgoY29uZmlnKSA9PiB7XG4gICAgICBjb25maWcuZmllbGRzID0geyAuLi5jb25maWcuZmllbGRzLCAuLi5hbmltYXRpb25GaWVsZE1hcCB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHVwZGF0ZUdyb3VwTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFncm91cFByZXZpZXdNb2JpbGUgfHwgIWdyb3VwUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgZ3JvdXBQcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGdyb3VwUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIHx8ICFjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVQYWdlT25TZXJ2ZXIgPSBhc3luYyAoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlUGFnZVRvU2VydmVyID0gYXN5bmMgKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlPy5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZS5pZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBsYSBwYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgoZW50cnkpID0+IChlbnRyeS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBlbnRyeSkpO1xuICAgICAgICAgIGlmIChjdXJyZW50UGFnZT8uaWQgPT09IG5vcm1hbGl6ZWQuaWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhdmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIFNhdmUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxvYWRQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBwYWdlcyA9IFtdO1xuICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQYWdlSWQgPSBnZXRTdG9yZWRBY3RpdmVQYWdlKHBhZ2VzKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVUeXBlID0gKHZhbHVlKSA9PlxuICAgICAgKHZhbHVlIHx8ICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGdldEJsb2NrRm9ybUNvbmZpZyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGVLZXkgPSBub3JtYWxpemVUeXBlKGJsb2NrLnR5cGUpO1xuICAgICAgY29uc3QgYWxpYXMgPSBibG9ja1R5cGVBbGlhc2VzW3R5cGVLZXldIHx8IHR5cGVLZXk7XG4gICAgICByZXR1cm4gYmxvY2tUeXBlRm9ybXNbYWxpYXNdIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBwb3B1bGF0ZUJsb2NrRm9ybSA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jayAmJiAhYmxvY2suc2V0dGluZ3MpIHtcbiAgICAgICAgYmxvY2suc2V0dGluZ3MgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBjb25zdCBzZWN0aW9uUm9vdCA9IGdldEJsb2NrRWRpdG9yU2VjdGlvbkVsZW1lbnQoY29uZmlnKSB8fCBibG9ja0Zvcm07XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUaXRsZSkge1xuICAgICAgICBibG9ja0VkaXRvclRpdGxlLnRleHRDb250ZW50ID0gYmxvY2s/LmxhYmVsIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0VkaXRvclR5cGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUeXBlLnRleHRDb250ZW50ID0gYmxvY2s/LnR5cGUgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5yZXNldCgpO1xuICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgYmxvY2tGb3JtU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uLmRhdGFzZXQuZWRpdG9yU2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gY29uZmlnLnNlY3Rpb24pIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gUlx1MDBFOWluaXRpYWxpc2VyIHN1ciBsJ29uZ2xldCBDb250ZW51XG4gICAgICBzd2l0Y2hCbG9ja1RhYignY29udGVudCcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgZGVzaXJlZFZhbHVlID0gYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGRlc2lyZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNlY3Rpb25Sb290LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IGZhbGxiYWNrID0gaW5wdXQuZGF0YXNldC5kZWZhdWx0ID8/IGlucHV0LmRlZmF1bHRWYWx1ZSA/PyAnJztcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IGZhbGxiYWNrO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJnRmllbGROYW1lID0gY29uZmlnLmZpZWxkcz8uYmc7XG4gICAgICBpZiAoYmdGaWVsZE5hbWUpIHtcbiAgICAgICAgY29uc3QgYmdTZWxlY3QgPSBzZWN0aW9uUm9vdC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7YmdGaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uKGJnU2VsZWN0LCBibG9jay5zZXR0aW5ncz8uYmcpO1xuICAgICAgfVxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VjdGlvblJvb3QgPSBnZXRCbG9ja0VkaXRvclNlY3Rpb25FbGVtZW50KGNvbmZpZykgfHwgYmxvY2tGb3JtO1xuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNlY3Rpb25Sb290LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgICBjb25zdCBmYWxsYmFjayA9IGlucHV0LmRhdGFzZXQuZGVmYXVsdCA/PyBpbnB1dC52YWx1ZSA/PyAnJztcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCBmYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ3NlbGVjdC1vbmUnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdTdGF0dXMgPSAodGV4dCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3U3RhdHVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJldmlld1N0YXR1cy50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXJpYWxpemVQYWdlRm9yUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZvbmN0aW9uIHBvdXIgc1x1MDBFOXJpYWxpc2VyIHVuIGJsb2MgKHV0aWxpc1x1MDBFOSBwb3VyIGxlcyBibG9jcyBldCBsZXVycyBlbmZhbnRzKVxuICAgICAgY29uc3Qgc2VyaWFsaXplQmxvY2sgPSAoYmxvY2spID0+ICh7XG4gICAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgICAgdHlwZTogYmxvY2sudHlwZSxcbiAgICAgICAgbGFiZWw6IGJsb2NrLmxhYmVsLFxuICAgICAgICBzdGF0dXM6IGJsb2NrLnN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb246IGJsb2NrLmRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wczogYmxvY2sucHJvcHMgfHwgW10sXG4gICAgICAgIHNldHRpbmdzOiBibG9jay5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICAgY29sbGVjdGlvbklkOiBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJyxcbiAgICAgICAgY2hpbGRyZW46IChibG9jay5jaGlsZHJlbiB8fCBbXSkubWFwKHNlcmlhbGl6ZUJsb2NrKSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGFnZS5pZCxcbiAgICAgICAgbmFtZTogcGFnZS5uYW1lLFxuICAgICAgICB0aXRsZTogcGFnZS50aXRsZSxcbiAgICAgICAgc2x1ZzogcGFnZS5zbHVnLFxuICAgICAgICBkZXNjcmlwdGlvbjogcGFnZS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgYmFkZ2VzOiBbLi4uKHBhZ2UuYmFkZ2VzIHx8IFtdKV0sXG4gICAgICAgIHNlbzogcGFnZS5zZW8gfHwge30sXG4gICAgICAgIGFjY2Vzc2liaWxpdHk6IHBhZ2UuYWNjZXNzaWJpbGl0eSB8fCB7fSxcbiAgICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sID0gKCkgPT5cbiAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiM0NzU1Njk7YmFja2dyb3VuZDojZmZmO1wiPlByXHUwMEU5cGFyYXRpb24gZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uXHUyMDI2PC9ib2R5PjwvaHRtbD4nO1xuXG4gICAgLy8gRGVib3VuY2UgdXRpbGl0eVxuICAgIGNvbnN0IGRlYm91bmNlID0gKGZuLCBkZWxheSkgPT4ge1xuICAgICAgbGV0IHRpbWVvdXRJZDtcbiAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBmbiguLi5hcmdzKSwgZGVsYXkpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gQXV0by1zYXZlIHBvdXIgbCdhcHBhcmVuY2UgKGltbVx1MDBFOWRpYXQgcG91ciBcdTAwRTl2aXRlciBsZXMgcGVydGVzKVxuICAgIGNvbnN0IGF1dG9TYXZlQXBwZWFyYW5jZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgY29uc3QgeyBibG9ja3M6IHVwZGF0ZWRCbG9ja3MsIGRpZFVwZGF0ZSwgZm91bmRQYXJlbnRJZCB9ID0gdXBkYXRlQmxvY2tzRGVlcChcbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdLFxuICAgICAgICBibG9jay5pZCxcbiAgICAgICAgKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgICByZXR1cm4geyAuLi5lbnRyeSwgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyB9O1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkLFxuICAgICAgKTtcbiAgICAgIGlmICghZGlkVXBkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBmb3VuZFBhcmVudElkO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmV2aWV3IGVycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yKTtcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdFcnJldXIgcHJldmlldycpO1xuICAgICAgICAgIHByZXZpZXdGcmFtZS5zcmNkb2MgPVxuICAgICAgICAgICAgJzwhRE9DVFlQRSBodG1sPjxodG1sPjxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6SW50ZXIsc2Fucy1zZXJpZjtwYWRkaW5nOjQwcHg7Y29sb3I6I2JlMTIzYztiYWNrZ3JvdW5kOiNmZmY7XCI+RXJyZXVyIGxvcnMgZHUgcmVuZHUgZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uLjwvYm9keT48L2h0bWw+JztcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPT09IGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IGFsdFZhbHVlID0gKHZhbHVlcy5hbHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgdmFsdWVzLmFsdCA9IGFsdFZhbHVlO1xuICAgICAgICBpZiAoIWFsdFZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBam91dGUgdW4gdGV4dGUgYWx0ZXJuYXRpZiBwb3VyIGNldHRlIGltYWdlLicsICdlcnJvcicpO1xuICAgICAgICAgIGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpbWFnZS1hbHRcIl0nKT8uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGlmICghdmFsdWVzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5saW1pdCA9IE1hdGgubWF4KDEsIE51bWJlcih2YWx1ZXMubGltaXQpIHx8IDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBibG9ja3M6IHVwZGF0ZWRCbG9ja3MsIGRpZFVwZGF0ZSwgZm91bmRQYXJlbnRJZCB9ID0gdXBkYXRlQmxvY2tzRGVlcChcbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdLFxuICAgICAgICBibG9jay5pZCxcbiAgICAgICAgKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSB7XG4gICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoY29uZmlnLmxhYmVsRmllbGQgJiYgdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXSkge1xuICAgICAgICAgICAgdXBkYXRlZEJsb2NrLmxhYmVsID0gdmFsdWVzW2NvbmZpZy5sYWJlbEZpZWxkXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbmZpZy5kZXNjcmlwdGlvbkZpZWxkICYmIHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF0pIHtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5kZXNjcmlwdGlvbiA9IHZhbHVlc1tjb25maWcuZGVzY3JpcHRpb25GaWVsZF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICB1cGRhdGVkQmxvY2suY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSB2YWx1ZXMuY29sbGVjdGlvbklkO1xuICAgICAgICAgICAgdXBkYXRlZEJsb2NrLnNldHRpbmdzLmxpbWl0ID0gdmFsdWVzLmxpbWl0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdXBkYXRlZEJsb2NrO1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkLFxuICAgICAgKTtcbiAgICAgIGlmICghZGlkVXBkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBmb3VuZFBhcmVudElkO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3ModXBkYXRlZEJsb2Nrcyk7XG4gICAgICBzaG93VG9hc3QoJ0Jsb2MgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgfTtcbiAgICBjb25zdCBkcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlcl0nKTtcbiAgICBjb25zdCBkcmF3ZXJCYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtZHJhd2VyLWJhY2tkcm9wXScpO1xuICAgIGNvbnN0IGRyYXdlck9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItb3Blbl0nKTtcbiAgICBjb25zdCBkcmF3ZXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWRyYXdlci1jbG9zZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdG9nZ2xlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZm9ybV0nKTtcbiAgICBjb25zdCBhZGRQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtdGl0bGVdJyk7XG4gICAgY29uc3QgYWRkUGFnZVNsdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1zbHVnXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgYWRkUGFnZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtZXJyb3JdJyk7XG4gICAgY29uc3QgYWRkUGFnZVN1Ym1pdEJ1dHRvbiA9IGFkZFBhZ2VGb3JtPy5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIC8vIEltcG9ydCBKU09OIGVsZW1lbnRzXG4gICAgY29uc3QgaW1wb3J0VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhZ2VzLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBpbXBvcnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1tb2RhbF0nKTtcbiAgICBjb25zdCBpbXBvcnRDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtbW9kYWwtY2xvc2VdJyk7XG4gICAgY29uc3QgaW1wb3J0RHJvcHpvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZHJvcHpvbmVdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgaW1wb3J0RmlsZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1saXN0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVOYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLW5hbWVzXScpO1xuICAgIGNvbnN0IGltcG9ydFJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0c10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1yZXN1bHRzLWNvbnRlbnRdJyk7XG4gICAgY29uc3QgaW1wb3J0U3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXN1Ym1pdF0nKTtcbiAgICBjb25zdCBpbXBvcnRUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXRhYl0nKTtcbiAgICBjb25zdCBpbXBvcnRQYW5lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1pbXBvcnQtcGFuZWxdJyk7XG4gICAgY29uc3QgY29weVByb21wdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvcHktcHJvbXB0XScpO1xuICAgIGNvbnN0IGNvcHlUZW1wbGF0ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvcHktdGVtcGxhdGVdJyk7XG4gICAgY29uc3QgdGVtcGxhdGVKc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtanNvbl0nKTtcbiAgICBjb25zdCBpbXBvcnRBaVByb21wdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1haS1wcm9tcHRdJyk7XG4gICAgLy8gUGFzdGUgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFBhc3RlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUZvcm1hdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm1hdC1qc29uXScpO1xuICAgIGNvbnN0IHBhc3RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcGFzdGUtZXJyb3JdJyk7XG4gICAgbGV0IGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgLy8gRGVsZXRlIHBhZ2UgZWxlbWVudHNcbiAgICBjb25zdCBkZWxldGVQYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1tb2RhbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVQYWdlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlbGV0ZS1wYWdlLWNvbmZpcm1dJyk7XG4gICAgbGV0IHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgY29uc3Qgc2l0ZUtleSA9XG4gICAgICBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICdkZWZhdWx0JykgfHwgJ2RlZmF1bHQnO1xuICAgIGNvbnN0IHNpdGVTbHVnVmFsdWUgPSB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnO1xuICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHNpdGVTbHVnVmFsdWUpIHx8ICcnO1xuICAgIGNvbnN0IHBhZ2VzQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9wYWdlc2BcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29sbGVjdGlvbnNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgICBhY3RpdmU6IGBjbG93ZXI6YWN0aXZlUGFnZToke3NpdGVLZXl9YCxcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZUJsb2NrID0gKGlkLCBsYWJlbCwgdHlwZSwgc3RhdHVzLCBkZXNjcmlwdGlvbiwgcHJvcHMgPSBbXSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2sgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLnNldHRpbmdzIH0sXG4gICAgICB9O1xuICAgICAgaWYgKGJsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCkge1xuICAgICAgICBibG9jay5jb2xsZWN0aW9uSWQgPSBibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfTtcbiAgICBjb25zdCBibG9ja0xpYnJhcnlEZWZpbml0aW9ucyA9IHtcbiAgICAgIGhlcm86IHtcbiAgICAgICAgdHlwZTogJ0hlcm8nLFxuICAgICAgICBsYWJlbDogJ0hlcm8gZGUgcGFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdGlvbiBwbGVpbmUgbGFyZ2V1ciBhdmVjIENUQSBwcmluY2lwYWwuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnQ1RBJywgdmFsdWU6ICdEXHUwMEU5Y291dnJpcicgfSxcbiAgICAgICAgICB7IGxhYmVsOiAnSGF1dGV1cicsIHZhbHVlOiAnODB2aCcgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGR1IGhlcm8nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ0RcdTAwRTljb3V2cmlyJyxcbiAgICAgICAgICBjdGFVcmw6ICcjJyxcbiAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICB0eXBlOiAnUGFyYWdyYXBoZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBcdTAwRTlkaXRvcmlhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGFyYWdyYXBoZSBsaWJyZSBwb3VyIHJhY29udGVyIHZvdHJlIGhpc3RvaXJlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcxNTAgbW90cycgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBwYXJhZ3JhcGhlJyxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgIGxhYmVsOiAnQmxvYyBpbWFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlzdWVsIHNldWwgYXZlYyBsXHUwMEU5Z2VuZGUgb3B0aW9ubmVsbGUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICB7IGxhYmVsOiAnUmF0aW8nLCB2YWx1ZTogJzE2OjknIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0xcdTAwRTlnZW5kZScsIHZhbHVlOiAnSW5hY3RpdmUnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgICBhbHQ6ICcnLFxuICAgICAgICAgIHNob3dDYXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBjYXB0aW9uOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBncm91cDoge1xuICAgICAgICB0eXBlOiAnR3JvdXBlJyxcbiAgICAgICAgbGFiZWw6ICdHcm91cGUgZGUgc2VjdGlvbnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnRlbmV1ciBwb3VyIGltYnJpcXVlciBwbHVzaWV1cnMgc291cy1ibG9jcy4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdEaXNwb3NpdGlvbicsIHZhbHVlOiAnVmVydGljYWxlJyB9XSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICczJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sbGVjdGlvbmdyaWQ6IHtcbiAgICAgICAgdHlwZTogJ0NvbGxlY3Rpb25HcmlkJyxcbiAgICAgICAgbGFiZWw6ICdHcmlsbGUgZGUgY29udGVudXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FmZmljaGUgYXV0b21hdGlxdWVtZW50IGxlcyBpdGVtcyBkXHUyMDE5dW5lIGNvbGxlY3Rpb24uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6ICcnLFxuICAgICAgICAgIGxpbWl0OiA2LFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHR5cGU6ICdGb3JtJyxcbiAgICAgICAgbGFiZWw6ICdGb3JtdWxhaXJlIGRlIGNvbnRhY3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zvcm11bGFpcmUgYXZlYyBlbnZvaSB2ZXJzIHVuIHNlcnZpY2UgZXh0ZXJuZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ0NvbnRhY3Rlei1ub3VzJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6ICcnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBzdWJtaXRMYWJlbDogJ0Vudm95ZXInLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnTWVyY2kgcG91ciB2b3RyZSBtZXNzYWdlICEnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDoge1xuICAgICAgICB0eXBlOiAnTmV3c2xldHRlckVtYmVkJyxcbiAgICAgICAgbGFiZWw6ICdOZXdzbGV0dGVyIC8gRW1iZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ludFx1MDBFOWdyYXRpb24gZFxcJ3VuIGZvcm11bGFpcmUgbmV3c2xldHRlciBleHRlcm5lIChCcmV2bywgTWFpbGNoaW1wXHUyMDI2KS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnUmVzdGV6IGluZm9ybVx1MDBFOScsXG4gICAgICAgICAgc2VydmljZU5hbWU6ICcnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY2FyZDoge1xuICAgICAgICB0eXBlOiAnQ2FyZCcsXG4gICAgICAgIGxhYmVsOiAnQ2FydGUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NhcnRlIGF2ZWMgaW1hZ2UsIHRleHRlIGV0IGxpZW4uJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1RpdHJlIGRlIGxhIGNhcnRlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgaW1hZ2U6ICcnLFxuICAgICAgICAgIGN0YVRleHQ6ICdEXHUwMEU5Y291dnJpcicsXG4gICAgICAgICAgY3RhVXJsOiAnIycsXG4gICAgICAgICAgYmc6ICdiZy1zbGF0ZS01MCcsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAncm91bmRlZC0yeGwnLFxuICAgICAgICAgIHNoYWRvdzogJ3NoYWRvdy1zbScsXG4gICAgICAgICAgYm9yZGVyOiAnYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAgdGhlbWUtYm9yZGVyLWFjY2VudCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgcGVyc2lzdEFjdGl2ZVBhZ2UgPSAocGFnZUlkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleXMuYWN0aXZlLCBwYWdlSWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qIGlnbm9yZSBzdG9yYWdlIGVycm9ycyAqL1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0U3RvcmVkQWN0aXZlUGFnZSA9IChwYWdlcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSk7XG4gICAgICAgIGlmIChzdG9yZWQgJiYgcGFnZXMuc29tZSgocGFnZSkgPT4gcGFnZS5pZCA9PT0gc3RvcmVkKSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYWdlc1swXT8uaWQgfHwgbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdEJsb2NrQ291bnQgPSAoY291bnQpID0+IHtcbiAgICAgIGlmICghY291bnQgfHwgY291bnQgPD0gMCkge1xuICAgICAgICByZXR1cm4gJzAgYmxvYyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnMSBibG9jJyA6IGAke2NvdW50fSBibG9jc2A7XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVQYWdlU2x1ZyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlID0gd29ya3NwYWNlU2x1Z2lmeSh2YWx1ZS5yZXBsYWNlKC9eXFwvLywgJycpKTtcbiAgICAgIHJldHVybiBiYXNlID8gYC8ke2Jhc2V9YCA6ICcvJztcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyYXRlQmxvY2tJZCA9IChwYWdlSWQgPSAncGFnZScsIGtleSA9ICdibG9jaycpID0+XG4gICAgICBgJHtwYWdlSWR9LSR7a2V5fS0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG4gICAgY29uc3QgY3JlYXRlSW5pdGlhbEJsb2NrcyA9IChwYWdlSWQsIHRpdGxlKSA9PiBbXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2ludHJvJyksXG4gICAgICAgICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAnUGFyYWdyYXBoZScsXG4gICAgICAgICdCcm91aWxsb24nLFxuICAgICAgICBgUGFyYWdyYXBoZSBpbnRyb2R1Y3RpZiBwb3VyIFwiJHt0aXRsZX1cIi5gLFxuICAgICAgICBbeyBsYWJlbDogJ0xvbmd1ZXVyJywgdmFsdWU6ICcyIHBhcmFncmFwaGVzJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBgSW50cm9kdWN0aW9uIFx1MDBFMCAke3RpdGxlfWAsXG4gICAgICAgICAgY29udGVudDogJ0Fqb3V0ZXogdm90cmUgcHJlbWllciBwYXJhZ3JhcGhlIGRlIHByXHUwMEU5c2VudGF0aW9uLicsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKHBhZ2VJZCwgJ2NvbnRlbnQnKSxcbiAgICAgICAgJ1pvbmUgZGUgY29udGVudScsXG4gICAgICAgICdHcm91cGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgJ1NlY3Rpb24gcHJpbmNpcGFsZSBcdTAwRTAgY29tcG9zZXIgYXZlYyB0ZXh0ZXMgZXQgdmlzdWVscy4nLFxuICAgICAgICBbeyBsYWJlbDogJ0NvbG9ubmVzJywgdmFsdWU6ICdBdXRvJyB9XSxcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dDogJ2dyaWQnLFxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICcxJyxcbiAgICAgICAgICBjb2x1bW5zRGVza3RvcDogJzInLFxuICAgICAgICAgIG1vYmlsZUxheW91dDogJ3N0YWNrJyxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgXTtcbiAgICBjb25zdCBzZXRBY3RpdmVMYWJlbHMgPSAocGFnZSkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRpdGxlKSB7XG4gICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgYWN0aXZlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlPy5uYW1lIHx8IHBhZ2U/LnRpdGxlIHx8ICdQYWdlJztcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVTbHVnKSB7XG4gICAgICAgIGFjdGl2ZVNsdWcudGV4dENvbnRlbnQgPSBwYWdlPy5zbHVnIHx8ICcvJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclByZXZpZXdNZXRhID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld1RhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1RhZ3MuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCB0YWdzID1cbiAgICAgICAgcGFnZSAmJiBwYWdlLmJhZGdlcyAmJiBwYWdlLmJhZGdlcy5sZW5ndGggPiAwID8gcGFnZS5iYWRnZXMgOiBbJ1N0cnVjdHVyZSBlbiBjb3VycyddO1xuICAgICAgdGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTMgcHktMSc7XG4gICAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gdGFnO1xuICAgICAgICBwcmV2aWV3VGFncy5hcHBlbmRDaGlsZChiYWRnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXR1c0JhZGdlQ2xhc3NlcyA9IChzdGF0dXMpID0+IHtcbiAgICAgIHN3aXRjaCAoKHN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdlbiBsaWduZSc6XG4gICAgICAgICAgcmV0dXJuICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAnO1xuICAgICAgICBjYXNlICdicm91aWxsb24nOlxuICAgICAgICAgIHJldHVybiAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckJsb2NrRGV0YWlscyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0RldGFpbEVtcHR5IHx8ICFibG9ja0VkaXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgIGJsb2NrRGV0YWlsRW1wdHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tFZGl0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpZiAoYmxvY2tEZXRhaWxTdGF0dXMpIHtcbiAgICAgICAgaWYgKGJsb2NrLnN0YXR1cykge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLnRleHRDb250ZW50ID0gYmxvY2suc3RhdHVzO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTmFtZSA9IGByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke2dldFN0YXR1c0JhZGdlQ2xhc3NlcyhcbiAgICAgICAgICAgIGJsb2NrLnN0YXR1cyxcbiAgICAgICAgICApfWA7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmxvY2tEZXRhaWxTdGF0dXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlYWRBY2NlbnRDb2xvciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3ItYWNjZW50Jyk7XG4gICAgICByZXR1cm4gY29tcHV0ZWQgPyBjb21wdXRlZC50cmltKCkgOiAnIzlDNkJGRic7XG4gICAgfTtcbiAgICBjb25zdCBhcHBseVByZXZpZXdIaWdobGlnaHQgPSAoYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9jID0gcHJldmlld0ZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vZGVzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctYmxvY2tdJyk7XG4gICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJldmlld0Jsb2NrID09PSBibG9ja0lkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICAgIGlmIChwcmV2aWV3UmVhZHkgJiYgYmxvY2tJZCkge1xuICAgICAgICAgICAgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmV2aWV3LWJsb2NrLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSkge1xuICAgICAgICBjb25zdCBhY2NlbnQgPSByZWFkQWNjZW50Q29sb3IoKTtcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUuYm9yZGVyQ29sb3IgPSBibG9ja0lkID8gYWNjZW50IDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgcHJldmlld0hpZ2hsaWdodE92ZXJsYXkuc3R5bGUub3BhY2l0eSA9IGJsb2NrSWQgPyAnMC41JyA6ICcwJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByZXZpZXdWaWV3UHJlc2V0cyA9IHtcbiAgICAgIGRlc2t0b3A6IHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnNjQwcHgnLCBtYXhXaWR0aDogJycsIG1hcmdpbjogJzAnIH0sXG4gICAgICBtb2JpbGU6IHsgd2lkdGg6ICczNzVweCcsIGhlaWdodDogJzc4MHB4JywgbWF4V2lkdGg6ICczNzVweCcsIG1hcmdpbjogJzAgYXV0bycgfSxcbiAgICB9O1xuICAgIGNvbnN0IHNldFByZXZpZXdWaWV3ID0gKHZpZXcpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHByZXZpZXdWaWV3UHJlc2V0c1t2aWV3XSA/IHZpZXcgOiAnZGVza3RvcCc7XG4gICAgICBwcmV2aWV3Vmlld0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnV0dG9uLmRhdGFzZXQucHJldmlld1ZpZXcgPT09IHRhcmdldDtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2JnLXNsYXRlLTkwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2JnLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTUwMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdiZy1zbGF0ZS05MDAnLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdiZy1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS01MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBzdHlsZXMgPSBwcmV2aWV3Vmlld1ByZXNldHNbdGFyZ2V0XTtcbiAgICAgIGlmIChwcmV2aWV3RnJhbWUpIHtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLndpZHRoID0gc3R5bGVzLndpZHRoO1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUuaGVpZ2h0ID0gc3R5bGVzLmhlaWdodDtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLm1heFdpZHRoID0gc3R5bGVzLm1heFdpZHRoO1xuICAgICAgICBwcmV2aWV3RnJhbWUuc3R5bGUubWFyZ2luID0gc3R5bGVzLm1hcmdpbjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aWV3RnJhbWVXcmFwcGVyKSB7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUubWluSGVpZ2h0ID0gc3R5bGVzLmhlaWdodDtcbiAgICAgICAgcHJldmlld0ZyYW1lV3JhcHBlci5zdHlsZS5tYXhXaWR0aCA9IHN0eWxlcy5tYXhXaWR0aCB8fCAnMTAwJSc7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld1NoZWxsKSB7XG4gICAgICAgIHByZXZpZXdTaGVsbC5kYXRhc2V0LnByZXZpZXdTaGVsbFZpZXcgPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld0N1cnJlbnRWaWV3TGFiZWwpIHtcbiAgICAgICAgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwudGV4dENvbnRlbnQgPSB0YXJnZXQgPT09ICdtb2JpbGUnID8gJ1Z1ZSBtb2JpbGUnIDogJ1Z1ZSBidXJlYXUnO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gRm9uY3Rpb24gcG91ciBjclx1MDBFOWVyIHVuIFx1MDBFOWxcdTAwRTltZW50IGRlIGJsb2MgKHV0aWxpc1x1MDBFOSBwb3VyIGxlcyBibG9jcyBldCBsZXMgZW5mYW50cyBkZSBncm91cGUpXG4gICAgY29uc3QgY3JlYXRlQmxvY2tJdGVtRWxlbWVudCA9IChibG9jaywgaXNOZXN0ZWQgPSBmYWxzZSwgcGFyZW50SWQgPSBudWxsKSA9PiB7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkO1xuICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBpc0dyb3VwID0gYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcgfHwgYmxvY2tUeXBlID09PSAnc2VjdGlvbnMnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyaWQnO1xuICAgICAgXG4gICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBpdGVtLmRhdGFzZXQuYmxvY2tJdGVtID0gJ3RydWUnO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSWQgPSBibG9jay5pZDtcbiAgICAgIGlmIChwYXJlbnRJZCkgaXRlbS5kYXRhc2V0LnBhcmVudEJsb2NrSWQgPSBwYXJlbnRJZDtcbiAgICAgIGlmIChpc0dyb3VwKSBpdGVtLmRhdGFzZXQuaXNHcm91cCA9ICd0cnVlJztcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICBpdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgIGl0ZW0uY2xhc3NOYW1lID0gW1xuICAgICAgICAncmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBncm91cCcsXG4gICAgICAgIGlzTmVzdGVkID8gJ21sLTYgYm9yZGVyLWRhc2hlZCcgOiAnJyxcbiAgICAgICAgaXNBY3RpdmVcbiAgICAgICAgICA/ICdiZy1zbGF0ZS0xMDAgYm9yZGVyLVsjOUM2QkZGXS80MCBzaGFkb3ctc20nXG4gICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgIF0uam9pbignICcpO1xuICAgICAgXG4gICAgICBjb25zdCBhY2NlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBhY2NlbnQuY2xhc3NOYW1lID0gYGFic29sdXRlIGluc2V0LXktMiBsZWZ0LTAgdy0xIHJvdW5kZWQtZnVsbCBiZy1bIzlDNkJGRl0gJHtpc0FjdGl2ZSA/ICcnIDogJ2hpZGRlbid9YDtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWNjZW50KTtcblxuICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGVudC5jbGFzc05hbWUgPSAnZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGdhcC0zJztcbiAgICAgIFxuICAgICAgY29uc3QgaGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBoYW5kbGUuY2xhc3NOYW1lID0gJ2hpZGRlbiBsZzpmbGV4IGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIgdGV4dC1sZyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXNsYXRlLTYwMCB0cmFuc2l0aW9uLWNvbG9ycyBzZWxlY3Qtbm9uZSc7XG4gICAgICBoYW5kbGUuaW5uZXJIVE1MID0gJ1x1MjJFRVx1MjJFRSc7XG4gICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCd0aXRsZScsICdHbGlzc2VyIHBvdXIgclx1MDBFOW9yZG9ubmVyJyk7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhhbmRsZSk7XG5cbiAgICAgIGNvbnN0IHRleHRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZXh0V3JhcHBlci5jbGFzc05hbWUgPSAnZmxleC0xJztcbiAgICAgIFxuICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbWV0YS5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgXG4gICAgICBjb25zdCB0eXBlQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0eXBlQmFkZ2UuY2xhc3NOYW1lID0gJ3JvdW5kZWQtZnVsbCBiZy1zbGF0ZS0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB0eXBlQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay50eXBlO1xuICAgICAgXG4gICAgICBjb25zdCBzdGF0dXNCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9ICd0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgIFxuICAgICAgbWV0YS5hcHBlbmRDaGlsZCh0eXBlQmFkZ2UpO1xuICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IChibG9jay5jaGlsZHJlbiB8fCBbXSkubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaGlsZEJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjaGlsZEJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTEwMCBweC0yIHB5LTAuNSB0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtdmlvbGV0LTYwMCc7XG4gICAgICAgIGNoaWxkQmFkZ2UudGV4dENvbnRlbnQgPSBgJHtjaGlsZENvdW50fSBcdTAwRTlsXHUwMEU5bWVudCR7Y2hpbGRDb3VudCAhPT0gMSA/ICdzJyA6ICcnfWA7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoY2hpbGRCYWRnZSk7XG4gICAgICB9XG4gICAgICBtZXRhLmFwcGVuZENoaWxkKHN0YXR1c0JhZGdlKTtcbiAgICAgIFxuICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICB0aXRsZS5jbGFzc05hbWUgPSAnbXQtMSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAnO1xuICAgICAgY29uc3QgZGlzcGxheUxhYmVsID0gKGJsb2NrLnNldHRpbmdzICYmIGJsb2NrLnNldHRpbmdzLnRpdGxlKSB8fCBibG9jay5sYWJlbCB8fCAnQmxvYyBzYW5zIHRpdHJlJztcbiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gZGlzcGxheUxhYmVsO1xuICAgICAgXG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChtZXRhKTtcbiAgICAgIHRleHRXcmFwcGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgIFxuICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2NvbGxlY3Rpb25ncmlkJyAmJiBibG9jay5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGJsb2NrLmNvbGxlY3Rpb25JZCk/Lm5hbWUgfHwgYmxvY2suY29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBpbmZvLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uIDogJHtjb2xsZWN0aW9uTmFtZX1gO1xuICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0ZXh0V3JhcHBlcik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBhY3Rpb25zLmNsYXNzTmFtZSA9ICdmbGV4IGZsZXgtY29sIGdhcC0xIHRleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuXG4gICAgICBjb25zdCBtb3ZlQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbW92ZUJ1dHRvbnMuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGxnOmhpZGRlbic7XG4gICAgICBjb25zdCBtb3ZlVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVVcC50eXBlID0gJ2J1dHRvbic7XG4gICAgICBtb3ZlVXAuY2xhc3NOYW1lID0gJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgbW92ZVVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICBtb3ZlVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQocGFyZW50SWQsIGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIC0xKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBtb3ZlRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgbW92ZURvd24udHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZURvd24uY2xhc3NOYW1lID0gJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS01MDAnO1xuICAgICAgbW92ZURvd24udGV4dENvbnRlbnQgPSAnXHUyMTkzJztcbiAgICAgIG1vdmVEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2suaWQsIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1vdmVCdXR0b25zLmFwcGVuZENoaWxkKG1vdmVVcCk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlRG93bik7XG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKG1vdmVCdXR0b25zKTtcblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBkZWxldGVCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHB4LTIgcHktMSB0ZXh0LVsxMnB4XSB0ZXh0LXJvc2UtNTAwIGhvdmVyOnRleHQtcm9zZS03MDAnO1xuICAgICAgZGVsZXRlQnV0dG9uLmlubmVySFRNTCA9ICdcdUQ4M0RcdURERDFcdUZFMEYnO1xuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICByZW1vdmVDaGlsZEZyb21Hcm91cChwYXJlbnRJZCwgYmxvY2suaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XG5cbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHNldEFjdGl2ZUJsb2NrKGJsb2NrLmlkLCBwYXJlbnRJZCk7XG4gICAgICB9KTtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgaXRlbSwgaXNHcm91cCwgYmxvY2sgfTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciBsYSB6b25lIGRlIGRyb3AgcG91ciB1biBncm91cGVcbiAgICBjb25zdCBjcmVhdGVHcm91cERyb3Bab25lID0gKHBhcmVudEJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBkcm9wWm9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZHJvcFpvbmUuZGF0YXNldC5ncm91cERyb3Bab25lID0gcGFyZW50QmxvY2suaWQ7XG4gICAgICBkcm9wWm9uZS5jbGFzc05hbWUgPSAnbWwtNiBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1zbGF0ZS0yMDAgcm91bmRlZC14bCBwLTMgdGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBob3Zlcjpib3JkZXItdmlvbGV0LTMwMCBob3ZlcjpiZy12aW9sZXQtNTAvNTAgdHJhbnNpdGlvbi1jb2xvcnMgY3Vyc29yLXBvaW50ZXInO1xuICAgICAgZHJvcFpvbmUuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwicG9pbnRlci1ldmVudHMtbm9uZVwiPlx1RDgzRFx1RENFNiBHbGlzc2V6IHVuIGJsb2MgaWNpIG91IGNsaXF1ZXogcG91ciBham91dGVyPC9zcGFuPic7XG4gICAgICBcbiAgICAgIC8vIFx1MDBDOXZcdTAwRTluZW1lbnRzIGRlIGRyYWcgJiBkcm9wXG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICB9KTtcbiAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgICAgY29uc3QgYmxvY2tJZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICAgICAgaWYgKGJsb2NrSWQgJiYgYmxvY2tJZCAhPT0gcGFyZW50QmxvY2suaWQpIHtcbiAgICAgICAgICBtb3ZlQmxvY2tUb0dyb3VwKGJsb2NrSWQsIHBhcmVudEJsb2NrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENsaWMgcG91ciBham91dGVyIHVuIGJsb2MgYXUgZ3JvdXBlXG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgb3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsKHBhcmVudEJsb2NrLmlkKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gZHJvcFpvbmU7XG4gICAgfTtcblxuXHQgICAgY29uc3QgcmVuZGVyQmxvY2tMaXN0ID0gKHBhZ2UpID0+IHtcblx0ICAgICAgaWYgKCFibG9ja0xpc3QpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cbiAgICAgIGJsb2NrTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnN0IGJsb2NrcyA9IHBhZ2U/LmJsb2NrcyB8fCBbXTtcbiAgICAgIGlmIChibG9ja0NvdW50QmFkZ2UpIHtcbiAgICAgICAgYmxvY2tDb3VudEJhZGdlLnRleHRDb250ZW50ID0gZm9ybWF0QmxvY2tDb3VudChibG9ja3MubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2NrTGlzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpc3RFbXB0eT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBcbiAgICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBjb25zdCB7IGl0ZW0sIGlzR3JvdXAgfSA9IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQoYmxvY2ssIGZhbHNlLCBudWxsKTtcbiAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2kgYydlc3QgdW4gZ3JvdXBlLCBhZmZpY2hlciBsZXMgZW5mYW50cyBldCBsYSB6b25lIGRlIGRyb3BcbiAgICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGJsb2NrLmNoaWxkcmVuIHx8IFtdO1xuICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGl0ZW06IGNoaWxkSXRlbSB9ID0gY3JlYXRlQmxvY2tJdGVtRWxlbWVudChjaGlsZCwgdHJ1ZSwgYmxvY2suaWQpO1xuICAgICAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGNoaWxkSXRlbSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gWm9uZSBkZSBkcm9wIHBvdXIgYWpvdXRlciBkZXMgYmxvY3MgYXUgZ3JvdXBlXG4gICAgICAgICAgY29uc3QgZHJvcFpvbmUgPSBjcmVhdGVHcm91cERyb3Bab25lKGJsb2NrKTtcbiAgICAgICAgICBibG9ja0xpc3QuYXBwZW5kQ2hpbGQoZHJvcFpvbmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBcblx0ICAgIC8vIEZvbmN0aW9ucyBwb3VyIGdcdTAwRTlyZXIgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcblx0ICAgIGNvbnN0IGZpbmRDaGlsZExvY2F0aW9uID0gKGNoaWxkSWQpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhY2hpbGRJZCkgcmV0dXJuIG51bGw7XG5cdCAgICAgIGZvciAobGV0IGdyb3VwSW5kZXggPSAwOyBncm91cEluZGV4IDwgY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aDsgZ3JvdXBJbmRleCsrKSB7XG5cdCAgICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1tncm91cEluZGV4XTtcblx0ICAgICAgICBjb25zdCBncm91cFR5cGUgPSAoZ3JvdXBCbG9jaz8udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBjb25zdCBpc0dyb3VwID1cblx0ICAgICAgICAgIGdyb3VwVHlwZSA9PT0gJ2dyb3VwZScgfHwgZ3JvdXBUeXBlID09PSAnZ3JvdXAnIHx8IGdyb3VwVHlwZSA9PT0gJ3NlY3Rpb25zJyB8fCBncm91cFR5cGUgPT09ICdncmlkJztcblx0ICAgICAgICBpZiAoIWlzR3JvdXAgfHwgIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIGNvbnRpbnVlO1xuXHQgICAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBjaGlsZElkKTtcblx0ICAgICAgICBpZiAoY2hpbGRJbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICAgIHJldHVybiB7IGdyb3VwSWQ6IGdyb3VwQmxvY2suaWQsIGdyb3VwSW5kZXgsIGNoaWxkSW5kZXggfTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9O1xuXHQgICAgY29uc3QgZXh0cmFjdEJsb2NrQnlJZCA9IChibG9ja0lkKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQpIHJldHVybiBudWxsO1xuXHQgICAgICBjb25zdCByb290SW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSBibG9ja0lkKTtcblx0ICAgICAgaWYgKHJvb3RJbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICBjb25zdCBbYmxvY2tdID0gY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShyb290SW5kZXgsIDEpO1xuXHQgICAgICAgIHJldHVybiB7IGJsb2NrLCBmcm9tOiB7IHR5cGU6ICdyb290JywgaW5kZXg6IHJvb3RJbmRleCB9IH07XG5cdCAgICAgIH1cblx0ICAgICAgY29uc3QgY2hpbGRMb2MgPSBmaW5kQ2hpbGRMb2NhdGlvbihibG9ja0lkKTtcblx0ICAgICAgaWYgKCFjaGlsZExvYykgcmV0dXJuIG51bGw7XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gY2hpbGRMb2MuZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgcmV0dXJuIG51bGw7XG5cdCAgICAgIGNvbnN0IFtibG9ja10gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjaGlsZExvYy5jaGlsZEluZGV4LCAxKTtcblx0ICAgICAgcmV0dXJuIHsgYmxvY2ssIGZyb206IHsgdHlwZTogJ2dyb3VwJywgZ3JvdXBJZDogY2hpbGRMb2MuZ3JvdXBJZCwgaW5kZXg6IGNoaWxkTG9jLmNoaWxkSW5kZXggfSB9O1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGluc2VydEJsb2NrSW50b1Jvb3QgPSAoYmxvY2ssIGluZGV4KSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IHNhZmVJbmRleCA9IE1hdGgubWluKE1hdGgubWF4KDAsIGluZGV4ID8/IGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgY3VycmVudFBhZ2UuYmxvY2tzLnNwbGljZShzYWZlSW5kZXgsIDAsIGJsb2NrKTtcblx0ICAgIH07XG5cdCAgICBjb25zdCBpbnNlcnRCbG9ja0ludG9Hcm91cCA9IChibG9jaywgZ3JvdXBJZCwgaW5kZXgpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2sgfHwgIWdyb3VwSWQpIHJldHVybiBmYWxzZTtcblx0ICAgICAgY29uc3QgZ3JvdXBCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChiKSA9PiBiLmlkID09PSBncm91cElkKTtcblx0ICAgICAgaWYgKCFncm91cEJsb2NrKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuXHQgICAgICBjb25zdCBzYWZlSW5kZXggPSBNYXRoLm1pbihcblx0ICAgICAgICBNYXRoLm1heCgwLCBpbmRleCA/PyBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aCksXG5cdCAgICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGgsXG5cdCAgICAgICk7XG5cdCAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKHNhZmVJbmRleCwgMCwgYmxvY2spO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH07XG5cdCAgICBjb25zdCBnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbiA9IChiYXNlSW5kZXgsIHBvc2l0aW9uLCBvZmZzZXRXaGVuQWZ0ZXIgPSAxKSA9PiB7XG5cdCAgICAgIGlmICh0eXBlb2YgYmFzZUluZGV4ICE9PSAnbnVtYmVyJyB8fCBiYXNlSW5kZXggPCAwKSByZXR1cm4gbnVsbDtcblx0ICAgICAgcmV0dXJuIHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IGJhc2VJbmRleCA6IGJhc2VJbmRleCArIG9mZnNldFdoZW5BZnRlcjtcblx0ICAgIH07XG5cdCAgICBjb25zdCBjb21taXRCbG9ja3NDaGFuZ2UgPSAoYWN0aXZlSWQgPSBudWxsLCBhY3RpdmVQYXJlbnRJZCA9IG51bGwsIHRvYXN0TWVzc2FnZSA9IG51bGwpID0+IHtcblx0ICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcblx0ICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcblx0ICAgICAgaWYgKGFjdGl2ZUlkKSB7XG5cdCAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlSWQsIGFjdGl2ZVBhcmVudElkKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodG9hc3RNZXNzYWdlKSB7XG5cdCAgICAgICAgc2hvd1RvYXN0KHRvYXN0TWVzc2FnZSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIGNvbnN0IG1vdmVCbG9ja1RvR3JvdXAgPSAoYmxvY2tJZCwgZ3JvdXBJZCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG5cdCAgICAgIGlmICghYmxvY2tJZCB8fCAhZ3JvdXBJZCB8fCBibG9ja0lkID09PSBncm91cElkKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jaykgcmV0dXJuO1xuXHQgICAgICBcblx0ICAgICAgLy8gTmUgcGFzIHBlcm1ldHRyZSBkZSBkXHUwMEU5cGxhY2VyIHVuIGdyb3VwZSBkYW5zIHVuIGdyb3VwZVxuXHQgICAgICBjb25zdCBleHRyYWN0ZWQgPSBleHRyYWN0QmxvY2tCeUlkKGJsb2NrSWQpO1xuXHQgICAgICBpZiAoIWV4dHJhY3RlZD8uYmxvY2spIHJldHVybjtcblx0ICAgICAgY29uc3QgYmxvY2tUeXBlID0gKGV4dHJhY3RlZC5ibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICBpZiAoYmxvY2tUeXBlID09PSAnZ3JvdXBlJyB8fCBibG9ja1R5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZFxcJ2ltYnJpcXVlciBkZXMgZ3JvdXBlcycsICdlcnJvcicpO1xuXHQgICAgICAgIC8vIFJlbWV0dHJlIGxlIGJsb2MgXHUwMEUwIHNhIHBsYWNlIGQnb3JpZ2luZVxuXHQgICAgICAgIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ3Jvb3QnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Sb290KGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdncm91cCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b0dyb3VwKGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCwgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgXG5cdCAgICAgIC8vIERcdTAwRTlqXHUwMEUwIGRhbnMgY2UgZ3JvdXBlIFx1MjE5MiBuby1vcFxuXHQgICAgICBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdncm91cCcgJiYgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCA9PT0gZ3JvdXBJZCkge1xuXHQgICAgICAgIGluc2VydEJsb2NrSW50b0dyb3VwKGV4dHJhY3RlZC5ibG9jaywgZXh0cmFjdGVkLmZyb20uZ3JvdXBJZCwgZXh0cmFjdGVkLmZyb20uaW5kZXgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuXHQgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnB1c2goZXh0cmFjdGVkLmJsb2NrKTtcblx0ICAgICAgY29tbWl0QmxvY2tzQ2hhbmdlKGV4dHJhY3RlZC5ibG9jay5pZCwgZ3JvdXBJZCwgYEJsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlYCk7XG5cdCAgICB9O1xuXHQgICAgXG5cdCAgICBjb25zdCByZW1vdmVDaGlsZEZyb21Hcm91cCA9IChncm91cElkLCBjaGlsZElkKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcbiAgICAgIGlmIChjaGlsZEluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBSZXRpcmVyIGwnZW5mYW50IGR1IGdyb3VwZSBldCBsZSByZW1ldHRyZSBkYW5zIGxhIGxpc3RlIHByaW5jaXBhbGUgYXByXHUwMEU4cyBsZSBncm91cGVcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAxKTtcbiAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSBncm91cElkKTtcbiAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2UoZ3JvdXBJbmRleCArIDEsIDAsIGNoaWxkKTtcbiAgICAgIFxuXHQgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuXHQgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuXHQgICAgICBzaG93VG9hc3QoYEJsb2Mgc29ydGkgZHUgZ3JvdXBlYCk7XG5cdCAgICB9O1xuXG5cdCAgICBjb25zdCBtb3ZlQ2hpbGRGcm9tR3JvdXBUb1Jvb3RBdCA9IChncm91cElkLCBjaGlsZElkLCBpbnNlcnRJbmRleCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBjaGlsZEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuXHQgICAgICBpZiAoY2hpbGRJbmRleCA9PT0gLTEpIHJldHVybjtcblx0ICAgICAgY29uc3QgW2NoaWxkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuXHQgICAgICBpbnNlcnRCbG9ja0ludG9Sb290KGNoaWxkLCBpbnNlcnRJbmRleCk7XG5cdCAgICAgIGNvbW1pdEJsb2Nrc0NoYW5nZShjaGlsZC5pZCwgbnVsbCwgJ0Jsb2Mgc29ydGkgZHUgZ3JvdXBlJyk7XG5cdCAgICB9O1xuXG5cdCAgICBjb25zdCBtb3ZlQ2hpbGRXaXRoaW5Hcm91cCA9IChncm91cElkLCBjaGlsZElkLCB0YXJnZXRDaGlsZElkLCBwb3NpdGlvbikgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jayB8fCAhQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBmcm9tSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG5cdCAgICAgIGNvbnN0IHRvSW5kZXhCYXNlID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IHRhcmdldENoaWxkSWQpO1xuXHQgICAgICBpZiAoZnJvbUluZGV4ID09PSAtMSB8fCB0b0luZGV4QmFzZSA9PT0gLTEgfHwgY2hpbGRJZCA9PT0gdGFyZ2V0Q2hpbGRJZCkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBbbW92ZWRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoZnJvbUluZGV4LCAxKTtcblx0ICAgICAgY29uc3QgYWRqdXN0ZWRUb0luZGV4QmFzZSA9IGZyb21JbmRleCA8IHRvSW5kZXhCYXNlID8gdG9JbmRleEJhc2UgLSAxIDogdG9JbmRleEJhc2U7XG5cdCAgICAgIGNvbnN0IGluc2VydEluZGV4ID1cblx0ICAgICAgICBwb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyBhZGp1c3RlZFRvSW5kZXhCYXNlIDogYWRqdXN0ZWRUb0luZGV4QmFzZSArIDE7XG5cdCAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGluc2VydEluZGV4LCAwLCBtb3ZlZCk7XG5cdCAgICAgIGNvbW1pdEJsb2Nrc0NoYW5nZShtb3ZlZC5pZCwgZ3JvdXBJZCwgbnVsbCk7XG5cdCAgICB9O1xuXG5cdCAgICBjb25zdCBtb3ZlQW55QmxvY2tUb0dyb3VwQXQgPSAoYmxvY2tJZCwgZ3JvdXBJZCwgdGFyZ2V0Q2hpbGRJZCwgcG9zaXRpb24pID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuXHQgICAgICBpZiAoIWJsb2NrSWQgfHwgIWdyb3VwSWQpIHJldHVybjtcblx0ICAgICAgY29uc3QgZXh0cmFjdGVkID0gZXh0cmFjdEJsb2NrQnlJZChibG9ja0lkKTtcblx0ICAgICAgaWYgKCFleHRyYWN0ZWQ/LmJsb2NrKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChleHRyYWN0ZWQuYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgc2hvd1RvYXN0KFwiSW1wb3NzaWJsZSBkJ2ltYnJpcXVlciBkZXMgZ3JvdXBlc1wiLCAnZXJyb3InKTtcblx0ICAgICAgICBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdyb290Jykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvUm9vdChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Hcm91cChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQsIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jaykge1xuXHQgICAgICAgIC8vIFJlbWV0dHJlIGxlIGJsb2Ncblx0ICAgICAgICBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdyb290Jykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvUm9vdChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Hcm91cChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQsIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghQXJyYXkuaXNBcnJheShncm91cEJsb2NrLmNoaWxkcmVuKSkgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuXHQgICAgICBsZXQgaW5zZXJ0SW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aDtcblx0ICAgICAgaWYgKHRhcmdldENoaWxkSWQpIHtcblx0ICAgICAgICBjb25zdCB0YXJnZXRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSB0YXJnZXRDaGlsZElkKTtcblx0ICAgICAgICBjb25zdCByZXNvbHZlZCA9IGdldEluc2VydEluZGV4RnJvbVBvc2l0aW9uKHRhcmdldEluZGV4LCBwb3NpdGlvbiwgMSk7XG5cdCAgICAgICAgaWYgKHJlc29sdmVkICE9PSBudWxsKSBpbnNlcnRJbmRleCA9IHJlc29sdmVkO1xuXHQgICAgICB9XG5cdCAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGluc2VydEluZGV4LCAwLCBleHRyYWN0ZWQuYmxvY2spO1xuXHQgICAgICBjb21taXRCbG9ja3NDaGFuZ2UoZXh0cmFjdGVkLmJsb2NrLmlkLCBncm91cElkLCAnQmxvYyBham91dFx1MDBFOSBhdSBncm91cGUnKTtcblx0ICAgIH07XG4gICAgXG4gICAgY29uc3QgbW92ZUNoaWxkQmxvY2tCeU9mZnNldCA9IChncm91cElkLCBjaGlsZElkLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcbiAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIWdyb3VwQmxvY2suY2hpbGRyZW4pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50SW5kZXggKyBvZmZzZXQ7XG4gICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjdXJyZW50SW5kZXgsIDEpO1xuICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgIFxuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwgPSAoZ3JvdXBJZCkgPT4ge1xuICAgICAgLy8gVXRpbGlzZXIgbGUgbVx1MDBFQW1lIG1vZGFsIGQnYWpvdXQgZGUgYmxvYywgbWFpcyBhdmVjIGxlIGNvbnRleHRlIGR1IGdyb3VwZVxuICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IGdyb3VwSWQ7XG4gICAgICBvcGVuQmxvY2tQaWNrZXIoKTtcbiAgICB9O1xuICAgIFxuICAgIGxldCBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcblxuICAgIC8vID09PSBEZWxldGUgcGFnZSBoYW5kbGVycyAoZGVmaW5lZCBiZWZvcmUgcmVuZGVyUGFnZUxpc3RzKSA9PT1cbiAgICBjb25zdCBvcGVuRGVsZXRlUGFnZU1vZGFsID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghZGVsZXRlUGFnZU1vZGFsIHx8ICFwYWdlKSByZXR1cm47XG4gICAgICBwYWdlVG9EZWxldGUgPSBwYWdlO1xuICAgICAgaWYgKGRlbGV0ZVBhZ2VOYW1lKSBkZWxldGVQYWdlTmFtZS50ZXh0Q29udGVudCA9IHBhZ2UudGl0bGUgfHwgcGFnZS5pZDtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCwgY2xvc2VEZWxldGVQYWdlTW9kYWwpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEZWxldGVQYWdlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCkgcmV0dXJuO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGVsZXRlUGFnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBhZ2VUb0RlbGV0ZSA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoZGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVEZWxldGVQYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UgfHwgIXBhZ2VUb0RlbGV0ZSkgcmV0dXJuO1xuICAgICAgY29uc3QgcGFnZUlkID0gcGFnZVRvRGVsZXRlLmlkO1xuICAgICAgY29uc3QgcGFnZVRpdGxlID0gcGFnZVRvRGVsZXRlLnRpdGxlIHx8IHBhZ2VJZDtcbiAgICAgIGlmIChkZWxldGVQYWdlQ29uZmlybSkge1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uLi4uJztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cGFnZXNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcHJpbWVyIGRlIGxhIGxpc3RlIGxvY2FsZVxuICAgICAgICBwYWdlcyA9IHBhZ2VzLmZpbHRlcigocCkgPT4gcC5pZCAhPT0gcGFnZUlkKTtcbiAgICAgICAgLy8gU2kgbGEgcGFnZSBzdXBwcmltXHUwMEU5ZSBcdTAwRTl0YWl0IGFjdGl2ZSwgc1x1MDBFOWxlY3Rpb25uZXIgbGEgcHJlbWlcdTAwRThyZVxuICAgICAgICBpZiAoYWN0aXZlUGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIG51bGwpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICAgICAgYmxvY2tEZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICBwcmV2aWV3RnJhbWUgJiYgKHByZXZpZXdGcmFtZS5zcmNkb2MgPSBnZXRMb2FkaW5nUHJldmlld0h0bWwoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZURlbGV0ZVBhZ2VNb2RhbCgpO1xuICAgICAgICBzaG93VG9hc3QoYFBhZ2UgXCIke3BhZ2VUaXRsZX1cIiBzdXBwcmltXHUwMEU5ZWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twYWdlc10gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIHN1cHByZXNzaW9uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZVBhZ2VDb25maXJtLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGFnZUxpc3RzID0gKHBhZ2VzLCBhY3RpdmVJZCkgPT4ge1xuICAgICAgcGFnZUxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJztcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LnBhZ2VJZCA9IHBhZ2UuaWQ7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAgICdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2ZUlkID09PSBwYWdlLmlkXG4gICAgICAgICAgICAgID8gJ2JnLVsjOUM2QkZGXS8xMCB0ZXh0LXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLVsjOUM2QkZGXS80MCByb3VuZGVkLXhsIHNoYWRvdy1zbSdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS03MDAgaG92ZXI6Ymctc2xhdGUtNTAgcm91bmRlZC14bCcsXG4gICAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlkID09PSBwYWdlLmlkKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAncGFnZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGU7XG4gICAgICAgICAgY29uc3QgaXNIaWRkZW5Gcm9tTmF2ID0gcGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ID09PSBmYWxzZTtcbiAgICAgICAgICBjb25zdCBuYXZCYWRnZSA9IGlzSGlkZGVuRnJvbU5hdlxuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMHB4XSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNjAwXCI+TWFzcXVcdTAwRTkgZHUgbWVudTwvc3Bhbj4nXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaC05IHctOSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi41IDQuNWg3bDQgNHYxMWExIDEgMCAwIDEtMSAxaC0xMGExIDEgMCAwIDEtMS0xdi0xNGExIDEgMCAwIDEgMS0xWlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMuNSA0LjV2NGExIDEgMCAwIDAgMSAxaDNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2Rpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtwYWdlLnNsdWd9PC9zcGFuPlxuICAgICAgICAgICAgICAke25hdkJhZGdlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAvLyBCb3V0b24gZGUgc3VwcHJlc3Npb25cbiAgICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICBkZWxldGVCdG4udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZmxleC1zaHJpbmstMCBwLTIgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yb3NlLTYwMCBob3ZlcjpiZy1yb3NlLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbic7XG4gICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ1N1cHByaW1lciBjZXR0ZSBwYWdlJztcbiAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFN1cHByaW1lciAke2Rpc3BsYXlOYW1lfWApO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDZoMThNOCA2VjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2Mm0zIDB2MTRhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJWNmgxNFpNMTAgMTF2Nk0xNCAxMXY2XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVQYWdlTW9kYWwocGFnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRBY3RpdmVCbG9jayA9ICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIUFycmF5LmlzQXJyYXkoY3VycmVudFBhZ2UuYmxvY2tzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIENoZXJjaGVyIGxlIGJsb2MgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIG91IGRhbnMgbGVzIGVuZmFudHMgZGVzIGdyb3VwZXNcbiAgICAgIGxldCBibG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGJsb2NrID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGFjdGl2ZUJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGJsb2NrKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBibG9jayB8fCBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBwYWdlSGFzQmxvY2tJZCA9IChwYWdlLCBibG9ja0lkKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UgfHwgIWJsb2NrSWQpIHJldHVybiBmYWxzZTtcbiAgICAgIGNvbnN0IHdhbGsgPSAobm9kZXMpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzIHx8IFtdKSB7XG4gICAgICAgICAgaWYgKCFub2RlKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAobm9kZS5pZCA9PT0gYmxvY2tJZCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgd2Fsayhub2RlLmNoaWxkcmVuKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICAgIHJldHVybiB3YWxrKHBhZ2UuYmxvY2tzIHx8IFtdKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQmxvY2tzRGVlcCA9IChibG9ja3MsIGJsb2NrSWQsIHVwZGF0ZXIsIHBhcmVudEhpbnQgPSBudWxsKSA9PiB7XG4gICAgICBsZXQgZGlkVXBkYXRlID0gZmFsc2U7XG4gICAgICBsZXQgZm91bmRQYXJlbnRJZCA9IG51bGw7XG5cbiAgICAgIGNvbnN0IHdhbGsgPSAobm9kZXMsIGN1cnJlbnRQYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbmV4dE5vZGVzID0gKG5vZGVzIHx8IFtdKS5tYXAoKG5vZGUpID0+IHtcbiAgICAgICAgICBpZiAoIW5vZGUgfHwgIW5vZGUuaWQpIHJldHVybiBub2RlO1xuXG4gICAgICAgICAgaWYgKG5vZGUuaWQgPT09IGJsb2NrSWQgJiYgKCFwYXJlbnRIaW50IHx8IHBhcmVudEhpbnQgPT09IGN1cnJlbnRQYXJlbnRJZCkpIHtcbiAgICAgICAgICAgIGRpZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3VuZFBhcmVudElkID0gY3VycmVudFBhcmVudElkO1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlcihub2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9kZXM6IG5leHRDaGlsZHJlbiwgY2hhbmdlZDogY2hpbGRyZW5DaGFuZ2VkIH0gPSB3YWxrKG5vZGUuY2hpbGRyZW4sIG5vZGUuaWQpO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubm9kZSwgY2hpbGRyZW46IG5leHRDaGlsZHJlbiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbm9kZXM6IG5leHROb2RlcywgY2hhbmdlZCB9O1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gd2FsayhibG9ja3MsIG51bGwpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmxvY2tzOiByZXN1bHQubm9kZXMsXG4gICAgICAgIGRpZFVwZGF0ZSxcbiAgICAgICAgZm91bmRQYXJlbnRJZCxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBWYXJpYWJsZSBwb3VyIHN0b2NrZXIgbGUgcGFyZW50IGR1IGJsb2MgYWN0aWYgKHNpIGMnZXN0IHVuIGVuZmFudCBkZSBncm91cGUpXG4gICAgbGV0IGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgIFxuICAgIGNvbnN0IHNldEFjdGl2ZUJsb2NrID0gKGJsb2NrSWQsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWJsb2NrSWQpIHtcbiAgICAgICAgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgdGFyZ2V0QmxvY2sgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDaGVyY2hlciBkYW5zIGxlcyBibG9jcyBwcmluY2lwYXV4XG4gICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5maW5kKChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgXG4gICAgICAvLyBTaSBwYXMgdHJvdXZcdTAwRTkgZXQgcXUnb24gYSB1biBwYXJlbnRJZCwgY2hlcmNoZXIgZGFucyBsZXMgZW5mYW50cyBkdSBwYXJlbnRcbiAgICAgIGlmICghdGFyZ2V0QmxvY2sgJiYgcGFyZW50SWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGFyZW50SWQpO1xuICAgICAgICBpZiAocGFyZW50QmxvY2sgJiYgcGFyZW50QmxvY2suY2hpbGRyZW4pIHtcbiAgICAgICAgICB0YXJnZXRCbG9jayA9IHBhcmVudEJsb2NrLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2lub24gY2hlcmNoZXIgZGFucyB0b3VzIGxlcyBncm91cGVzXG4gICAgICBpZiAoIXRhcmdldEJsb2NrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBjdXJyZW50UGFnZS5ibG9ja3MpIHtcbiAgICAgICAgICBpZiAoYi5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBiLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0QmxvY2sgPSBmb3VuZDtcbiAgICAgICAgICAgICAgcGFyZW50SWQgPSBiLmlkO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgc3VyIGxlIHByZW1pZXIgYmxvY1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICB0YXJnZXRCbG9jayA9IGN1cnJlbnRQYWdlLmJsb2Nrc1swXSB8fCBudWxsO1xuICAgICAgICBwYXJlbnRJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSB0YXJnZXRCbG9jaz8uaWQgfHwgbnVsbDtcbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHModGFyZ2V0QmxvY2spO1xuICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MgPSAobmV3QmxvY2tzKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgYmxvY2tzOiBuZXdCbG9ja3MgfTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUobmV4dFBhZ2UpO1xuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wUmVvcmRlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBmdW5jdGlvbiBtb3ZlQmxvY2tCeU9mZnNldChibG9ja0lkLCBvZmZzZXQpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrSWQgfHwgIW9mZnNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgaW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IGJsb2NrSWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBibG9ja3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3Moc291cmNlSWQsIHRhcmdldElkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2VJZCB8fCAhdGFyZ2V0SWQgfHwgc291cmNlSWQgPT09IHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKV07XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHNvdXJjZUlkKTtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlSWQsIHRhcmdldElkLCBwb3NpdGlvbikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBsZXQgdG9JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW21vdmVkXSA9IGJsb2Nrcy5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIC8vIEFqdXN0ZXIgbCdpbmRleCBzaSBuXHUwMEU5Y2Vzc2FpcmUgYXByXHUwMEU4cyBsYSBzdXBwcmVzc2lvblxuICAgICAgaWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcbiAgICAgICAgdG9JbmRleC0tO1xuICAgICAgfVxuICAgICAgLy8gSW5zXHUwMEU5cmVyIGF2YW50IG91IGFwclx1MDBFOHMgbGEgY2libGVcbiAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gcG9zaXRpb24gPT09ICdiZWZvcmUnID8gdG9JbmRleCA6IHRvSW5kZXggKyAxO1xuICAgICAgYmxvY2tzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIHNldEFjdGl2ZVBhZ2UoY3VycmVudFBhZ2UuaWQsIHsgcHJlc2VydmVCbG9jazogdHJ1ZSB9KTtcbiAgICAgIHNldEFjdGl2ZUJsb2NrKG1vdmVkLmlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnZ2FibGUgPSBpc0Rlc2t0b3BSZW9yZGVyKCk7XG4gICAgICBibG9ja0xpc3QucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuQmxvY2tMaWJyYXJ5KCkge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaWJyYXJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaWJyYXJ5T3BlbiA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvZ2dsZUJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPyBjbG9zZUJsb2NrTGlicmFyeSgpIDogb3BlbkJsb2NrTGlicmFyeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRCbG9ja0Zyb21MaWJyYXJ5KHR5cGUpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGJsb2NrTGlicmFyeURlZmluaXRpb25zW3R5cGVdO1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdW50ID1cbiAgICAgICAgKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gZGVmaW5pdGlvbi50eXBlKS5sZW5ndGggKyAxO1xuICAgICAgY29uc3QgbmV3QmxvY2sgPSBjcmVhdGVCbG9jayhcbiAgICAgICAgZ2VuZXJhdGVCbG9ja0lkKGN1cnJlbnRQYWdlLmlkLCB0eXBlKSxcbiAgICAgICAgYCR7ZGVmaW5pdGlvbi5sYWJlbH0gJHtjb3VudH1gLFxuICAgICAgICBkZWZpbml0aW9uLnR5cGUsXG4gICAgICAgIGRlZmluaXRpb24uc3RhdHVzLFxuICAgICAgICBkZWZpbml0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICBkZWZpbml0aW9uLnByb3BzLFxuICAgICAgICBkZWZpbml0aW9uLnNldHRpbmdzIHx8IHt9LFxuICAgICAgKTtcbiAgICAgIGlmICgoZGVmaW5pdGlvbi50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q29sbGVjdGlvbklkID0gZGVzaWduQ29sbGVjdGlvbnNbMF0/LmlkIHx8ICcnO1xuICAgICAgICBuZXdCbG9jay5jb2xsZWN0aW9uSWQgPSBmaXJzdENvbGxlY3Rpb25JZDtcbiAgICAgICAgbmV3QmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0ID0gbmV3QmxvY2suc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2kgb24gYWpvdXRlIFx1MDBFMCB1biBncm91cGVcbiAgICAgIGlmIChwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayk7XG4gICAgICAgIGlmIChncm91cEJsb2NrKSB7XG4gICAgICAgICAgaWYgKCFncm91cEJsb2NrLmNoaWxkcmVuKSBncm91cEJsb2NrLmNoaWxkcmVuID0gW107XG4gICAgICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKG5ld0Jsb2NrKTtcbiAgICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQsIGdyb3VwQmxvY2suaWQpO1xuICAgICAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgbmV4dEJsb2NrcyA9IFsuLi4oY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSwgbmV3QmxvY2tdO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MobmV4dEJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhuZXdCbG9jay5pZCk7XG4gICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIGFqb3V0XHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrcyA9IChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBibG9ja0lkKTtcbiAgICAgIGNvbnN0IG5leHRBY3RpdmUgPVxuICAgICAgICBibG9ja0lkID09PSBhY3RpdmVCbG9ja0lkID8gYmxvY2tzWzBdPy5pZCB8fCBudWxsIDogYWN0aXZlQmxvY2tJZCB8fCBibG9ja3NbMF0/LmlkIHx8IG51bGw7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgYWN0aXZlQmxvY2tJZCA9IG5leHRBY3RpdmU7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBpZiAoYWN0aXZlQmxvY2tJZCkge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhhY3RpdmVCbG9ja0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhudWxsKTtcbiAgICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KG51bGwpO1xuICAgICAgfVxuICAgICAgc2hvd1RvYXN0KCdCbG9jIHN1cHByaW1cdTAwRTknKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gbnVsbDtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrRGVsZXRlTW9kYWwoYmxvY2tJZCkge1xuICAgICAgaWYgKCFibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBibG9ja0lkO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChibG9ja0RlbGV0ZU1vZGFsLCBjbG9zZUJsb2NrRGVsZXRlTW9kYWwpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZVN0YXRlID0gKG5leHRQYWdlKSA9PiB7XG4gICAgICBpZiAoIW5leHRQYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYWdlRGF0YShuZXh0UGFnZSk7XG4gICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocGFnZSkgPT4gKHBhZ2UuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcGFnZSkpO1xuICAgICAgY3VycmVudFBhZ2UgPSBub3JtYWxpemVkO1xuICAgICAgc2F2ZVBhZ2VUb1NlcnZlcihub3JtYWxpemVkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEFjdGl2ZVBhZ2UgPSAocGFnZUlkLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhZ2VzLmZpbmQoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHBhZ2VJZCkgfHwgcGFnZXNbMF0gfHwgbnVsbDtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYXJnZXQgPSB0YXJnZXQgPyBub3JtYWxpemVQYWdlRGF0YSh0YXJnZXQpIDogbnVsbDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZFRhcmdldDtcbiAgICAgIGFjdGl2ZVBhZ2VJZCA9IHRhcmdldD8uaWQgfHwgbnVsbDtcbiAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZUJsb2NrIHx8ICFjdXJyZW50UGFnZSB8fCAhcGFnZUhhc0Jsb2NrSWQoY3VycmVudFBhZ2UsIGFjdGl2ZUJsb2NrSWQpKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBjdXJyZW50UGFnZT8uYmxvY2tzPy5bMF0/LmlkIHx8IG51bGw7XG4gICAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICBwZXJzaXN0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgcmVuZGVyUHJldmlld01ldGEoY3VycmVudFBhZ2UpO1xuICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrRGV0YWlscyhnZXRBY3RpdmVCbG9jaygpKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCk7XG4gICAgICBpZiAoYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaXNEZXNrdG9wRHJhd2VyID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHN5bmNEcmF3ZXJTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3BlbkRyYXdlciA9ICgpID0+IHtcbiAgICAgIGlmICghZHJhd2VyIHx8IGlzRGVza3RvcERyYXdlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRyYXdlci5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICBkcmF3ZXJCYWNrZHJvcD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH07XG4gICAgY29uc3QgY2xvc2VEcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IG9wZW5BZGRQYWdlRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghYWRkUGFnZUZvcm0gfHwgIWFkZFBhZ2VUb2dnbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgICBpZiAoYWRkUGFnZU5hbWUpIHtcbiAgICAgICAgYWRkUGFnZU5hbWUudmFsdWUgPSAnJztcbiAgICAgICAgYWRkUGFnZU5hbWUuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRQYWdlVGl0bGUpIHtcbiAgICAgICAgYWRkUGFnZVRpdGxlLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgYWRkUGFnZUZvcm0ucmVzZXQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHN5bmNTbHVnRnJvbU5hbWUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZVNsdWdNYW51YWxseUVkaXRlZCAmJiBhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlU2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZVBhZ2VTbHVnKGFkZFBhZ2VOYW1lLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VzID0gW107XG4gICAgbGV0IGFjdGl2ZVBhZ2VJZCA9IG51bGw7XG4gICAgbGV0IHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIGxldCBhY3RpdmVCbG9ja0lkID0gbnVsbDtcbiAgICBsZXQgYmxvY2tMaWJyYXJ5T3BlbiA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdFByZXZpZXdIdG1sID0gJyc7XG4gICAgbGV0IHByZXZpZXdSZWFkeSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplQmxvY2tEYXRhID0gKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgICAgICAuLi5ibG9jayxcbiAgICAgICAgcHJvcHM6IEFycmF5LmlzQXJyYXkoYmxvY2sucHJvcHMpID8gYmxvY2sucHJvcHMgOiBbXSxcbiAgICAgICAgc2V0dGluZ3M6IHsgLi4uKGJsb2NrLnNldHRpbmdzIHx8IHt9KSB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHR5cGUgPSAobm9ybWFsaXplZC50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcpIHtcbiAgICAgICAgbm9ybWFsaXplZC5jb2xsZWN0aW9uSWQgPVxuICAgICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkIHx8IG5vcm1hbGl6ZWQuc2V0dGluZ3MuY29sbGVjdGlvbklkIHx8ICcnO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkO1xuICAgICAgICBub3JtYWxpemVkLnNldHRpbmdzLmxpbWl0ID0gbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCB8fCA2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhZ2VEYXRhID0gKHBhZ2UpID0+ICh7XG4gICAgICAuLi5wYWdlLFxuICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcCgoYmxvY2spID0+IG5vcm1hbGl6ZUJsb2NrRGF0YShibG9jaykpLFxuICAgICAgc2VvOiB7XG4gICAgICAgIHRpdGxlOiAocGFnZS5zZW8/LnRpdGxlIHx8ICcnKS50cmltKCksXG4gICAgICAgIGRlc2NyaXB0aW9uOiAocGFnZS5zZW8/LmRlc2NyaXB0aW9uIHx8ICcnKS50cmltKCksXG4gICAgICAgIGluZGV4ZWQ6XG4gICAgICAgICAgdHlwZW9mIHBhZ2Uuc2VvPy5pbmRleGVkID09PSAnYm9vbGVhbicgPyBwYWdlLnNlby5pbmRleGVkIDogbnVsbCxcbiAgICAgIH0sXG4gICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgIHNob3dJbk1haW5OYXY6IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiAhPT0gZmFsc2UsXG4gICAgICAgIG1haW5MYWJlbDogKHBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnKS50cmltKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbG9hZERlc2lnbkNvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGNvbGxlY3Rpb25TZWxlY3Q/LnZhbHVlIHx8ICcnO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyhjdXJyZW50VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNvbGxlY3Rpb25zIGxvYWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbGxlY3Rpb25zIGluZGlzcG9uaWJsZXMuJyk7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvblNlbGVjdGlvbkluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBkZXNpZ25Db2xsZWN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbiBwb3VyIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMuJ1xuICAgICAgICAgIDogJ0F1Y3VuZSBjb2xsZWN0aW9uIGRpc3BvbmlibGUuIEFqb3V0ZXotZW4gZGVwdWlzIGxcdTIwMTlvbmdsZXQgQ29udGVudXMuJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50cnkgPSBkZXNpZ25Db2xsZWN0aW9ucy5maW5kKChjb2xsZWN0aW9uKSA9PiBjb2xsZWN0aW9uLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9IGBDb2xsZWN0aW9uICR7Y29sbGVjdGlvbklkfWA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgIGlmIChlbnRyeS5kZXNjcmlwdGlvbikge1xuICAgICAgICBkZXRhaWxzLnB1c2goZW50cnkuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGBUeXBlXHUwMEEwOiAke2VudHJ5LnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mby50ZXh0Q29udGVudCA9XG4gICAgICAgIGRldGFpbHMuam9pbignIFx1MDBCNyAnKSB8fCBgQ29sbGVjdGlvbiAke2VudHJ5Lm5hbWUgfHwgZW50cnkuaWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMgPSAoc2VsZWN0ZWRWYWx1ZSA9ICcnKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gJyc7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8oJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiAhZGVzaWduQ29sbGVjdGlvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWxsYmFja09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBmYWxsYmFja09wdGlvbi52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGZhbGxiYWNrT3B0aW9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChmYWxsYmFja09wdGlvbik7XG4gICAgICB9XG4gICAgICBkZXNpZ25Db2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uLnR5cGUgPyBgJHtsYWJlbH0gXHUwMEI3ICR7Y29sbGVjdGlvbi50eXBlfWAgOiBsYWJlbDtcbiAgICAgICAgb3B0aW9uLmRhdGFzZXQuZGVzY3JpcHRpb24gPSBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKGNvbGxlY3Rpb25TZWxlY3QudmFsdWUgfHwgJycpO1xuICAgIH07XG5cbiAgICBsb2FkRGVzaWduQ29sbGVjdGlvbnMoKTtcbiAgICBzeW5jRHJhd2VyU3RhdGUoKTtcblxuICAgIGRyYXdlck9wZW5CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRyYXdlcik7XG4gICAgfSk7XG4gICAgZHJhd2VyQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckJhY2tkcm9wPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgc3luY0RyYXdlclN0YXRlKCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFnZVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBZGRQYWdlRm9ybSk7XG4gICAgYWRkUGFnZU5hbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc3luY1NsdWdGcm9tTmFtZSk7XG4gICAgYWRkUGFnZVNsdWc/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYWdlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFwYWdlc0FwaUJhc2UpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnQXVjdW4gc2l0ZSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWRkUGFnZU5hbWUgfHwgIWFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5hbWUgPSBhZGRQYWdlTmFtZS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB0aXRsZSA9IGFkZFBhZ2VUaXRsZT8udmFsdWUudHJpbSgpIHx8IG5hbWU7IC8vIEZhbGxiYWNrIHRvIG5hbWUgaWYgdGl0bGUgaXMgZW1wdHlcbiAgICAgIGNvbnN0IHNsdWcgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlU2x1Zy52YWx1ZS50cmltKCkgfHwgbmFtZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgIXNsdWcpIHtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSAnTm9tIGV0IHNsdWcgc29udCByZXF1aXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JcdTAwRTlhdGlvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkUGFnZSA9IGF3YWl0IGNyZWF0ZVBhZ2VPblNlcnZlcih7IG5hbWUsIHRpdGxlLCBzbHVnIH0pO1xuICAgICAgICBpZiAoIWNyZWF0ZWRQYWdlIHx8ICFjcmVhdGVkUGFnZS5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUlx1MDBFOXBvbnNlIGludmFsaWRlLicpO1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzID0gWy4uLnBhZ2VzLCBub3JtYWxpemVQYWdlRGF0YShjcmVhdGVkUGFnZSldO1xuICAgICAgICBjbG9zZUFkZFBhZ2VGb3JtKCk7XG4gICAgICAgIHNob3dUb2FzdCgnUGFnZSBjclx1MDBFOVx1MDBFOWUnKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShjcmVhdGVkUGFnZS5pZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rlc2lnbl0gY3JlYXRlIHBhZ2UgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgYWRkUGFnZUVycm9yICYmIChhZGRQYWdlRXJyb3IudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxhIHBhZ2UuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYWRkUGFnZVN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT0gSW1wb3J0IEpTT04gaGFuZGxlcnMgPT09XG4gICAgY29uc3QgcmVzZXRQYXN0ZVN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGltcG9ydFBhc3RlSW5wdXQpIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHBhc3RlRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdmFsaWRhdGVQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChwYXN0ZUVycm9yKSB7XG4gICAgICAgICAgcGFzdGVFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gYFx1Mjc0QyBKU09OIGludmFsaWRlIDogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRQYXN0ZUpzb24gPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFBhc3RlSW5wdXQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgaW1wb3J0UGFzdGVJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZCwgbnVsbCwgMik7XG4gICAgICAgIHZhbGlkYXRlUGFzdGVKc29uKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gU2kgcGFzIHZhbGlkZSwgb24gbmUgZm9ybWF0ZSBwYXNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydFN1Ym1pdCkgcmV0dXJuO1xuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDA7XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSAhcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICBhY3RpdmVJbXBvcnRUYWIgPSAndXBsb2FkJztcbiAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzKSBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKGltcG9ydFJlc3VsdHNDb250ZW50KSBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAvLyBSZXNldCB0YWJzIHRvIHVwbG9hZFxuICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LmRhdGFzZXQuaW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICBpZiAocC5kYXRhc2V0LmltcG9ydFBhbmVsID09PSAndXBsb2FkJykge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsLCBjbG9zZUltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlSW1wb3J0TW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWltcG9ydE1vZGFsKSByZXR1cm47XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBbXTtcbiAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGltcG9ydE1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUltcG9ydEZpbGVMaXN0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRGaWxlTGlzdCB8fCAhaW1wb3J0RmlsZU5hbWVzKSByZXR1cm47XG4gICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW1wb3J0RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0RmlsZU5hbWVzLmlubmVySFRNTCA9IGltcG9ydFNlbGVjdGVkRmlsZXNcbiAgICAgICAgLm1hcCgoZikgPT4gYDxsaSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWxnXCI+XHVEODNEXHVEQ0M0PC9zcGFuPiR7Zi5uYW1lfTwvbGk+YClcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUltcG9ydEZpbGVzID0gKGZpbGVzKSA9PiB7XG4gICAgICBjb25zdCBqc29uRmlsZXMgPSBBcnJheS5mcm9tKGZpbGVzKS5maWx0ZXIoXG4gICAgICAgIChmKSA9PiBmLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBmLm5hbWUuZW5kc1dpdGgoJy5qc29uJylcbiAgICAgICk7XG4gICAgICBpZiAoanNvbkZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIGZpY2hpZXIgSlNPTiB2YWxpZGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGltcG9ydFNlbGVjdGVkRmlsZXMgPSBqc29uRmlsZXM7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgIH07XG4gICAgY29uc3QgZXhlY3V0ZUltcG9ydCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIERldGVybWluZSBzb3VyY2Ugb2YgZGF0YSBiYXNlZCBvbiBhY3RpdmUgdGFiXG4gICAgICBsZXQgcGFnZXNEYXRhID0gW107XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBhY3RpdmVJbXBvcnRUYWI6JywgYWN0aXZlSW1wb3J0VGFiKTtcbiAgICAgIFxuICAgICAgaWYgKGFjdGl2ZUltcG9ydFRhYiA9PT0gJ3Bhc3RlJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBwYXN0ZWQgSlNPTlxuICAgICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhc3RlIHRleHQgbGVuZ3RoOicsIHRleHQ/Lmxlbmd0aCk7XG4gICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQXVjdW4gSlNPTiBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMFwiPlx1MjZBMCBMZSBjaGFtcCBkZSB0ZXh0ZSBlc3QgdmlkZS48L3A+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIEpTT046JywgcGFyc2VkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFyc2VkIHR5cGU6JywgdHlwZW9mIHBhcnNlZCwgQXJyYXkuaXNBcnJheShwYXJzZWQpID8gJ2FycmF5JyA6ICdub3QgYXJyYXknKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdXBwb3J0IGZvcm1hdCB7IHBhZ2VzOiBbLi4uXSwgY29sbGVjdGlvbnM6IHsuLi59IH1cbiAgICAgICAgICBpZiAocGFyc2VkICYmICFBcnJheS5pc0FycmF5KHBhcnNlZCkgJiYgcGFyc2VkLnBhZ2VzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gZGV0ZWN0ZWQgcGFnZXMrY29sbGVjdGlvbnMgZm9ybWF0Jyk7XG4gICAgICAgICAgICBwYWdlc0RhdGEgPSBwYXJzZWQ7IC8vIFNlbmQgdGhlIHdob2xlIG9iamVjdCwgYmFja2VuZCB3aWxsIGhhbmRsZSBpdFxuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlc0RhdGEucHVzaChwYXJzZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gcGFnZXNEYXRhIHByZXBhcmVkOicsIHBhZ2VzRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyKSB7XG4gICAgICAgICAgLy8gQWZmaWNoZXIgbGUgZFx1MDBFOXRhaWwgZGUgbCdlcnJldXIgZGUgcGFyc2luZ1xuICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgIGxldCBlcnJvckRldGFpbCA9IHBhcnNlRXJyLm1lc3NhZ2U7XG4gICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNvbE51bSA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBlcnJvckRldGFpbCA9IGBMaWduZSAke2xpbmVOdW19LCBjb2xvbm5lICR7Y29sTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3dUb2FzdChgRXJyZXVyIEpTT04gOiAke2Vycm9yRGV0YWlsfWAsICdlcnJvcicpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhc3RlIHBhcnNlIGVycm9yJywgcGFyc2VFcnIpO1xuICAgICAgICAgIC8vIFNob3cgZXJyb3IgaW4gcmVzdWx0cyBhcmVhXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgZGUgc3ludGF4ZSBKU09OPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtlcnJvckRldGFpbH08L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTIgdGV4dC1zbGF0ZS01MDBcIj5WXHUwMEU5cmlmaWV6IGxlcyB2aXJndWxlcywgZ3VpbGxlbWV0cyBldCBhY2NvbGFkZXMuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIC8vIEltcG9ydCBmcm9tIGZpbGVzXG4gICAgICAgIGlmIChpbXBvcnRTZWxlY3RlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaWxlRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBpbXBvcnRTZWxlY3RlZEZpbGVzKSB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgICBwYWdlc0RhdGEucHVzaCguLi5wYXJzZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JMaW5lID0gcGFyc2VFcnIubWVzc2FnZS5tYXRjaCgvcG9zaXRpb24gKFxcZCspLyk7XG4gICAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGVycm9yTGluZSkge1xuICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYXJzZUludChlcnJvckxpbmVbMV0sIDEwKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgY29uc3QgbGluZU51bSA9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfTogJHtwYXJzZUVyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWxlRXJyb3JzLnB1c2goeyBmaWxlOiBmaWxlLm5hbWUsIGVycm9yOiBlcnJvckRldGFpbCB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIHBhcnNlIGVycm9yJywgZmlsZS5uYW1lLCBwYXJzZUVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgZmlsZSBwYXJzaW5nIGVycm9ycyBpZiBhbnlcbiAgICAgICAgaWYgKGZpbGVFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgbGV0IGh0bWwgPSAnPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj48cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1cnMgZGUgc3ludGF4ZSBKU09OPC9wPjx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyBtdC0xXCI+JztcbiAgICAgICAgICAgIGZpbGVFcnJvcnMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpPjxzdHJvbmc+JHtlLmZpbGV9PC9zdHJvbmc+OiAke2UuZXJyb3J9PC9saT5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodG1sICs9ICc8L3VsPjwvZGl2Pic7XG4gICAgICAgICAgICBpZiAocGFnZXNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTYwMCBtdC0yIHRleHQtc21cIj5cdTI2QTAgJHtwYWdlc0RhdGEubGVuZ3RofSBwYWdlKHMpIHZhbGlkZShzKSBzZXJvbnQgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnVG91cyBsZXMgZmljaGllcnMgY29udGllbm5lbnQgZGVzIGVycmV1cnMgSlNPTicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBWXHUwMEU5cmlmaWVyIHF1J29uIGEgZGVzIGRvbm5cdTAwRTllcyBcdTAwRTAgaW1wb3J0ZXJcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBBcnJheS5pc0FycmF5KHBhZ2VzRGF0YSkgXG4gICAgICAgID8gcGFnZXNEYXRhLmxlbmd0aCA+IDAgXG4gICAgICAgIDogKHBhZ2VzRGF0YSAmJiAocGFnZXNEYXRhLnBhZ2VzPy5sZW5ndGggPiAwIHx8IHBhZ2VzRGF0YS50aXRsZSkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gaGFzRGF0YSBjaGVjazonLCBoYXNEYXRhLCAncGFnZXNEYXRhOicsIHBhZ2VzRGF0YSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzRGF0YSkge1xuICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuZSBwYWdlIHZhbGlkZSBcdTAwRTAgaW1wb3J0ZXIuJyk7XG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjZBMCBBdWN1bmUgcGFnZSBkXHUwMEU5dGVjdFx1MDBFOWU8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+TGUgSlNPTiBkb2l0IGNvbnRlbmlyIDo8L3A+XG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgbWwtNCBtdC0xIGxpc3QtZGlzY1wiPlxuICAgICAgICAgICAgICAgIDxsaT5VbiBvYmpldCBwYWdlIGF2ZWMgXCJ0aXRsZVwiIDogPGNvZGU+e1widGl0bGVcIjogXCJNYSBwYWdlXCIsIC4uLn08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+VW4gdGFibGVhdSBkZSBwYWdlcyA6IDxjb2RlPlt7XCJ0aXRsZVwiOiBcIlBhZ2UgMVwifSwge1widGl0bGVcIjogXCJQYWdlIDJcIn1dPC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPk91IHVuIG9iamV0IGNvbWJpblx1MDBFOSA6IDxjb2RlPntcInBhZ2VzXCI6IFsuLi5dLCBcImNvbGxlY3Rpb25zXCI6IHsuLi59fTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaW1wb3J0U3VibWl0LnRleHRDb250ZW50ID0gJ0ltcG9ydC4uLic7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFmZmljaGVyIGNlIHF1J29uIHZhIGVudm95ZXIgKGRlYnVnKVxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlbmRpbmcgdG8gc2VydmVyOicsIEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSkuc3Vic3RyaW5nKDAsIDUwMCkpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vaW1wb3J0YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFnZXNEYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gU2VydmVyIHJlc3BvbnNlIGJvZHk6JywgcmVzdWx0KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIHNlcnZldXJcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcm9zZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtbWVkaXVtXCI+XHUyNzE3IEVycmV1ciBzZXJ2ZXVyPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0xXCI+JHtyZXN1bHQubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ308L3A+XG4gICAgICAgICAgICAgICAgJHtyZXN1bHQuZGV0YWlscyA/IGA8cCBjbGFzcz1cInRleHQteHMgbXQtMSB0ZXh0LXNsYXRlLTUwMFwiPiR7cmVzdWx0LmRldGFpbHN9PC9wPmAgOiAnJ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBzZXJ2ZXVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyByZXN1bHRzXG4gICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVudFx1MDBFQXRlIHN1Y2NcdTAwRThzL2VycmV1clxuICAgICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgICAgY29uc3QgaGFzRXJyb3JzID0gcmVzdWx0LmVycm9ycz8ubGVuZ3RoID4gMDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1ncmVlbi04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNTdWNjZXNzICYmIGhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtYW1iZXItODAwIGZvbnQtbWVkaXVtXCI+XHUyNkEwIEltcG9ydCBwYXJ0aWVsPC9wPjwvZGl2Pic7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1yb3NlLTUwIGJvcmRlciBib3JkZXItcm9zZS0yMDAgcm91bmRlZC1sZyBwLTMgbWItMlwiPjxwIGNsYXNzPVwidGV4dC1yb3NlLTgwMCBmb250LW1lZGl1bVwiPlx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb2xsZWN0aW9ucyBjclx1MDBFOVx1MDBFOWVzXG4gICAgICAgICAgaWYgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQgJiYgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtdmlvbGV0LTcwMCBtdC0yXCI+XHUyNzEzICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocykgY3JcdTAwRTlcdTAwRTllKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1zbGF0ZS02MDBcIj4nO1xuICAgICAgICAgICAgcmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT4ke2MubmFtZX0gKCR7Yy5pdGVtc0NvdW50fSBpdGVtJHtjLml0ZW1zQ291bnQgPiAxID8gJ3MnIDogJyd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQYWdlcyBpbXBvcnRcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuaW1wb3J0ZWQgJiYgcmVzdWx0LmltcG9ydGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1ncmVlbi03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5pbXBvcnRlZC5sZW5ndGh9IHBhZ2UocykgaW1wb3J0XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5pbXBvcnRlZC5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7cC50aXRsZX08L3N0cm9uZz4gXHUyMTkyICR7cC5zbHVnfSAoJHtwLmFjdGlvbiA9PT0gJ3VwZGF0ZWQnID8gJ21pc2UgXHUwMEUwIGpvdXInIDogJ2NyXHUwMEU5XHUwMEU5ZSd9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBFcnJldXJzIGF2ZWMgZFx1MDBFOXRhaWxzXG4gICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcnMgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtcm9zZS02MDAgbXQtMyBmb250LW1lZGl1bVwiPlx1MjcxNyAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXJvc2UtNjAwIHNwYWNlLXktMSBtdC0xXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGkgY2xhc3M9XCJiZy1yb3NlLTUwIHAtMiByb3VuZGVkXCI+PHN0cm9uZz4ke2UudGl0bGV9PC9zdHJvbmc+PGJyLz48c3BhbiBjbGFzcz1cInRleHQtcm9zZS01MDBcIj4ke2UuZXJyb3J9PC9zcGFuPjwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbG9hZCBwYWdlcyBsaXN0IGFuZCBzaG93IHRvYXN0XG4gICAgICAgIGNvbnN0IGhhc1N1Y2Nlc3MgPSAocmVzdWx0LmltcG9ydGVkPy5sZW5ndGggPiAwKSB8fCAocmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZD8ubGVuZ3RoID4gMCk7XG4gICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZnJlc2hQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgICAgcGFnZXMgPSBmcmVzaFBhZ2VzO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAocGFnZXMubGVuZ3RoID4gMCAmJiAhYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQYWdlKHBhZ2VzWzBdLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRvYXN0IGF2ZWMgc3RhdHV0IGFwcHJvcHJpXHUwMEU5XG4gICAgICAgIGlmIChoYXNTdWNjZXNzICYmICFoYXNFcnJvcnMpIHtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uc01zZyA9IHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCBcbiAgICAgICAgICAgID8gYCArICR7cmVzdWx0LmNvbGxlY3Rpb25zQ3JlYXRlZC5sZW5ndGh9IGNvbGxlY3Rpb24ocylgIFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxMyBJbXBvcnQgclx1MDBFOXVzc2kgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2Uocykke2NvbGxlY3Rpb25zTXNnfWAsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjZBMCBJbXBvcnQgcGFydGllbCA6ICR7cmVzdWx0LmltcG9ydGVkPy5sZW5ndGggfHwgMH0gcGFnZShzKSwgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpYCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNFcnJvcnMpIHtcbiAgICAgICAgICBzaG93VG9hc3QoYFx1MjcxNyBJbXBvcnQgXHUwMEU5Y2hvdVx1MDBFOSA6ICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICAgIHVwZGF0ZUltcG9ydEZpbGVMaXN0KCk7XG4gICAgICAgIHJlc2V0UGFzdGVTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGltcG9ydCcsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGltcG9ydFN1Ym1pdCkge1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnRlcic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGltcG9ydFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuSW1wb3J0TW9kYWwpO1xuICAgIGltcG9ydENsb3NlQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlSW1wb3J0TW9kYWwpKTtcbiAgICBpbXBvcnRNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBpbXBvcnRNb2RhbCkgY2xvc2VJbXBvcnRNb2RhbCgpO1xuICAgIH0pO1xuICAgIGltcG9ydEZpbGVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUudGFyZ2V0LmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICB9KTtcbiAgICBpbXBvcnREcm9wem9uZT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW1wb3J0RHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLVsjOUM2QkZGXScsICdiZy1bIzlDNkJGRl0vMTAnKTtcbiAgICAgIGhhbmRsZUltcG9ydEZpbGVzKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcbiAgICB9KTtcbiAgICBpbXBvcnRTdWJtaXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZUltcG9ydCk7XG4gICAgLy8gUGFzdGUgSlNPTiBoYW5kbGVyc1xuICAgIGltcG9ydFBhc3RlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICB9KTtcbiAgICBwYXN0ZUZvcm1hdEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmb3JtYXRQYXN0ZUpzb24pO1xuICAgIC8vIEltcG9ydCB0YWJzXG4gICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFuZWwgPSB0YWIuZGF0YXNldC5pbXBvcnRUYWI7XG4gICAgICAgIGFjdGl2ZUltcG9ydFRhYiA9IHRhcmdldFBhbmVsO1xuICAgICAgICBpbXBvcnRUYWJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdiZy1bIzlDNkJGRl0nLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydFBhbmVscy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gdGFyZ2V0UGFuZWwpIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlSW1wb3J0U3VibWl0U3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvcHlUZW1wbGF0ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRlbXBsYXRlSnNvbikgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IHRlbXBsYXRlSnNvbi50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1RlbXBsYXRlIGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgY29waWUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvcHlQcm9tcHRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRBaVByb21wdCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGV4dCA9IGltcG9ydEFpUHJvbXB0LnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNob3dUb2FzdCgnUHJvbXB0IGNvcGlcdTAwRTkgIScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbXBvcnRdIGNvcHkgcHJvbXB0IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGNvcGllJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBEZWxldGUgcGFnZSBtb2RhbCBsaXN0ZW5lcnNcbiAgICBkZWxldGVQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlUGFnZU1vZGFsKTtcbiAgICBkZWxldGVQYWdlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleGVjdXRlRGVsZXRlUGFnZSk7XG4gICAgZGVsZXRlUGFnZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGRlbGV0ZVBhZ2VNb2RhbCkgY2xvc2VEZWxldGVQYWdlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgLy8gU2kgdW4gZ3JvdXBlIGVzdCBzXHUwMEU5bGVjdGlvbm5cdTAwRTksIGwnYWpvdXQgdmlhIGxhIGJpYmxpb3RoXHUwMEU4cXVlIGRvaXQgY2libGVyIGNlIGdyb3VwZS5cbiAgICAgIC8vIChMYSBkcm9wem9uZSBkZSBncm91cGUgdXRpbGlzZSBkXHUwMEU5alx1MDBFMCBgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9ja2AuKVxuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSAoYWN0aXZlPy50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2dyb3VwZScgfHwgdHlwZSA9PT0gJ2dyb3VwJykge1xuICAgICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBhY3RpdmUuaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRvZ2dsZUJsb2NrTGlicmFyeSgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja0xpYnJhcnk/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHxcbiAgICAgICAgYmxvY2tMaWJyYXJ5VG9nZ2xlPy5jb250YWlucyhldmVudC50YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBibG9ja0FkZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidXR0b24uZGF0YXNldC5ibG9ja0FkZDtcbiAgICAgICAgYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0RlbGV0ZUJsb2NrSWQpIHtcbiAgICAgICAgZGVsZXRlQmxvY2tCeUlkKHBlbmRpbmdEZWxldGVCbG9ja0lkKTtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuICAgIGJsb2NrRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBibG9ja0RlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaW5pIHByZXZpZXcgcG91ciBncm91cGVcbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtbW9iaWxlJyB8fCB0YXJnZXQubmFtZSA9PT0gJ2dyb3VwLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImdyb3VwLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLWRlc2t0b3BcIl0nKT8udmFsdWUgfHwgJzMnO1xuICAgICAgICB1cGRhdGVHcm91cE1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgY29sbGVjdGlvblxuICAgICAgaWYgKHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcpIHtcbiAgICAgICAgY29uc3QgbW9iaWxlVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGVcIl0nKT8udmFsdWUgfHwgJzEnO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWUgPVxuICAgICAgICAgIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbGxlY3Rpb24tY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbk1pbmlQcmV2aWV3KG1vYmlsZVZhbHVlLCBkZXNrdG9wVmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gRFx1MDBFOXRlY3Rpb24gc2kgb24gZXN0IGRhbnMgbGUgcGFuZWwgQXBwYXJlbmNlIFx1MjE5MiBhdXRvLXNhdmVcbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIC8vIEF1dG8tc2F2ZSArIHJlZnJlc2ggcHJldmlldyBwb3VyIGwnYXBwYXJlbmNlXG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1MDBDOWdhbGVtZW50IHN1ciAnY2hhbmdlJyBwb3VyIGxlcyBzZWxlY3RzXG4gICAgYmxvY2tGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQubmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGR1IHByZXZpZXcgZGUgY291bGV1ciBwb3VyIGxlcyBjb2xvciBzZWxlY3RzXG4gICAgICBpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1jb2xvci1zZWxlY3QnKSkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHRhcmdldC5vcHRpb25zW3RhcmdldC5zZWxlY3RlZEluZGV4XTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgICBjb25zdCBjb2xvclByZXZpZXcgPSB0YXJnZXQuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbG9yLXByZXZpZXddJyk7XG4gICAgICAgIGlmIChjb2xvclByZXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gVFJBTlNQQVJFTlRfUEFUVEVSTjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhbmVsID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLXBhbmVsXScpO1xuICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmRhdGFzZXQuYmxvY2tQYW5lbCA9PT0gJ2FwcGVhcmFuY2UnKSB7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGNvbmZpZykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RGb3JtVmFsdWVzKGNvbmZpZyk7XG4gICAgICAgICAgaGFuZGxlQXBwZWFyYW5jZUNoYW5nZShibG9jay5pZCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25TZWxlY3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKHRhcmdldD8udmFsdWUgfHwgJycpO1xuICAgIH0pO1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQmxvY2tGb3JtU3VibWl0KTtcbiAgICBibG9ja0Zvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgIHBvcHVsYXRlQmxvY2tGb3JtKGJsb2NrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocHJldmlld1ZpZXdCdXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHByZXZpZXdWaWV3QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhcmdldFZpZXcgPSBidXR0b24uZGF0YXNldC5wcmV2aWV3VmlldyB8fCAnZGVza3RvcCc7XG4gICAgICAgICAgc2V0UHJldmlld1ZpZXcodGFyZ2V0Vmlldyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBzZXRQcmV2aWV3VmlldygnZGVza3RvcCcpO1xuICAgIH1cblx0ICAgIHByZXZpZXdGcmFtZT8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcblx0ICAgICAgcHJldmlld1JlYWR5ID0gdHJ1ZTtcblx0ICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnXHUwMEMwIGpvdXInKTtcblx0ICAgICAgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0KGFjdGl2ZUJsb2NrSWQpO1xuXG5cdCAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdGcmFtZT8uY29udGVudERvY3VtZW50O1xuXHQgICAgICBpZiAoIWRvYyB8fCAhY3VycmVudFBhZ2UpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGRvYy5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5yYXdkaXRQcmV2aWV3U2VsZWN0Qm91bmQgPT09ICd0cnVlJykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQucmF3ZGl0UHJldmlld1NlbGVjdEJvdW5kID0gJ3RydWUnO1xuXG5cdCAgICAgIC8vIFN0eWxlcyBsXHUwMEU5Z2VycyBwb3VyIHJlbmRyZSBsJ2ludGVyYWN0aW9uIFx1MDBFOXZpZGVudGUgKGhvdmVyICsgY3Vyc2V1cilcblx0ICAgICAgaWYgKCFkb2MuZ2V0RWxlbWVudEJ5SWQoJ3Jhd2RpdC1wcmV2aWV3LXNlbGVjdC1zdHlsZScpKSB7XG5cdCAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0ICAgICAgICBzdHlsZS5pZCA9ICdyYXdkaXQtcHJldmlldy1zZWxlY3Qtc3R5bGUnO1xuXHQgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuXHQgICAgICAgICAgW2RhdGEtcHJldmlldy1ibG9ja117IGN1cnNvcjpwb2ludGVyOyB9XG5cdCAgICAgICAgICBbZGF0YS1wcmV2aWV3LWJsb2NrXTpob3Zlcnsgb3V0bGluZToycHggc29saWQgdmFyKC0tY29sb3ItYWNjZW50LCAjOUM2QkZGKTsgb3V0bGluZS1vZmZzZXQ6MnB4OyB9XG5cdCAgICAgICAgYDtcblx0ICAgICAgICBkb2MuaGVhZD8uYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHQgICAgICB9XG5cblx0ICAgICAgY29uc3QgaXNHcm91cFR5cGUgPSAoYmxvY2spID0+IHtcblx0ICAgICAgICBjb25zdCB0ID0gKGJsb2NrPy50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIHJldHVybiB0ID09PSAnZ3JvdXBlJyB8fCB0ID09PSAnZ3JvdXAnIHx8IHQgPT09ICdzZWN0aW9ucycgfHwgdCA9PT0gJ2dyaWQnO1xuXHQgICAgICB9O1xuXHQgICAgICBjb25zdCBnZXRQYXJlbnRJZEZvckJsb2NrID0gKGJsb2NrSWQpID0+IHtcblx0ICAgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkKSByZXR1cm4gbnVsbDtcblx0ICAgICAgICBpZiAoKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkuc29tZSgoYikgPT4gYi5pZCA9PT0gYmxvY2tJZCkpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKSB7XG5cdCAgICAgICAgICBpZiAoIWlzR3JvdXBUeXBlKGIpIHx8ICFBcnJheS5pc0FycmF5KGIuY2hpbGRyZW4pKSBjb250aW51ZTtcblx0ICAgICAgICAgIGlmIChiLmNoaWxkcmVuLnNvbWUoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gYmxvY2tJZCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGIuaWQ7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9O1xuXG5cdCAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFxuXHQgICAgICAgICdjbGljaycsXG5cdCAgICAgICAgKGV2ZW50KSA9PiB7XG5cdCAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdCAgICAgICAgICBjb25zdCBlbCA9IHRhcmdldD8uY2xvc2VzdD8uKCdbZGF0YS1wcmV2aWV3LWJsb2NrXScpO1xuXHQgICAgICAgICAgY29uc3QgYmxvY2tJZCA9IGVsPy5nZXRBdHRyaWJ1dGU/LignZGF0YS1wcmV2aWV3LWJsb2NrJykgfHwgJyc7XG5cdCAgICAgICAgICBpZiAoIWJsb2NrSWQpIHJldHVybjtcblx0ICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj8uKCk7XG5cdCAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGdldFBhcmVudElkRm9yQmxvY2soYmxvY2tJZCk7XG5cdCAgICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9ja0lkLCBwYXJlbnRJZCk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB0cnVlLFxuXHQgICAgICApO1xuXHQgICAgfSk7XG4gICAgcHJldmlld09wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICBpZiAoIXByZXZpZXdXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldmlld1dpbmRvdy5vcGVuZXIgPSBudWxsO1xuICAgICAgY29uc3QgZG9jID0gcHJldmlld1dpbmRvdy5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUobGF0ZXN0UHJldmlld0h0bWwgfHwgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgZG9jLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTRU8gcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVTZW9QYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXNlb1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBzZW9QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIFNFTyBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHNlb1RpdGxlSW5wdXQgJiYgKHNlb1RpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5zZW8/LnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBzZW9EZXNjcmlwdGlvbklucHV0ICYmIChzZW9EZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJyk7XG4gICAgICAgICAgLy8gaW5kZXhlZDogdHJ1ZSBieSBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IHNldCB0byBmYWxzZVxuICAgICAgICAgIHNlb0luZGV4ZWRDaGVja2JveCAmJiAoc2VvSW5kZXhlZENoZWNrYm94LmNoZWNrZWQgPSBjdXJyZW50UGFnZS5zZW8/LmluZGV4ZWQgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFzZW9GZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHNlb0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHNlb0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHNlb1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzZW9QYW5lbCAmJiAhc2VvUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVNlb1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHNlb0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVNlb1BhbmVsKGZhbHNlKSk7XG4gICAgc2VvRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZW9EYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiAoc2VvVGl0bGVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogKHNlb0Rlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgaW5kZXhlZDogc2VvSW5kZXhlZENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0geyAuLi5jdXJyZW50UGFnZSwgc2VvOiBzZW9EYXRhIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soJ1NFTyBlbnJlZ2lzdHJcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NFTyBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbc2VvXSBzYXZlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcyA9ICgpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ICYmIChwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPSB0cnVlKTtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQgJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gJycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94LmNoZWNrZWQgPVxuICAgICAgICAgIGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuYWNjZXNzaWJpbGl0eT8ubWFpbkxhYmVsIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsID0gKHNob3cpID0+IHtcbiAgICAgIGlmICghcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzKCk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsICYmICFwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgIHRvZ2dsZVBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwoZmFsc2UpLFxuICAgICk7XG5cbiAgICBwYWdlQWNjZXNzaWJpbGl0eUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RGF0YSA9IHtcbiAgICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgbWFpbkxhYmVsOiAocGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGFjY2Vzc2liaWxpdHlEYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0FjY2Vzc2liaWxpdFx1MDBFOSBlbnJlZ2lzdHJcdTAwRTllLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdBY2Nlc3NpYmlsaXRcdTAwRTkgbWlzZSBcdTAwRTAgam91cicpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWNjZXNzaWJpbGl0eV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQYWdlIHByb3BlcnRpZXMgcGFuZWwgbG9naWNcbiAgICBjb25zdCB0b2dnbGVQYWdlUHJvcHNQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc1BhbmVsKSByZXR1cm47XG4gICAgICBpZiAoc2hvdykge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmllbGRzIHdpdGggY3VycmVudCBwYWdlIGRhdGFcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgcGFnZU5hbWVJbnB1dCAmJiAocGFnZU5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLm5hbWUgfHwgJycpO1xuICAgICAgICAgIHBhZ2VUaXRsZUlucHV0ICYmIChwYWdlVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnRpdGxlIHx8ICcnKTtcbiAgICAgICAgICBwYWdlU2x1Z0lucHV0ICYmIChwYWdlU2x1Z0lucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2x1ZyB8fCAnJyk7XG4gICAgICAgICAgcGFnZURlc2NyaXB0aW9uSW5wdXQgJiYgKHBhZ2VEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFBhZ2UuZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFBhZ2VQcm9wc0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VQcm9wc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWVtZXJhbGQtNjAwJyA6IHRvbmUgPT09ICdlcnJvcicgPyAndGV4dC1yb3NlLTYwMCcgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgcGFnZVByb3BzRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG4gICAgcGFnZVByb3BzVG9nZ2xlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHBhZ2VQcm9wc1BhbmVsICYmICFwYWdlUHJvcHNQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZVByb3BzUGFuZWwoIWlzVmlzaWJsZSk7XG4gICAgfSk7XG4gICAgcGFnZVByb3BzQ2xvc2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUGFnZVByb3BzUGFuZWwoZmFsc2UpKTtcbiAgICBwYWdlUHJvcHNGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdBdWN1bmUgcGFnZSBhY3RpdmUuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSAocGFnZU5hbWVJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSAocGFnZVRpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1NsdWcgPSAocGFnZVNsdWdJbnB1dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSAocGFnZURlc2NyaXB0aW9uSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0aW9uIGJhc2lxdWVcbiAgICAgICAgaWYgKCFuZXdUaXRsZSkge1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdMZSB0aXRyZSBlc3QgcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3U2x1ZyB8fCAhbmV3U2x1Zy5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgc2x1ZyBkb2l0IGNvbW1lbmNlciBwYXIgLy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZFBhZ2UgPSB7XG4gICAgICAgICAgLi4uY3VycmVudFBhZ2UsXG4gICAgICAgICAgbmFtZTogbmV3TmFtZSB8fCBuZXdUaXRsZSwgLy8gRmFsbGJhY2sgdG8gdGl0bGUgaWYgbmFtZSBpcyBlbXB0eVxuICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZSxcbiAgICAgICAgICBzbHVnOiBuZXdTbHVnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXdEZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnZXMgYXJyYXlcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IHNhdmVkLmlkID8gc2F2ZWQgOiBwKSk7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ1Byb3ByaVx1MDBFOXRcdTAwRTlzIGVucmVnaXN0clx1MDBFOWVzLicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdQYWdlIG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICAvLyBVcGRhdGUgVUlcbiAgICAgICAgICBzZXRBY3RpdmVMYWJlbHMoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZS1wcm9wc10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VQcm9wc1NhdmVCdXR0b24gJiYgKHBhZ2VQcm9wc1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ1N0YXJ0ID0gKGV2ZW50KSA9PiB7XG5cdCAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcblx0ICAgICAgaWYgKCFpdGVtIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBkcmFnU291cmNlSWQgPSBpdGVtLmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBkcmFnU291cmNlUGFyZW50SWQgPSBpdGVtLmRhdGFzZXQucGFyZW50QmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBpZiAoIWRyYWdTb3VyY2VJZCkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuXHQgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdTb3VyY2VJZCk7XG5cdCAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCdhcHBsaWNhdGlvbi94LXJhd2RpdC1wYXJlbnQnLCBkcmFnU291cmNlUGFyZW50SWQgfHwgJycpO1xuXHQgICAgICAvLyBTdHlsZSBkdSBibG9jIGVuIGNvdXJzIGRlIGRyYWdcblx0ICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0ICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuICAgIGNvbnN0IGNsZWFyRHJhZ0luZGljYXRvcnMgPSAoKSA9PiB7XG4gICAgICBibG9ja0xpc3RcbiAgICAgICAgPy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpXG4gICAgICAgIC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICAgICAgJ29wYWNpdHktNTAnLCAnc2NhbGUtWzAuOThdJywgJ3NoYWRvdy1sZycsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLFxuICAgICAgICAgICAgJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdwdC02JywgJ3BiLTYnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0VuZCA9ICgpID0+IHtcblx0ICAgICAgZHJhZ1NvdXJjZUlkID0gbnVsbDtcblx0ICAgICAgZHJhZ1NvdXJjZVBhcmVudElkID0gbnVsbDtcblx0ICAgICAgY2xlYXJEcmFnSW5kaWNhdG9ycygpO1xuXHQgICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdPdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgdGFyZ2V0LmRhdGFzZXQuYmxvY2tJZCA9PT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIC8vIERcdTAwRTl0ZXJtaW5lIHNpIG9uIGRyb3AgYXZhbnQgb3UgYXByXHUwMEU4c1xuICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IG1pZFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzQWJvdmUgPSBldmVudC5jbGllbnRZIDwgbWlkWTtcbiAgICAgIC8vIE5ldHRvaWUgbGVzIGF1dHJlcyBpbmRpY2F0ZXVyc1xuICAgICAgYmxvY2tMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay1pdGVtXScpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldCAmJiBub2RlLmRhdGFzZXQuYmxvY2tJZCAhPT0gZHJhZ1NvdXJjZUlkKSB7XG4gICAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBcHBsaXF1ZSBsJ2luZGljYXRldXIgZGUgcG9zaXRpb25cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGlmIChpc0Fib3ZlKSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdib3JkZXItdC00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdwdC02Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLWItNCcsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncGItNicpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmRhdGFzZXQuZHJvcFBvc2l0aW9uID0gaXNBYm92ZSA/ICdiZWZvcmUnIDogJ2FmdGVyJztcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJhZ0xlYXZlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFZcdTAwRTlyaWZpZSBzaSBvbiBxdWl0dGUgdnJhaW1lbnQgbCdcdTAwRTlsXHUwMEU5bWVudCAocGFzIGp1c3RlIHZlcnMgdW4gZW5mYW50KVxuICAgICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICBpZiAocmVsYXRlZFRhcmdldCAmJiB0YXJnZXQuY29udGFpbnMocmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci10LTQnLCAnYm9yZGVyLWItNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3B0LTYnLCAncGItNicpO1xuICAgICAgZGVsZXRlIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbjtcbiAgICB9O1xuXHQgICAgY29uc3QgaGFuZGxlQmxvY2tEcm9wID0gKGV2ZW50KSA9PiB7XG5cdCAgICAgIGlmICghZHJhZ1NvdXJjZUlkIHx8ICFpc0Rlc2t0b3BSZW9yZGVyKCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG5cdCAgICAgIGNvbnN0IHNvdXJjZSA9IGRyYWdTb3VyY2VJZDtcblx0ICAgICAgY29uc3Qgc291cmNlUGFyZW50ID0gZHJhZ1NvdXJjZVBhcmVudElkO1xuXHQgICAgICBjb25zdCBkcm9wUG9zaXRpb24gPSB0YXJnZXQ/LmRhdGFzZXQuZHJvcFBvc2l0aW9uIHx8ICdhZnRlcic7XG5cdCAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG5cdCAgICAgIGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG5cdCAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcblx0ICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YXJnZXQ/LmRhdGFzZXQuYmxvY2tJZCB8fCBudWxsO1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFzb3VyY2UpIHJldHVybjtcblx0ICAgICAgaWYgKCF0YXJnZXRJZCkge1xuXHQgICAgICAgIGlmIChzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzb3VyY2UgPT09IHRhcmdldElkKSByZXR1cm47XG5cblx0ICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gdGFyZ2V0Py5kYXRhc2V0LnBhcmVudEJsb2NrSWQgfHwgbnVsbDtcblxuXHQgICAgICAvLyBEXHUwMEU5cGxhY2VyIGRlcHVpcyB1biBncm91cGVcblx0ICAgICAgaWYgKHNvdXJjZVBhcmVudCkge1xuXHQgICAgICAgIGlmICh0YXJnZXRQYXJlbnQpIHtcblx0ICAgICAgICAgIC8vIFZlcnMgdW4gZW5mYW50IGQndW4gZ3JvdXBlIChtXHUwMEVBbWUgZ3JvdXBlIFx1MjE5MiByZW9yZGVyLCBhdXRyZSBncm91cGUgXHUyMTkyIG1vdmUpXG5cdCAgICAgICAgICBpZiAodGFyZ2V0UGFyZW50ID09PSBzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICAgICAgbW92ZUNoaWxkV2l0aGluR3JvdXAoc291cmNlUGFyZW50LCBzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBtb3ZlQW55QmxvY2tUb0dyb3VwQXQoc291cmNlLCB0YXJnZXRQYXJlbnQsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIERyb3Agc3VyIHVuIGJsb2MgcmFjaW5lIFx1MjE5MiBzb3J0aXIgZHUgZ3JvdXBlIFx1MDBFMCB1bmUgcG9zaXRpb25cblx0ICAgICAgICBjb25zdCB0YXJnZXRSb290SW5kZXggPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZEluZGV4KChiKSA9PiBiLmlkID09PSB0YXJnZXRJZCk7XG5cdCAgICAgICAgaWYgKHRhcmdldFJvb3RJbmRleCA9PT0gLTEpIHtcblx0ICAgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbih0YXJnZXRSb290SW5kZXgsIGRyb3BQb3NpdGlvbiwgMSk7XG5cdCAgICAgICAgbW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQoc291cmNlUGFyZW50LCBzb3VyY2UsIGluc2VydEluZGV4ID8/IGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIERcdTAwRTlwbGFjZXIgZGVwdWlzIGxhIGxpc3RlIHJhY2luZSB2ZXJzIGwnaW50XHUwMEU5cmlldXIgZCd1biBncm91cGUgKGRyb3Agc3VyIGVuZmFudClcblx0ICAgICAgaWYgKHRhcmdldFBhcmVudCkge1xuXHQgICAgICAgIG1vdmVBbnlCbG9ja1RvR3JvdXBBdChzb3VyY2UsIHRhcmdldFBhcmVudCwgdGFyZ2V0SWQsIGRyb3BQb3NpdGlvbik7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gUGFyIGRcdTAwRTlmYXV0OiByZW9yZGVyIGRlcyBibG9jcyByYWNpbmVcblx0ICAgICAgcmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbihzb3VyY2UsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgfTtcblx0ICAgIGxldCBkcmFnU291cmNlSWQgPSBudWxsO1xuXHQgICAgbGV0IGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVCbG9ja0RyYWdTdGFydCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgaGFuZGxlQmxvY2tEcmFnRW5kKTtcbiAgICBibG9ja0xpc3Q/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlQmxvY2tEcmFnT3Zlcik7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgaGFuZGxlQmxvY2tEcm9wKTtcbiAgICBsb2FkUGFnZXNGcm9tU2VydmVyKCk7XG5cbiAgICAvLyBcdTAwQzljb3V0ZXIgbCdcdTAwRTl2XHUwMEU5bmVtZW50IGRlIHJhZnJhXHUwMEVFY2hpc3NlbWVudCBkXHUwMEU5Y2xlbmNoXHUwMEU5IHBhciBsJ0lBXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktcGFnZS11cGRhdGVkJywgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbZGVzaWduXSBSYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgSUEnLCBlLmRldGFpbCk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIHBhZ2VzIGRlcHVpcyBsZSBzZXJ2ZXVyXG4gICAgICAgIGNvbnN0IGxvYWRlZFBhZ2VzID0gYXdhaXQgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIoKTtcbiAgICAgICAgcGFnZXMgPSAoQXJyYXkuaXNBcnJheShsb2FkZWRQYWdlcykgPyBsb2FkZWRQYWdlcyA6IFtdKS5tYXAoKHBhZ2UpID0+XG4gICAgICAgICAgbm9ybWFsaXplUGFnZURhdGEocGFnZSksXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcm91dmVyIGV0IG1ldHRyZSBcdTAwRTAgam91ciBsYSBwYWdlIGFjdGl2ZVxuICAgICAgICBpZiAoZS5kZXRhaWw/LnBhZ2VJZCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0gcGFnZXMuZmluZChwID0+IHAuaWQgPT09IGUuZGV0YWlsLnBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZWRQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IHVwZGF0ZWRQYWdlO1xuICAgICAgICAgICAgYWN0aXZlUGFnZUlkID0gdXBkYXRlZFBhZ2UuaWQ7XG4gICAgICAgICAgICAvLyBSYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlldyBhdmVjIGxhIHBhZ2UgbWlzZSBcdTAwRTAgam91clxuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIGxpc3RlIGRlcyBibG9jc1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyIHBhciBsXFwnSUEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlUGFnZUlkKSB7XG4gICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHBhZ2UgYWN0aXZlIGFjdHVlbGxlXG4gICAgICAgICAgY29uc3QgYWN0aXZlUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIGlmIChhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICByZWZyZXNoUHJldmlldyhjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEVycmV1ciByYWZyYVx1MDBFRWNoaXNzZW1lbnQgSUE6JywgZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDb250ZW50V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpO1xuICAgIGlmICghY29sbGVjdGlvbkxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgLy8gSEVBREVSICYgRk9PVEVSIE1BTkFHRU1FTlRcbiAgICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgICBjb25zdCBjb250ZW50Vmlld3MgPSB7XG4gICAgICBlbXB0eTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiZW1wdHlcIl0nKSxcbiAgICAgIGhlYWRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiaGVhZGVyXCJdJyksXG4gICAgICBjb2xsZWN0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJjb2xsZWN0aW9uXCJdJyksXG4gICAgICBmb290ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImZvb3RlclwiXScpLFxuICAgIH07XG4gICAgY29uc3QgY29udGVudFNlY3Rpb25CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uXScpO1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb250ZW50LXNlY3Rpb24tdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoZWFkZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGZvb3RlclN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zdGF0dXNdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkNvdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWNvdW50XScpO1xuICAgIGNvbnN0IGl0ZW1QYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tcGFuZWxdJyk7XG4gICAgY29uc3QgaXRlbVBhbmVsQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaXRlbS1wYW5lbC1jbG9zZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZW1wdHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkl0ZW1zRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWl0ZW1zLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgaXRlbVRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tdGFibGUtYm9keV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLXRpdGxlXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tZGVzY3JpcHRpb25dJyk7XG4gICAgY29uc3QgaXRlbUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tYWRkXScpO1xuICAgIGNvbnN0IGl0ZW1EZXRhaWxFbXB0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1mb3JtXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtRmllbGRzID0gaXRlbUZvcm1cbiAgICAgID8ge1xuICAgICAgICAgIHRpdGxlOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tdGl0bGVcIl0nKSxcbiAgICAgICAgICBzbHVnOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tc2x1Z1wiXScpLFxuICAgICAgICAgIGV4Y2VycHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1leGNlcnB0XCJdJyksXG4gICAgICAgICAgY29udGVudDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWNvbnRlbnRcIl0nKSxcbiAgICAgICAgICBpbWFnZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWltYWdlXCJdJyksXG4gICAgICAgICAgY3RhVGV4dDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS10ZXh0XCJdJyksXG4gICAgICAgICAgY3RhVXJsOiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tY3RhLXVybFwiXScpLFxuICAgICAgICAgIHN0YXR1czogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXN0YXR1c1wiXScpLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICAgIGNvbnN0IGl0ZW1TdGF0dXNCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc3RhdHVzLWJhZGdlXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRlbGV0ZS1tb2RhbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1EZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtY29uZmlybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tY2FuY2VsXScpO1xuICAgIGNvbnN0IGl0ZW1Gb3JtU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tc2F2ZV0nKTtcbiAgICBjb25zdCBzdGF0dXNCYWRnZUJhc2VDbGFzcyA9ICdyb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgY29uc3QgaXNEZXNrdG9wVmlld3BvcnQgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgY29uc3Qgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUgPSAoaGlkZGVuKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCB8fCBpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxIaWRkZW4gfHwgJyc7XG4gICAgICBjb25zdCB2aXNpYmxlQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbFZpc2libGUgfHwgJyc7XG4gICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAnYWRkJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgdmlzaWJsZUNsYXNzZXMsICdhZGQnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1QYW5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIGhpZGRlbkNsYXNzZXMsICdyZW1vdmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtPy5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQpO1xuICAgIGl0ZW1QYW5lbENsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICBcbiAgICAvLyBIZWFkZXIgZmllbGRzXG4gICAgY29uc3QgaGVhZGVyRmllbGRzID0ge1xuICAgICAgbG9nbzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nb1wiXScpLFxuICAgICAgbG9nb0FsdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItbG9nby1hbHRcIl0nKSxcbiAgICAgIGxvZ29Vcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tdXJsXCJdJyksXG4gICAgICBjdGFUZXh0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdGV4dFwiXScpLFxuICAgICAgY3RhVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdXJsXCJdJyksXG4gICAgICBjdGFTdHlsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXN0eWxlXCJdJyksXG4gICAgICBjdGFUZXh0Q29sb3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS10ZXh0LWNvbG9yXCJdJyksXG4gICAgICBwb3NpdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItcG9zaXRpb25cIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1iZ1wiXScpLFxuICAgIH07XG4gICAgY29uc3QgaGVhZGVyTmF2T3JkZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLW5hdi1vcmRlci1saXN0XScpO1xuICAgIGNvbnN0IGhlYWRlclNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1oZWFkZXItc2F2ZV0nKTtcbiAgICBjb25zdCBoZWFkZXJOYXZJdGVtVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1oZWFkZXItbmF2LWl0ZW1dJyk7XG4gICAgY29uc3QgaGVhZGVyUGFnZXNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXBhZ2VzLWxpc3RdJyk7XG4gICAgbGV0IHNpdGVQYWdlcyA9IFtdOyAvLyBQYWdlcyBkdSBzaXRlIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICBsZXQgc2VsZWN0ZWROYXZQYWdlcyA9IFtdOyAvLyBQYWdlcyBzXHUwMEU5bGVjdGlvbm5cdTAwRTllcyBwb3VyIGxlIG1lbnUgKGF2ZWMgb3JkcmUpXG4gICAgXG4gICAgLy8gRm9vdGVyIGZpZWxkc1xuICAgIGNvbnN0IGZvb3RlckZpZWxkcyA9IHtcbiAgICAgIGxpbmtlZGluOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtbGlua2VkaW5cIl0nKSxcbiAgICAgIHR3aXR0ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC10d2l0dGVyXCJdJyksXG4gICAgICBpbnN0YWdyYW06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1pbnN0YWdyYW1cIl0nKSxcbiAgICAgIGZhY2Vib29rOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZmFjZWJvb2tcIl0nKSxcbiAgICAgIHlvdXR1YmU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC15b3V0dWJlXCJdJyksXG4gICAgICBnaXRodWI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLXNvY2lhbC1naXRodWJcIl0nKSxcbiAgICAgIGNvcHlyaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItY29weXJpZ2h0XCJdJyksXG4gICAgICBsZWdhbFVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItbGVnYWwtdXJsXCJdJyksXG4gICAgICBwcml2YWN5VXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1wcml2YWN5LXVybFwiXScpLFxuICAgICAgYmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWJnXCJdJyksXG4gICAgICBjb2x1bW5zQ291bnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvbHVtbnMtY291bnRcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGZvb3RlckNvbHVtbnNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbnMtbGlzdF0nKTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5BZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1uLWFkZF0nKTtcbiAgICBjb25zdCBmb290ZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLXNhdmVdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItY29sdW1uXScpO1xuICAgIGNvbnN0IGZvb3RlckxpbmtUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWZvb3Rlci1saW5rXScpO1xuICAgIFxuICAgIGxldCBhY3RpdmVDb250ZW50U2VjdGlvbiA9IG51bGw7XG4gICAgbGV0IGhlYWRlckRhdGEgPSB7IG5hdjogW10sIGxvZ286IHt9LCBjdGE6IHt9LCBzdHlsZToge30gfTtcbiAgICBsZXQgZm9vdGVyRGF0YSA9IHsgY29sdW1uczogW10sIHNvY2lhbHM6IHt9LCBjb3B5cmlnaHQ6ICcnLCBsZWdhbDoge30sIHN0eWxlOiB7fSB9O1xuICAgIFxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA9IHN0cmlwTGVhZGluZ1NsYXNoKHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGNvbnN0IHNsdWcgPSBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQ7IC8vIEFsaWFzIHBvdXIgbGVzIGZvbmN0aW9ucyBxdWkgdXRpbGlzZW50IHNsdWdcbiAgICBjb25zdCBsYXlvdXRBcGlCYXNlID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0ID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnRm9yTGF5b3V0KX0vbGF5b3V0YCA6IG51bGw7XG4gICAgXG4gICAgLy8gVmlldyBzd2l0Y2hpbmdcbiAgICBjb25zdCBzaG93Q29udGVudFZpZXcgPSAodmlld05hbWUpID0+IHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbnRlbnRWaWV3cykuZm9yRWFjaCgoW25hbWUsIGVsXSkgPT4ge1xuICAgICAgICBpZiAoZWwpIGVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIG5hbWUgIT09IHZpZXdOYW1lKTtcbiAgICAgIH0pO1xuICAgICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gdmlld05hbWUpIHtcbiAgICAgICAgICBidG4uZGF0YXNldC5hY3RpdmUgPSAndHJ1ZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGJ0bi5kYXRhc2V0LmFjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhY3RpdmVDb250ZW50U2VjdGlvbiA9IHZpZXdOYW1lO1xuICAgIH07XG4gICAgXG4gICAgLy8gU2VjdGlvbiBidXR0b24gaGFuZGxlcnNcbiAgICBjb250ZW50U2VjdGlvbkJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb247XG4gICAgICAgIGlmIChzZWN0aW9uID09PSAnaGVhZGVyJyB8fCBzZWN0aW9uID09PSAnZm9vdGVyJykge1xuICAgICAgICAgIHNob3dDb250ZW50VmlldyhzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29udGVudFNlY3Rpb25UcmlnZ2Vycy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvblRyaWdnZXI7XG4gICAgICAgIGlmIChzZWN0aW9uKSBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICAvLyBIRUFERVIgRlVOQ1RJT05TXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgXG4gICAgLy8gQ2hhcmdlciBsYSBsaXN0ZSBkZXMgcGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgY29uc3QgbG9hZFNpdGVQYWdlc0ZvckhlYWRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc2x1ZyB8fCAhaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7c2x1Z30vcGFnZXNgLCB7IGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIGNoYXJnZW1lbnQgcGFnZXMnKTtcbiAgICAgICAgc2l0ZVBhZ2VzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZW5kZXJQYWdlQ2hlY2tib3hlcygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1toZWFkZXJdIGxvYWQgcGFnZXMgZXJyb3InLCBlcnIpO1xuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXJlZC01MDBcIj5FcnJldXIgY2hhcmdlbWVudCBwYWdlczwvcD4nO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGVzIGNoZWNrYm94ZXMgcG91ciBjaGFxdWUgcGFnZVxuICBjb25zdCBub3JtYWxpemVOYXZQYWdlVXJsID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXJhdyB8fCByYXcgPT09ICcvJyB8fCByYXcgPT09ICdpbmRleCcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIGNvbnN0IGxvd2VyID0gcmF3LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGlmIChsb3dlci5zdGFydHNXaXRoKCdtYWlsdG86JykgfHwgbG93ZXIuc3RhcnRzV2l0aCgndGVsOicpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAoL15bYS16XSs6XFwvXFwvL2kudGVzdChyYXcpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAocmF3LnN0YXJ0c1dpdGgoJy8vJykpIHtcbiAgICAgIGNvbnN0IHdpdGhvdXRTbGFzaGVzID0gcmF3LnNsaWNlKDIpO1xuICAgICAgaWYgKHdpdGhvdXRTbGFzaGVzLmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgcmV0dXJuIHJhdztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNsZWFuZWRJbnRlcm5hbCA9IHdpdGhvdXRTbGFzaGVzLnJlcGxhY2UoL15cXC8rLywgJycpLnJlcGxhY2UoL1xcLyskLywgJycpO1xuICAgICAgcmV0dXJuIGNsZWFuZWRJbnRlcm5hbCA/IGAvJHtjbGVhbmVkSW50ZXJuYWx9YCA6ICcvJztcbiAgICB9XG4gICAgY29uc3QgY2xlYW5lZCA9IHJhdy5yZXBsYWNlKC9eXFwvKy8sICcnKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICByZXR1cm4gY2xlYW5lZCA/IGAvJHtjbGVhbmVkfWAgOiAnLyc7XG4gIH07XG4gIGNvbnN0IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUgPSAnJykgPT4ge1xuICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZU5hdlBhZ2VVcmwodHJpbW1lZCk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUGFnZUNoZWNrYm94ZXMgPSAoKSA9PiB7XG4gICAgaWYgKCFoZWFkZXJQYWdlc0xpc3QpIHJldHVybjtcbiAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBpZiAoc2l0ZVBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBpdGFsaWNcIj5BdWN1bmUgcGFnZSBkaXNwb25pYmxlPC9wPic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgIHNpdGVQYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICBjb25zdCBwYWdlU2x1ZyA9IHBhZ2Uuc2x1ZyB8fCBwYWdlLmlkIHx8ICcnO1xuICAgICAgLy8gVXNlIHBhZ2UubmFtZSAoc2hvcnQgbmFtZSkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byB0aXRsZVxuICAgICAgY29uc3QgcGFnZURpc3BsYXlOYW1lID0gcGFnZS5uYW1lIHx8IHBhZ2UudGl0bGUgfHwgcGFnZVNsdWc7XG4gICAgICBjb25zdCBwYWdlVXJsID0gbm9ybWFsaXplTmF2UGFnZVVybChwYWdlU2x1Zyk7XG5cbiAgICAgIC8vIFZcdTAwRTlyaWZpZXIgc2kgY2V0dGUgcGFnZSBlc3Qgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZSBkYW5zIGxhIG5hdlxuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkTmF2UGFnZXMuc29tZShuYXYgPT4gbmF2LnVybCA9PT0gcGFnZVVybCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBob3ZlcjpiZy1zbGF0ZS01MCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9ycyc7XG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIm5hdi1wYWdlXCIgdmFsdWU9XCIke3BhZ2VVcmx9XCIgZGF0YS1wYWdlLXRpdGxlPVwiJHtwYWdlRGlzcGxheU5hbWV9XCJcbiAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LTQgaC00IHJvdW5kZWQgYm9yZGVyLXNsYXRlLTMwMCB0ZXh0LXZpb2xldC02MDAgZm9jdXM6cmluZy12aW9sZXQtNTAwXCJcbiAgICAgICAgICAgICAgICAgJHtpc1NlbGVjdGVkID8gJ2NoZWNrZWQnIDogJyd9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleC0xIHRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj4ke3BhZ2VEaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwXCI+JHtwYWdlVXJsfTwvc3Bhbj5cbiAgICAgICAgYDtcbiAgICAgICAgXG4gICAgICAgIC8vIE1ldHRyZSBcdTAwRTAgam91ciBzZWxlY3RlZE5hdlBhZ2VzIHF1YW5kIG9uIGNvY2hlL2RcdTAwRTljb2NoZVxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHNlbGVjdGVkTmF2UGFnZXMuZmluZEluZGV4KChuYXYpID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMucHVzaCh7IGxhYmVsOiBwYWdlRGlzcGxheU5hbWUsIHVybDogcGFnZVVybCB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXNbZXhpc3RpbmdJbmRleF0gPSB7IC4uLnNlbGVjdGVkTmF2UGFnZXNbZXhpc3RpbmdJbmRleF0sIGxhYmVsOiBwYWdlRGlzcGxheU5hbWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IHNlbGVjdGVkTmF2UGFnZXMuZmlsdGVyKChuYXYpID0+IG5hdi51cmwgIT09IHBhZ2VVcmwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJIZWFkZXJOYXZPcmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGhlYWRlclBhZ2VzTGlzdC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVySGVhZGVyTmF2T3JkZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGVhZGVyTmF2T3JkZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWhlYWRlck5hdk9yZGVyTGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoZWFkZXJOYXZPcmRlckxpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgIGlmICghc2VsZWN0ZWROYXZQYWdlcyB8fCBzZWxlY3RlZE5hdlBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBlbXB0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgZW1wdHkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAgaXRhbGljJztcbiAgICAgICAgZW1wdHkudGV4dENvbnRlbnQgPSAnQXVjdW4gbGllbiBkZSBtZW51IHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nO1xuICAgICAgICBoZWFkZXJOYXZPcmRlckxpc3QuYXBwZW5kQ2hpbGQoZW1wdHkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdGVkTmF2UGFnZXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGJnLXdoaXRlIHB4LTMgcHktMic7XG4gICAgICAgIHJvdy5kYXRhc2V0Lm5hdlVybCA9IGl0ZW0udXJsO1xuXG4gICAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWV0YS5jbGFzc05hbWUgPSAnZmxleC0xIG1pbi13LTAnO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ3RleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS04MDAgdHJ1bmNhdGUnO1xuICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IGl0ZW0ubGFiZWwgfHwgaXRlbS51cmw7XG4gICAgICAgIGNvbnN0IHVybCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgdXJsLmNsYXNzTmFtZSA9ICd0ZXh0LVsxMXB4XSB0ZXh0LXNsYXRlLTQwMCB0cnVuY2F0ZSc7XG4gICAgICAgIHVybC50ZXh0Q29udGVudCA9IGl0ZW0udXJsO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZCh1cmwpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRyb2xzLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSc7XG5cbiAgICAgICAgY29uc3QgdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgICB1cC5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAgaG92ZXI6Ymctc2xhdGUtNTAgZGlzYWJsZWQ6b3BhY2l0eS00MCBkaXNhYmxlZDpob3ZlcjpiZy10cmFuc3BhcmVudCc7XG4gICAgICAgIHVwLnRleHRDb250ZW50ID0gJ1x1MjE5MSc7XG4gICAgICAgIHVwLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBNb250ZXIgJHtpdGVtLmxhYmVsIHx8IGl0ZW0udXJsfWApO1xuICAgICAgICB1cC5kaXNhYmxlZCA9IGluZGV4ID09PSAwO1xuICAgICAgICB1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPD0gMCkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4uc2VsZWN0ZWROYXZQYWdlc107XG4gICAgICAgICAgY29uc3QgdG1wID0gbmV4dFtpbmRleCAtIDFdO1xuICAgICAgICAgIG5leHRbaW5kZXggLSAxXSA9IG5leHRbaW5kZXhdO1xuICAgICAgICAgIG5leHRbaW5kZXhdID0gdG1wO1xuICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBuZXh0O1xuICAgICAgICAgIHJlbmRlckhlYWRlck5hdk9yZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZG93bi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGRvd24uY2xhc3NOYW1lID1cbiAgICAgICAgICAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIGhvdmVyOmJnLXNsYXRlLTUwIGRpc2FibGVkOm9wYWNpdHktNDAgZGlzYWJsZWQ6aG92ZXI6YmctdHJhbnNwYXJlbnQnO1xuICAgICAgICBkb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICAgIGRvd24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYERlc2NlbmRyZSAke2l0ZW0ubGFiZWwgfHwgaXRlbS51cmx9YCk7XG4gICAgICAgIGRvd24uZGlzYWJsZWQgPSBpbmRleCA9PT0gc2VsZWN0ZWROYXZQYWdlcy5sZW5ndGggLSAxO1xuICAgICAgICBkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBzZWxlY3RlZE5hdlBhZ2VzLmxlbmd0aCAtIDEpIHJldHVybjtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnNlbGVjdGVkTmF2UGFnZXNdO1xuICAgICAgICAgIGNvbnN0IHRtcCA9IG5leHRbaW5kZXggKyAxXTtcbiAgICAgICAgICBuZXh0W2luZGV4ICsgMV0gPSBuZXh0W2luZGV4XTtcbiAgICAgICAgICBuZXh0W2luZGV4XSA9IHRtcDtcbiAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gbmV4dDtcbiAgICAgICAgICByZW5kZXJIZWFkZXJOYXZPcmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgcmVtb3ZlLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgcmVtb3ZlLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXJvc2UtNzAwIGhvdmVyOmJnLXJvc2UtNTAnO1xuICAgICAgICByZW1vdmUudGV4dENvbnRlbnQgPSAnXHUyNzE1JztcbiAgICAgICAgcmVtb3ZlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBSZXRpcmVyICR7aXRlbS5sYWJlbCB8fCBpdGVtLnVybH1gKTtcbiAgICAgICAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBzZWxlY3RlZE5hdlBhZ2VzLmZpbHRlcigobmF2KSA9PiBuYXYudXJsICE9PSBpdGVtLnVybCk7XG4gICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBoZWFkZXJQYWdlc0xpc3Q/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgaW5wdXRbbmFtZT1cXFwibmF2LXBhZ2VcXFwiXVt2YWx1ZT1cXFwiJHtDU1MuZXNjYXBlKGl0ZW0udXJsKX1cXFwiXWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoY2hlY2tib3gpIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICByZW5kZXJIZWFkZXJOYXZPcmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZCh1cCk7XG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKGRvd24pO1xuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZChyZW1vdmUpO1xuXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChtZXRhKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGNvbnRyb2xzKTtcbiAgICAgICAgaGVhZGVyTmF2T3JkZXJMaXN0LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RIZWFkZXJEYXRhID0gKCkgPT4ge1xuICAgICAgY29uc3QgbmF2ID0gKHNlbGVjdGVkTmF2UGFnZXMgfHwgW10pXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgbGFiZWw6IChpdGVtLmxhYmVsIHx8IGl0ZW0udXJsIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKSxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU5hdlBhZ2VVcmwoaXRlbS51cmwpLFxuICAgICAgICB9KSlcbiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS51cmwpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2dvOiB7XG4gICAgICAgICAgc3JjOiBoZWFkZXJGaWVsZHMubG9nbz8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBhbHQ6IGhlYWRlckZpZWxkcy5sb2dvQWx0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHVybDogbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoaGVhZGVyRmllbGRzLmxvZ29Vcmw/LnZhbHVlLCAnLycpLFxuICAgICAgICB9LFxuICAgICAgICBuYXYsXG4gICAgICAgIGN0YToge1xuICAgICAgICAgIHRleHQ6IGhlYWRlckZpZWxkcy5jdGFUZXh0Py52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIHVybDogbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoaGVhZGVyRmllbGRzLmN0YVVybD8udmFsdWUsICcnKSxcbiAgICAgICAgICBzdHlsZTogaGVhZGVyRmllbGRzLmN0YVN0eWxlPy52YWx1ZSB8fCAncHJpbWFyeScsXG4gICAgICAgICAgdGV4dENvbG9yOiBoZWFkZXJGaWVsZHMuY3RhVGV4dENvbG9yPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogaGVhZGVyRmllbGRzLnBvc2l0aW9uPy52YWx1ZSB8fCAnc3RhdGljJyxcbiAgICAgICAgICBiZzogaGVhZGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctd2hpdGUnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlSGVhZGVyRm9ybSA9IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nbykgaGVhZGVyRmllbGRzLmxvZ28udmFsdWUgPSBkYXRhLmxvZ28/LnNyYyB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb0FsdCkgaGVhZGVyRmllbGRzLmxvZ29BbHQudmFsdWUgPSBkYXRhLmxvZ28/LmFsdCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMubG9nb1VybCkgaGVhZGVyRmllbGRzLmxvZ29VcmwudmFsdWUgPSBub3JtYWxpemVPcHRpb25hbE5hdlVybChkYXRhLmxvZ28/LnVybCwgJy8nKTtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVGV4dCkgaGVhZGVyRmllbGRzLmN0YVRleHQudmFsdWUgPSBkYXRhLmN0YT8udGV4dCB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVXJsKSBoZWFkZXJGaWVsZHMuY3RhVXJsLnZhbHVlID0gbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoZGF0YS5jdGE/LnVybCwgJycpO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5jdGFTdHlsZSkgaGVhZGVyRmllbGRzLmN0YVN0eWxlLnZhbHVlID0gZGF0YS5jdGE/LnN0eWxlIHx8ICdwcmltYXJ5JztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhVGV4dENvbG9yKSBoZWFkZXJGaWVsZHMuY3RhVGV4dENvbG9yLnZhbHVlID0gZGF0YS5jdGE/LnRleHRDb2xvciB8fCAnJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMucG9zaXRpb24pIGhlYWRlckZpZWxkcy5wb3NpdGlvbi52YWx1ZSA9IGRhdGEuc3R5bGU/LnBvc2l0aW9uIHx8ICdzdGF0aWMnO1xuICAgICAgaWYgKGhlYWRlckZpZWxkcy5iZykgaGVhZGVyRmllbGRzLmJnLnZhbHVlID0gZGF0YS5zdHlsZT8uYmcgfHwgJ2JnLXdoaXRlJztcbiAgICAgIFxuICAgICAgLy8gU3RvY2tlciBsZXMgcGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IChkYXRhLm5hdiB8fCBbXSkubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICB1cmw6IG5vcm1hbGl6ZU5hdlBhZ2VVcmwoaXRlbS51cmwpLFxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICAvLyBDaGFyZ2VyIGxlcyBwYWdlcyBldCBhZmZpY2hlciBsZXMgY2hlY2tib3hlc1xuICAgICAgYXdhaXQgbG9hZFNpdGVQYWdlc0ZvckhlYWRlcigpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3QgaGFzRGF0YSA9IGRhdGEubG9nbz8uc3JjIHx8IGRhdGEubmF2Py5sZW5ndGggPiAwIHx8IGRhdGEuY3RhPy50ZXh0O1xuICAgICAgaWYgKGhlYWRlclN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBoZWFkZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctZ3JlZW4tNTAwJywgISFoYXNEYXRhKTtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLXNsYXRlLTMwMCcsICFoYXNEYXRhKTtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLnRpdGxlID0gaGFzRGF0YSA/ICdDb25maWd1clx1MDBFOScgOiAnTm9uIGNvbmZpZ3VyXHUwMEU5JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaGVhZGVyU2F2ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIGhlYWRlclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaGVhZGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlbWVudC4uLic7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gY29sbGVjdEhlYWRlckRhdGEoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtsYXlvdXRBcGlCYXNlfS9oZWFkZXJgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICBoZWFkZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcG9wdWxhdGVIZWFkZXJGb3JtKGRhdGEpO1xuICAgICAgICBzaG93VG9hc3QoJ0hlYWRlciBlbnJlZ2lzdHJcdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBzYXZlIGVycm9yJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZW5yZWdpc3RyZW1lbnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGhlYWRlclNhdmVCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaGVhZGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gRk9PVEVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIGNvbnN0IGFkZEZvb3RlckxpbmsgPSAoY29udGFpbmVyLCBsYWJlbCA9ICcnLCB1cmwgPSAnJykgPT4ge1xuICAgICAgaWYgKCFmb290ZXJMaW5rVGVtcGxhdGUgfHwgIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBmb290ZXJMaW5rVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBpdGVtID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWxpbmtdJyk7XG4gICAgICBjb25zdCBsYWJlbElucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLWxhYmVsXCJdJyk7XG4gICAgICBjb25zdCB1cmxJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay11cmxcIl0nKTtcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxpbmstcmVtb3ZlXScpO1xuICAgICAgaWYgKGxhYmVsSW5wdXQpIGxhYmVsSW5wdXQudmFsdWUgPSBsYWJlbDtcbiAgICAgIGlmICh1cmxJbnB1dCkgdXJsSW5wdXQudmFsdWUgPSB1cmw7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaXRlbT8ucmVtb3ZlKCkpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGFkZEZvb3RlckNvbHVtbiA9ICh0aXRsZSA9ICcnLCBsaW5rcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWZvb3RlckNvbHVtblRlbXBsYXRlIHx8ICFmb290ZXJDb2x1bW5zTGlzdCkgcmV0dXJuO1xuICAgICAgY29uc3QgY2xvbmUgPSBmb290ZXJDb2x1bW5UZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5dJyk7XG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gY2xvbmUucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2x1bW4tdGl0bGVcIl0nKTtcbiAgICAgIGNvbnN0IGxpbmtzQ29udGFpbmVyID0gY2xvbmUucXVlcnlTZWxlY3RvcignW2RhdGEtY29sdW1uLWxpbmtzXScpO1xuICAgICAgY29uc3QgYWRkTGlua0J0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1saW5rLWFkZF0nKTtcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1yZW1vdmVdJyk7XG4gICAgICBpZiAodGl0bGVJbnB1dCkgdGl0bGVJbnB1dC52YWx1ZSA9IHRpdGxlO1xuICAgICAgbGlua3MuZm9yRWFjaChsaW5rID0+IGFkZEZvb3RlckxpbmsobGlua3NDb250YWluZXIsIGxpbmsubGFiZWwsIGxpbmsudXJsKSk7XG4gICAgICBhZGRMaW5rQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZvb3RlckxpbmsobGlua3NDb250YWluZXIpKTtcbiAgICAgIHJlbW92ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjb2x1bW4/LnJlbW92ZSgpKTtcbiAgICAgIGZvb3RlckNvbHVtbnNMaXN0LmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbGxlY3RGb290ZXJEYXRhID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sdW1ucyA9IFtdO1xuICAgICAgZm9vdGVyQ29sdW1uc0xpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZvb3Rlci1jb2x1bW5dJykuZm9yRWFjaChjb2wgPT4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGNvbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImNvbHVtbi10aXRsZVwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICBjb25zdCBsaW5rcyA9IFtdO1xuICAgICAgICBjb2wucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZm9vdGVyLWxpbmtdJykuZm9yRWFjaChsaW5rRWwgPT4ge1xuICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGlua0VsLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay1sYWJlbFwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICAgIGNvbnN0IHVybCA9IGxpbmtFbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstdXJsXCJdJyk/LnZhbHVlPy50cmltKCkgfHwgJyc7XG4gICAgICAgICAgaWYgKGxhYmVsIHx8IHVybCkgbGlua3MucHVzaCh7IGxhYmVsLCB1cmwgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGl0bGUgfHwgbGlua3MubGVuZ3RoID4gMCkgY29sdW1ucy5wdXNoKHsgdGl0bGUsIGxpbmtzIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBzb2NpYWxzOiB7XG4gICAgICAgICAgbGlua2VkaW46IGZvb3RlckZpZWxkcy5saW5rZWRpbj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB0d2l0dGVyOiBmb290ZXJGaWVsZHMudHdpdHRlcj8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBpbnN0YWdyYW06IGZvb3RlckZpZWxkcy5pbnN0YWdyYW0/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgZmFjZWJvb2s6IGZvb3RlckZpZWxkcy5mYWNlYm9vaz8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB5b3V0dWJlOiBmb290ZXJGaWVsZHMueW91dHViZT8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBnaXRodWI6IGZvb3RlckZpZWxkcy5naXRodWI/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIGNvcHlyaWdodDogZm9vdGVyRmllbGRzLmNvcHlyaWdodD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgbGVnYWw6IHtcbiAgICAgICAgICB1cmw6IGZvb3RlckZpZWxkcy5sZWdhbFVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICBwcml2YWN5VXJsOiBmb290ZXJGaWVsZHMucHJpdmFjeVVybD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiZzogZm9vdGVyRmllbGRzLmJnPy52YWx1ZSB8fCAnYmctc2xhdGUtOTAwIHRleHQtd2hpdGUnLFxuICAgICAgICAgIGNvbHVtbnNDb3VudDogZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudD8udmFsdWUgfHwgJzQnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHBvcHVsYXRlRm9vdGVyRm9ybSA9IChkYXRhKSA9PiB7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGlmIChmb290ZXJGaWVsZHMubGlua2VkaW4pIGZvb3RlckZpZWxkcy5saW5rZWRpbi52YWx1ZSA9IGRhdGEuc29jaWFscz8ubGlua2VkaW4gfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnR3aXR0ZXIpIGZvb3RlckZpZWxkcy50d2l0dGVyLnZhbHVlID0gZGF0YS5zb2NpYWxzPy50d2l0dGVyIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5pbnN0YWdyYW0pIGZvb3RlckZpZWxkcy5pbnN0YWdyYW0udmFsdWUgPSBkYXRhLnNvY2lhbHM/Lmluc3RhZ3JhbSB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuZmFjZWJvb2spIGZvb3RlckZpZWxkcy5mYWNlYm9vay52YWx1ZSA9IGRhdGEuc29jaWFscz8uZmFjZWJvb2sgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnlvdXR1YmUpIGZvb3RlckZpZWxkcy55b3V0dWJlLnZhbHVlID0gZGF0YS5zb2NpYWxzPy55b3V0dWJlIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5naXRodWIpIGZvb3RlckZpZWxkcy5naXRodWIudmFsdWUgPSBkYXRhLnNvY2lhbHM/LmdpdGh1YiB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuY29weXJpZ2h0KSBmb290ZXJGaWVsZHMuY29weXJpZ2h0LnZhbHVlID0gZGF0YS5jb3B5cmlnaHQgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmxlZ2FsVXJsKSBmb290ZXJGaWVsZHMubGVnYWxVcmwudmFsdWUgPSBkYXRhLmxlZ2FsPy51cmwgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLnByaXZhY3lVcmwpIGZvb3RlckZpZWxkcy5wcml2YWN5VXJsLnZhbHVlID0gZGF0YS5sZWdhbD8ucHJpdmFjeVVybCB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuYmcpIGZvb3RlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZSc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudCkgZm9vdGVyRmllbGRzLmNvbHVtbnNDb3VudC52YWx1ZSA9IGRhdGEuc3R5bGU/LmNvbHVtbnNDb3VudCB8fCAnNCc7XG4gICAgICAvLyBQb3B1bGF0ZSBjb2x1bW5zXG4gICAgICBpZiAoZm9vdGVyQ29sdW1uc0xpc3QpIGZvb3RlckNvbHVtbnNMaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgKGRhdGEuY29sdW1ucyB8fCBbXSkuZm9yRWFjaChjb2wgPT4gYWRkRm9vdGVyQ29sdW1uKGNvbC50aXRsZSwgY29sLmxpbmtzKSk7XG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3QgaGFzRGF0YSA9IGRhdGEuY29sdW1ucz8ubGVuZ3RoID4gMCB8fCBkYXRhLmNvcHlyaWdodCB8fCBPYmplY3QudmFsdWVzKGRhdGEuc29jaWFscyB8fCB7fSkuc29tZSh2ID0+IHYpO1xuICAgICAgaWYgKGZvb3RlclN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBmb290ZXJTdGF0dXNJbmRpY2F0b3IuY2xhc3NMaXN0LnRvZ2dsZSgnYmctZ3JlZW4tNTAwJywgISFoYXNEYXRhKTtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLXNsYXRlLTMwMCcsICFoYXNEYXRhKTtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLnRpdGxlID0gaGFzRGF0YSA/ICdDb25maWd1clx1MDBFOScgOiAnTm9uIGNvbmZpZ3VyXHUwMEU5JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGZvb3RlckNvbHVtbkFkZEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGb290ZXJDb2x1bW4oKSk7XG4gICAgXG4gICAgZm9vdGVyU2F2ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIGZvb3RlclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgZm9vdGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlbWVudC4uLic7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gY29sbGVjdEZvb3RlckRhdGEoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtsYXlvdXRBcGlCYXNlfS9mb290ZXJgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICBmb290ZXJEYXRhID0gZGF0YTtcbiAgICAgICAgcG9wdWxhdGVGb290ZXJGb3JtKGRhdGEpO1xuICAgICAgICBzaG93VG9hc3QoJ0Zvb3RlciBlbnJlZ2lzdHJcdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZm9vdGVyXSBzYXZlIGVycm9yJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdFcnJldXIgbG9ycyBkZSBsXFwnZW5yZWdpc3RyZW1lbnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGZvb3RlclNhdmVCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZm9vdGVyU2F2ZUJ0bi50ZXh0Q29udGVudCA9ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9hZCBsYXlvdXQgZGF0YSBvbiBpbml0XG4gICAgY29uc3QgbG9hZExheW91dERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWxheW91dEFwaUJhc2UpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobGF5b3V0QXBpQmFzZSwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGlmIChkYXRhLmhlYWRlcikge1xuICAgICAgICAgICAgaGVhZGVyRGF0YSA9IGRhdGEuaGVhZGVyO1xuICAgICAgICAgICAgcG9wdWxhdGVIZWFkZXJGb3JtKGRhdGEuaGVhZGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuZm9vdGVyKSB7XG4gICAgICAgICAgICBmb290ZXJEYXRhID0gZGF0YS5mb290ZXI7XG4gICAgICAgICAgICBwb3B1bGF0ZUZvb3RlckZvcm0oZGF0YS5mb290ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tsYXlvdXRdIGxvYWQgZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBsYXlvdXQgZGF0YVxuICAgIGxvYWRMYXlvdXREYXRhKCk7XG4gICAgXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnVmFsdWUgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdWYWx1ZVxuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWdWYWx1ZSl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuXG4gICAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gICAgbGV0IGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgIGxldCBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgIGxldCBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgIGxldCBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgIGxldCBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplSXRlbVNsdWdJbnB1dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcmF3ID0gKHZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBpZiAoIXJhdykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAocmF3ID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gcmF3LnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGNsZWFuZWRTZWdtZW50cyA9IHNlZ21lbnRzXG4gICAgICAgIC5tYXAoKHNlZ21lbnQpID0+IHdvcmtzcGFjZVNsdWdpZnkoc2VnbWVudCB8fCAnJykpXG4gICAgICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQubGVuZ3RoID4gMCk7XG4gICAgICBpZiAoIWNsZWFuZWRTZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAvJHtjbGVhbmVkU2VnbWVudHMuam9pbignLycpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEl0ZW1EYXRlID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnXHUyMDE0JztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkhlYWRlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGFjdGl2ZUNvbGxlY3Rpb25JZCk7XG4gICAgICBpZiAoY29sbGVjdGlvblRpdGxlKSB7XG4gICAgICAgIGNvbGxlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/Lm5hbWUgfHwgJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsZWN0aW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29sbGVjdGlvbkRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbj8uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zRW1wdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHkudGV4dENvbnRlbnQgPVxuICAgICAgICBtZXNzYWdlIHx8XG4gICAgICAgIChhY3RpdmVDb2xsZWN0aW9uSWRcbiAgICAgICAgICA/ICdBdWN1biBpdGVtIGRhbnMgY2V0dGUgY29sbGVjdGlvbiBwb3VyIGxlIG1vbWVudC4nXG4gICAgICAgICAgOiAnQ2hvaXNpc3NleiB1bmUgY29sbGVjdGlvbiBkYW5zIGxlIHBhbm5lYXUgZGUgZ2F1Y2hlLicpO1xuICAgIH07XG5cbiAgICBjb25zdCBoaWRlSXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoaXRlbUZvcm0pIHtcbiAgICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICB9XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1EZWxldGVCdXR0b24pIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQWRkQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1BZGRCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICBpZiAoaXRlbUFkZEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpdGVtQWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktNjAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0l0ZW1TdGF0dXNCYWRnZSA9IChzdGF0dXMpID0+IHtcbiAgICAgIGlmICghaXRlbVN0YXR1c0JhZGdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS5jbGFzc05hbWUgPSBgaGlkZGVuICR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9YDtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBjb2xvckNsYXNzID0gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCc7XG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJykge1xuICAgICAgICBjb2xvckNsYXNzID0gJ2JnLWVtZXJhbGQtNTAgdGV4dC1lbWVyYWxkLTcwMCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwJztcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA9PT0gJ2Jyb3VpbGxvbicpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICB9XG4gICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYCR7c3RhdHVzQmFkZ2VCYXNlQ2xhc3N9ICR7Y29sb3JDbGFzc31gO1xuICAgICAgaXRlbVN0YXR1c0JhZGdlLnRleHRDb250ZW50ID0gc3RhdHVzO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJDb2xsZWN0aW9uTGlzdCA9ICgpID0+IHtcbiAgICAgIGNvbGxlY3Rpb25MaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgLy8gVXBkYXRlIGNvbGxlY3Rpb24gY291bnRcbiAgICAgIGlmIChjb2xsZWN0aW9uQ291bnRFbCkgY29sbGVjdGlvbkNvdW50RWwudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9ucy5sZW5ndGg7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25FbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjb2xsZWN0aW9uLmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBidXR0b24uZGF0YXNldC5jb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gW1xuICAgICAgICAgICd3LWZ1bGwgcm91bmRlZC14bCBib3JkZXIgcHgtMyBweS0yIHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bIzlDNkJGRl0vNDAnLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdiZy1bI0Y3RjBGRl0gYm9yZGVyLVsjOUM2QkZGXS80MCB0ZXh0LXNsYXRlLTkwMCdcbiAgICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICAgIF0uam9pbignICcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj4ke2NvbGxlY3Rpb24ubmFtZSB8fCBjb2xsZWN0aW9uLmlkfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtjb2xsZWN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LVsxMXB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTQwMFwiPiR7Y29sbGVjdGlvbi50eXBlIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbi5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xsZWN0aW9uTGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckl0ZW1UYWJsZSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbVRhYmxlQm9keSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtVGFibGVCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uSXRlbXMubGVuZ3RoIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvbkl0ZW1zRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICByb3cuZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZUl0ZW1JZCAmJiAhaXNDcmVhdGluZ0l0ZW07XG4gICAgICAgIHJvdy5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2N1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gZm9jdXMtd2l0aGluOmJnLVsjRjdGMEZGXS83MCBmb2N1czpvdXRsaW5lLW5vbmUnLFxuICAgICAgICAgIGlzQWN0aXZlID8gJ2JnLVsjRjdGMEZGXS83MCcgOiAnaG92ZXI6Ymctc2xhdGUtNTAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgcm93LnRhYkluZGV4ID0gMDtcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJztcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzdGF0dXNDbGFzc2VzID1cbiAgICAgICAgICBub3JtYWxpemVkID09PSAncHVibGlcdTAwRTknIHx8IG5vcm1hbGl6ZWQgPT09ICdwdWJsaWUnXG4gICAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwIGJvcmRlciBib3JkZXItYW1iZXItMTAwJztcbiAgICAgICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPiR7aXRlbS50aXRsZSB8fCAnU2FucyB0aXRyZSd9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2l0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS02MDBcIj4ke2l0ZW0uc2x1ZyB8fCAnJ308L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBweC0zIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkICR7c3RhdHVzQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgJHtzdGF0dXN9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wIHRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj4ke2Zvcm1hdEl0ZW1EYXRlKFxuICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgfHwgaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgICAgKX08L3RkPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgICAgc2VsZWN0SXRlbShpdGVtLmlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlU2VsZWN0KTtcbiAgICAgICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSAoaXRlbUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVJdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUl0ZW1Gb3JtID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0gfHwgIWl0ZW0pIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3dJdGVtRm9ybSgpO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSBpdGVtLmlkO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnRpdGxlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlLnZhbHVlID0gaXRlbS50aXRsZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSBpdGVtLnNsdWcgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuZXhjZXJwdCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5leGNlcnB0LnZhbHVlID0gaXRlbS5zdW1tYXJ5IHx8IGl0ZW0uZXhjZXJwdCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jb250ZW50KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQudmFsdWUgPSBpdGVtLmNvbnRlbnQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuaW1hZ2UpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuaW1hZ2UudmFsdWUgPSBpdGVtLmltYWdlIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVGV4dC52YWx1ZSA9IGl0ZW0uY3RhPy50ZXh0IHx8IGl0ZW0uY3RhVGV4dCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFVcmwpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuY3RhVXJsLnZhbHVlID0gaXRlbS5jdGE/LnVybCB8fCBpdGVtLmN0YVVybCB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zdGF0dXMpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICB9XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJlcGFyZU5ld0l0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRm9ybSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IHRydWU7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaXRlbUZvcm0uZGF0YXNldC5pdGVtSWQgPSAnJztcbiAgICAgIGl0ZW1Gb3JtLnJlc2V0KCk7XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnNsdWcpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZSgnQnJvdWlsbG9uJyk7XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMudGl0bGU/LmZvY3VzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbGxlY3RJdGVtRm9ybVZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHRpdGxlID0gKGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc2x1Z0lucHV0ID0gKGl0ZW1Gb3JtRmllbGRzLnNsdWc/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdW1tYXJ5ID0gKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjb250ZW50ID0gKGl0ZW1Gb3JtRmllbGRzLmNvbnRlbnQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBpbWFnZSA9IChpdGVtRm9ybUZpZWxkcy5pbWFnZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVRleHQgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVGV4dD8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN0YVVybCA9IChpdGVtRm9ybUZpZWxkcy5jdGFVcmw/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBzdGF0dXMgPSBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LnZhbHVlIHx8ICdCcm91aWxsb24nO1xuICAgICAgXG4gICAgICAvLyBCdWlsZCBDVEEgb2JqZWN0IG9ubHkgaWYgYXQgbGVhc3Qgb25lIGZpZWxkIGlzIGZpbGxlZFxuICAgICAgY29uc3QgY3RhID0gKGN0YVRleHQgfHwgY3RhVXJsKSA/IHsgdGV4dDogY3RhVGV4dCwgdXJsOiBjdGFVcmwgfSA6IG51bGw7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzbHVnOiBzbHVnSW5wdXQgPyBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHNsdWdJbnB1dCkgOiBub3JtYWxpemVJdGVtU2x1Z0lucHV0KHRpdGxlKSxcbiAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgZXhjZXJwdDogc3VtbWFyeSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgLi4uKGN0YSAmJiB7IGN0YSB9KSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZvcm1TYXZpbmdTdGF0ZSA9IChpc1NhdmluZykgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtU2F2ZSkge1xuICAgICAgICBpdGVtRm9ybVNhdmUuZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgICAgaXRlbUZvcm1TYXZlLnRleHRDb250ZW50ID0gaXNTYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uICYmICFpc0NyZWF0aW5nSXRlbSAmJiBhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgaXRlbURlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGlzU2F2aW5nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbGxlY3Rpb25JdGVtcyA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXNgLFxuICAgICAgICB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSA/IGRhdGEuaXRlbXMgOiBbXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0QWN0aXZlQ29sbGVjdGlvbiA9IGFzeW5jIChjb2xsZWN0aW9uSWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb25JZDtcbiAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgLy8gU3dpdGNoIHRvIGNvbGxlY3Rpb24gdmlld1xuICAgICAgc2hvd0NvbnRlbnRWaWV3KCdjb2xsZWN0aW9uJyk7XG4gICAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICBoaWRlSXRlbUZvcm0oKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgnQ2hhcmdlbWVudCBkZXMgaXRlbXNcdTIwMjYnKTtcbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gYXdhaXQgZmV0Y2hDb2xsZWN0aW9uSXRlbXMoY29sbGVjdGlvbklkKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIHVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gaXRlbXMgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGl0ZW1zLicpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgcGF5bG9hZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkl0ZW0gPSBhc3luYyAoY29sbGVjdGlvbklkLCBpdGVtSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtcy8ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtSWQpfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBsb2FkQ29sbGVjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb2xsZWN0aW9uc0FwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgICBjb2xsZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgICAgIHJlbmRlckNvbGxlY3Rpb25MaXN0KCk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdElkID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpPy5pZFxuICAgICAgICAgICAgfHwgY29sbGVjdGlvbnNbMF0uaWQ7XG4gICAgICAgICAgc2V0QWN0aXZlQ29sbGVjdGlvbihkZWZhdWx0SWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZUNvbGxlY3Rpb25JZCA9IG51bGw7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGxvYWQgY29sbGVjdGlvbnMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgY29sbGVjdGlvbnMuJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGl0ZW1BZGRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiBkXHUyMDE5YWJvcmQgdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVOZXdJdGVtRm9ybSgpO1xuICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBjb2xsZWN0aW9uSXRlbXMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVJdGVtSWQpO1xuICAgICAgICBwb3B1bGF0ZUl0ZW1Gb3JtKGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXM/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoaXRlbUZvcm1GaWVsZHMuc3RhdHVzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0gfHwgIWl0ZW1Gb3JtRmllbGRzLnNsdWcgfHwgaXRlbVNsdWdNYW51YWxseUVkaXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy5zbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGlmICghaXNDcmVhdGluZ0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEl0ZW1Gb3JtVmFsdWVzKCk7XG4gICAgICBpZiAoIXZhbHVlcy50aXRsZSkge1xuICAgICAgICBzaG93VG9hc3QoJ0xlIHRpdHJlIGVzdCByZXF1aXMuJyk7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRGb3JtU2F2aW5nU3RhdGUodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc2F2ZWRJdGVtO1xuICAgICAgICBpZiAoaXNDcmVhdGluZ0l0ZW0gfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IGNyZWF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbLi4uY29sbGVjdGlvbkl0ZW1zLCBzYXZlZEl0ZW1dO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBjclx1MDBFOVx1MDBFOScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhdmVkSXRlbSA9IGF3YWl0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtKGFjdGl2ZUNvbGxlY3Rpb25JZCwgYWN0aXZlSXRlbUlkLCB2YWx1ZXMpO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGNvbGxlY3Rpb25JdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICBpdGVtLmlkID09PSBzYXZlZEl0ZW0uaWQgPyBzYXZlZEl0ZW0gOiBpdGVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdJdGVtIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IHNhdmVkSXRlbS5pZDtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShzYXZlZEl0ZW0pO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbY29udGVudF0gc2F2ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBjZXQgaXRlbS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEZvcm1TYXZpbmdTdGF0ZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBvcGVuRGVsZXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1EZWxldGVNb2RhbCB8fCAhYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVJdGVtSWQgPSBhY3RpdmVJdGVtSWQ7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtRGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIH07XG5cbiAgICBpdGVtRGVsZXRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wZW5EZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBpdGVtRGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpdGVtRGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nRGVsZXRlSXRlbUlkIHx8ICFhY3RpdmVDb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvblx1MjAyNic7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBkZWxldGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHBlbmRpbmdEZWxldGVJdGVtSWQpO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCA9PT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCkge1xuICAgICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdJdGVtIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGRlbGV0ZSBpdGVtIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpdGVtRGVsZXRlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB1cGRhdGVDb2xsZWN0aW9uSGVhZGVyKCk7XG4gICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgbG9hZENvbGxlY3Rpb25zKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0RGVwbG95V29ya3NwYWNlKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvdG9jb2xTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcHJvdG9jb2xdJyk7XG4gICAgY29uc3QgaG9zdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWhvc3RdJyk7XG4gICAgY29uc3QgcG9ydElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXBvcnRdJyk7XG4gICAgY29uc3QgdXNlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXVzZXJdJyk7XG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wYXNzd29yZF0nKTtcbiAgICBjb25zdCBzaG93UGFzc3dvcmRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2hvdy1wYXNzd29yZF0nKTtcbiAgICBjb25zdCByZW1vdGVQYXRoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcmVtb3RlLXBhdGhdJyk7XG4gICAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZmVlZGJhY2tdJyk7XG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1zYXZlXScpO1xuICAgIGNvbnN0IHRlc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdGVzdF0nKTtcbiAgICBjb25zdCBkZXBsb3lCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktdHJpZ2dlcl0nKTtcbiAgICBjb25zdCBoaXN0b3J5TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1oaXN0b3J5XScpO1xuICAgIGNvbnN0IGxvZ0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1sb2ddJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgKTtcbiAgICBjb25zdCBkZXBsb3lBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1jb25maWdgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95UnVuQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveWBcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBkZXBsb3lMb2dBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZGVwbG95LWxvZ2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBoYXNQYXNzd29yZCA9IGZhbHNlO1xuICAgIGxldCBidXN5QWN0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IHNhbml0aXplUmVtb3RlUGF0aCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdHJpbW1lZCA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgIHJldHVybiAnL3d3dyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJpbW1lZC5zdGFydHNXaXRoKCcvJykgPyB0cmltbWVkIDogYC8ke3RyaW1tZWR9YDtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZmVlZGJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZUNsYXNzID0gJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCc7XG4gICAgICBjb25zdCB0b25lQ2xhc3MgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ2JnLXJvc2UtNTAgdGV4dC1yb3NlLTcwMCBib3JkZXIgYm9yZGVyLXJvc2UtMTAwJ1xuICAgICAgICAgICAgOiAnYmctc2xhdGUtNTAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAnO1xuICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9ICd0ZXh0LXNtIHRleHQtc2xhdGUtNTAwJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaWNvbiA9IHRvbmUgPT09ICdzdWNjZXNzJyA/ICdcdTI3MDUnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICdcdTI3NEMnIDogJ1x1MjEzOVx1RkUwRic7XG4gICAgICBmZWVkYmFjay5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCIke2Jhc2VDbGFzc30gJHt0b25lQ2xhc3N9XCI+JHtpY29ufTxzcGFuPiR7bWVzc2FnZX08L3NwYW4+PC9zcGFuPmA7XG4gICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSc7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEJ1c3kgPSAoYWN0aW9uID0gbnVsbCkgPT4ge1xuICAgICAgYnVzeUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IGRpc2FibGUgPSBCb29sZWFuKGFjdGlvbik7XG4gICAgICBjb25zdCBzcGlubmVyID1cbiAgICAgICAgJzxzdmcgY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiB0ZXh0LXdoaXRlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT48cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPjwvc3ZnPic7XG4gICAgICBpZiAoc2F2ZUJ1dHRvbikge1xuICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICAgICAgc2F2ZUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ3NhdmUnXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3Bpbm5lcn08c3Bhbj5FbnJlZ2lzdHJlbWVudFx1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgICAgaWYgKHRlc3RCdXR0b24pIHtcbiAgICAgICAgdGVzdEJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHRlc3RCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICd0ZXN0J1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48c3BhbiBjbGFzcz1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwIGJvcmRlci10LXNsYXRlLTYwMFwiPjwvc3Bhbj48c3Bhbj5UZXN0IGVuIGNvdXJzXHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdUZXN0ZXIgbGEgY29ubmV4aW9uJztcbiAgICAgIH1cbiAgICAgIGlmIChkZXBsb3lCdXR0b24pIHtcbiAgICAgICAgZGVwbG95QnV0dG9uLmRpc2FibGVkID0gZGlzYWJsZSAmJiBhY3Rpb24gIT09IG51bGw7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5pbm5lckhUTUwgPVxuICAgICAgICAgIGFjdGlvbiA9PT0gJ2RlcGxveSdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzYwIGJvcmRlci10LXdoaXRlXCI+PC9zcGFuPjxzcGFuPkRcdTAwRTlwbG9pZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0RcdTAwRTlwbG95ZXIgbWFpbnRlbmFudCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHBvcHVsYXRlRm9ybSA9IChjb25maWcpID0+IHtcbiAgICAgIHByb3RvY29sU2VsZWN0ICYmIChwcm90b2NvbFNlbGVjdC52YWx1ZSA9IGNvbmZpZy5wcm90b2NvbCB8fCAnc2Z0cCcpO1xuICAgICAgaG9zdElucHV0ICYmIChob3N0SW5wdXQudmFsdWUgPSBjb25maWcuaG9zdCB8fCAnJyk7XG4gICAgICBwb3J0SW5wdXQgJiYgKHBvcnRJbnB1dC52YWx1ZSA9IGNvbmZpZy5wb3J0IHx8ICcnKTtcbiAgICAgIHVzZXJJbnB1dCAmJiAodXNlcklucHV0LnZhbHVlID0gY29uZmlnLnVzZXIgfHwgJycpO1xuICAgICAgcmVtb3RlUGF0aElucHV0ICYmIChyZW1vdGVQYXRoSW5wdXQudmFsdWUgPSBjb25maWcucmVtb3RlUGF0aCB8fCAnL3d3dycpO1xuICAgICAgaGFzUGFzc3dvcmQgPSBCb29sZWFuKGNvbmZpZy5oYXNQYXNzd29yZCk7XG4gICAgICBpZiAocGFzc3dvcmRJbnB1dCkge1xuICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQucGxhY2Vob2xkZXIgPSBoYXNQYXNzd29yZCA/ICdOb24gYWZmaWNoXHUwMEU5JyA6ICdNb3QgZGUgcGFzc2UnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJIaXN0b3J5ID0gKGVudHJpZXMgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFoaXN0b3J5TGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoaXN0b3J5TGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdBdWN1biBkXHUwMEU5cGxvaWVtZW50IHBvdXIgbGUgbW9tZW50Lic7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTMgcHktMic7XG4gICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID1cbiAgICAgICAgICBlbnRyeS5zdGF0dXMgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtZW1lcmFsZC03MDBcIj5TdWNjXHUwMEU4czwvc3Bhbj4nXG4gICAgICAgICAgICA6ICc8c3BhbiBjbGFzcz1cInJvdW5kZWQtZnVsbCBiZy1yb3NlLTUwIHB4LTIgcHktMC41IHRleHQtWzExcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1yb3NlLTcwMFwiPlx1MDBDOWNoZWM8L3NwYW4+JztcbiAgICAgICAgY29uc3QgZGF0ZSA9IGVudHJ5LmZpbmlzaGVkQXQgfHwgZW50cnkuc3RhcnRlZEF0IHx8ICcnO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9XG4gICAgICAgICAgZW50cnkuZHVyYXRpb25NcyAmJiBOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgPj0gMFxuICAgICAgICAgICAgPyBgJHtNYXRoLnJvdW5kKE51bWJlcihlbnRyeS5kdXJhdGlvbk1zKSAvIDEwMDApfXNgXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBsaS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+JHtzdGF0dXNCYWRnZX08c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2RhdGV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtODAwXCI+JHtlbnRyeS5tZXNzYWdlIHx8ICcnfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7ZHVyYXRpb259PC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGxpLmRhdGFzZXQuZGVwbG95SWQgPSBlbnRyeS5pZCB8fCAnJztcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmxvZ3MgJiYgbG9nQm94KSB7XG4gICAgICAgICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBlbnRyeS5sb2dzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGhpc3RvcnlMaXN0LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJMb2dzID0gKGxpbmVzID0gW10pID0+IHtcbiAgICAgIGlmICghbG9nQm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ0JveC50ZXh0Q29udGVudCA9IGxpbmVzLmxlbmd0aCA/IGxpbmVzLmpvaW4oJ1xcbicpIDogJ0F1Y3VuIGxvZyBwb3VyIGxlIG1vbWVudC4nO1xuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaEhpc3RvcnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUxvZ0FwaSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUxvZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJlbmRlckhpc3RvcnkoW10pO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsXHUyMDE5aGlzdG9yaXF1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLmVudHJpZXMpID8gcGF5bG9hZC5lbnRyaWVzIDogW107XG4gICAgICAgIHJlbmRlckhpc3RvcnkoZW50cmllcyk7XG4gICAgICAgIGlmIChlbnRyaWVzWzBdPy5sb2dzKSB7XG4gICAgICAgICAgcmVuZGVyTG9ncyhlbnRyaWVzWzBdLmxvZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gaGlzdG9yeSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBmZXRjaENvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ2xvYWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95QXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29uZmlndXJhdGlvbiBjaGFyZ1x1MDBFOWUuJywgJ211dGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9wdWxhdGVGb3JtKHBheWxvYWQgfHwge30pO1xuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnQ29uZmlndXJhdGlvbiBwYXIgZFx1MDBFOWZhdXQgY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gbG9hZCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudC4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJ1aWxkUGF5bG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHByb3RvY29sOiBwcm90b2NvbFNlbGVjdD8udmFsdWUgfHwgJ3NmdHAnLFxuICAgICAgICBob3N0OiBob3N0SW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCAnJyxcbiAgICAgICAgcG9ydDogTnVtYmVyKHBvcnRJbnB1dD8udmFsdWUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdXNlcjogdXNlcklucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHJlbW90ZVBhdGg6IHNhbml0aXplUmVtb3RlUGF0aChyZW1vdGVQYXRoSW5wdXQ/LnZhbHVlIHx8ICcvd3d3JyksXG4gICAgICB9O1xuICAgICAgY29uc3QgcHdkID0gcGFzc3dvcmRJbnB1dD8udmFsdWUgfHwgJyc7XG4gICAgICBpZiAocHdkLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBheWxvYWQucGFzc3dvcmQgPSBwd2Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBzZXRCdXN5KCdzYXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcG9wdWxhdGVGb3JtKHNhdmVkIHx8IHt9KTtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0NvbmZpZ3VyYXRpb24gZFx1MDBFOXBsb2llbWVudCBzYXV2ZWdhcmRcdTAwRTllJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95QXBpQmFzZSkge1xuICAgICAgICBzZXRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBidWlsZFBheWxvYWQoKTtcbiAgICAgIGlmICghcGF5bG9hZC5ob3N0IHx8ICFwYXlsb2FkLnVzZXIgfHwgIXBheWxvYWQucmVtb3RlUGF0aCkge1xuICAgICAgICBzZXRGZWVkYmFjaygnUmVtcGxpc3NleiBsZXMgY2hhbXBzIHJlcXVpcyBhdmFudCBkZSB0ZXN0ZXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEJ1c3koJ3Rlc3QnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZGVwbG95QXBpQmFzZX0vdGVzdGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0Nvbm5leGlvbiBPSy4nLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ1Rlc3QgZGUgY29ubmV4aW9uIHJcdTAwRTl1c3NpJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gdGVzdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnVGVzdCBkZSBjb25uZXhpb24gXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZXBsb3lCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lSdW5BcGkpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdkZXBsb3knKTtcbiAgICAgIHJlbmRlckxvZ3MoWydEXHUwMEU5cGxvaWVtZW50IGVuIGNvdXJzXHUyMDI2J10pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lSdW5BcGksIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShidWlsZFBheWxvYWQoKSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHNldEZlZWRiYWNrKCdBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLicsICdlcnJvcicpO1xuICAgICAgICAgICAgcmVuZGVyTG9ncyhbJ0FQSSBkXHUwMEU5cGxvaWVtZW50IGluZGlzcG9uaWJsZSAocmVkXHUwMEU5bWFycmUgbGUgc2VydmV1cikuJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJMb2dzKHJlc3VsdC5sb2dzIHx8IFtdKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hIaXN0b3J5KCk7XG4gICAgICAgIHNob3dUb2FzdCgnRFx1MDBFOXBsb2llbWVudCB0ZXJtaW5cdTAwRTknKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVwbG95XSBydW4gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0RcdTAwRTlwbG9pZW1lbnQgXHUwMEU5Y2hvdVx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEJ1c3kobnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzaG93UGFzc3dvcmRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmICghcGFzc3dvcmRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXNzd29yZElucHV0LnR5cGUgPSBzaG93UGFzc3dvcmRUb2dnbGUuY2hlY2tlZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgfSk7XG5cbiAgICAvLyBEb3dubG9hZCBidWlsZCBhcyBaSVBcbiAgICBjb25zdCBkb3dubG9hZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRvd25sb2FkLWJ1aWxkXScpO1xuICAgIGNvbnN0IGRvd25sb2FkRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kb3dubG9hZC1mZWVkYmFja10nKTtcbiAgICBjb25zdCBkb3dubG9hZEFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kb3dubG9hZGBcbiAgICAgIDogbnVsbDtcblxuICAgIGNvbnN0IHNldERvd25sb2FkRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghZG93bmxvYWRGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIGRvd25sb2FkRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgZG93bmxvYWRGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcblxuICAgIGRvd25sb2FkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZG93bmxvYWRBcGkpIHtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZiBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRvd25sb2FkQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG9yaWdpbmFsQ29udGVudCA9IGRvd25sb2FkQnV0dG9uLmlubmVySFRNTDtcbiAgICAgIGRvd25sb2FkQnV0dG9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT5cbiAgICAgICAgICA8cGF0aCBjbGFzcz1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04djRhNCA0IDAgMDAtNCA0SDR6XCI+PC9wYXRoPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPHNwYW4+QnVpbGQgZW4gY291cnMuLi48L3NwYW4+XG4gICAgICBgO1xuICAgICAgc2V0RG93bmxvYWRGZWVkYmFjaygnR1x1MDBFOW5cdTAwRTlyYXRpb24gZHUgYnVpbGQgZW4gY291cnMuLi4nLCAnbXV0ZWQnKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkb3dubG9hZEFwaSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGdcdTAwRTluXHUwMEU5cmVyIGxlIFpJUC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUXHUwMEU5bFx1MDBFOWNoYXJnZXIgbGUgZmljaGllclxuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICBhLmRvd25sb2FkID0gYCR7c2FmZVNpdGVTbHVnfS1idWlsZC56aXBgO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ1RcdTAwRTlsXHUwMEU5Y2hhcmdlbWVudCB0ZXJtaW5cdTAwRTkgIScsICdzdWNjZXNzJyk7XG4gICAgICAgIHNob3dUb2FzdCgnQnVpbGQgdFx1MDBFOWxcdTAwRTljaGFyZ1x1MDBFOSBhdmVjIHN1Y2NcdTAwRThzJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Rvd25sb2FkXSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkdSB0XHUwMEU5bFx1MDBFOWNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUwgPSBvcmlnaW5hbENvbnRlbnQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmZXRjaENvbmZpZygpO1xuICAgIGZldGNoSGlzdG9yeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFNldHRpbmdzV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5ncy10YWJdJyk7XG4gICAgY29uc3QgdGFiUGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtcGFuZWxdJyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZvcm1dJyk7XG4gICAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY29uZmlnLWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHRoZW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZvcm1dJyk7XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKG5hbWUpID0+IHtcbiAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgPT09IG5hbWU7XG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBpc0FjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYmctWyM5QzZCRkZdJywgaXNBY3RpdmUpO1xuICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgndGV4dC13aGl0ZScsIGlzQWN0aXZlKTtcbiAgICAgIH0pO1xuICAgICAgdGFiUGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHBhbmVsLmRhdGFzZXQuc2V0dGluZ3NQYW5lbCAhPT0gbmFtZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzd2l0Y2hUYWIoYnRuLmRhdGFzZXQuc2V0dGluZ3NUYWIgfHwgJ2FjY291bnQnKSk7XG4gICAgfSk7XG4gICAgc3dpdGNoVGFiKCdhY2NvdW50Jyk7XG5cbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIC8vIHN0aWxsIGFsbG93IHNpdGUgZm9ybSBldmVuIGlmIHBhc3N3b3JkIGZvcm0gYWJzZW50XG4gICAgfVxuICAgIGlmIChmb3JtKSB7XG4gICAgICBjb25zdCBmZWVkYmFjayA9IGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tcGFzc3dvcmQtZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzdWJtaXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLXN1Ym1pdF0nKTtcbiAgICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghZmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcbiAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2N1cnJlbnRQYXNzd29yZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnbmV3UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgY29uZmlybVBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjb25maXJtUGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgaWYgKCFjdXJyZW50UGFzc3dvcmQgfHwgIW5ld1Bhc3N3b3JkIHx8ICFjb25maXJtUGFzc3dvcmQpIHtcbiAgICAgICAgICBzZXRGZWVkYmFjaygnQ29tcGxcdTAwRTh0ZSB0b3VzIGxlcyBjaGFtcHMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1Ym1pdCAmJiAoc3VibWl0LmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bhc3N3b3JkJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY3VycmVudFBhc3N3b3JkLCBuZXdQYXNzd29yZCwgY29uZmlybVBhc3N3b3JkIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBwYXlsb2FkLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIG1ldHRyZSBcdTAwRTAgam91ciBsZSBtb3QgZGUgcGFzc2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEZlZWRiYWNrKHBheWxvYWQubWVzc2FnZSB8fCAnTW90IGRlIHBhc3NlIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBjaGFuZ2UgcGFzc3dvcmQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSBcdTAwRTAgam91ci4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNpdGVGb3JtKSB7XG4gICAgICBjb25zdCBuYW1lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW5hbWVdJyk7XG4gICAgICBjb25zdCBsYW5nU2VsZWN0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1sYW5ndWFnZV0nKTtcbiAgICAgIGNvbnN0IHRhZ2xpbmVJbnB1dCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdGFnbGluZV0nKTtcbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXNhdmVdJyk7XG4gICAgICBjb25zdCBzZXRTaXRlRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNpdGVGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNpdGVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgbG9hZFNpdGVDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKG5hbWVJbnB1dCkgbmFtZUlucHV0LnZhbHVlID0gcGF5bG9hZC5uYW1lIHx8ICcnO1xuICAgICAgICAgIGlmIChsYW5nU2VsZWN0KSBsYW5nU2VsZWN0LnZhbHVlID0gcGF5bG9hZC5sYW5ndWFnZSB8fCAnZnInO1xuICAgICAgICAgIGlmICh0YWdsaW5lSW5wdXQpIHRhZ2xpbmVJbnB1dC52YWx1ZSA9IHBheWxvYWQudGFnbGluZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNpdGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmFtZUlucHV0Py52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soJ05vbSByZXF1aXMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5nU2VsZWN0Py52YWx1ZSB8fCAnZnInLFxuICAgICAgICAgICAgdGFnbGluZTogdGFnbGluZUlucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdQYXJhbVx1MDBFOHRyZXMgZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2l0ZSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRTaXRlRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2F2ZUJ1dHRvbiAmJiAoc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTaXRlQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoZW1lRm9ybSkge1xuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgdGhlbWVBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvdGhlbWVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgY29sb3JTZWxlY3RzID0ge1xuICAgICAgICBwcmltYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcHJpbWFyeV0nKSxcbiAgICAgICAgc2Vjb25kYXJ5OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtc2Vjb25kYXJ5XScpLFxuICAgICAgICBhY2NlbnQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1hY2NlbnRdJyksXG4gICAgICAgIGJhY2tncm91bmQ6IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1iYWNrZ3JvdW5kXScpLFxuICAgICAgICB0ZXh0OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtdGV4dF0nKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBoZWFkaW5nU2VsZWN0ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWhlYWRpbmdzXScpO1xuICAgICAgY29uc3QgYm9keVNlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1ib2R5XScpO1xuICAgICAgY29uc3QgcmFkaXVzU21hbGwgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLXNtYWxsXScpO1xuICAgICAgY29uc3QgcmFkaXVzTWVkaXVtID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1tZWRpdW1dJyk7XG4gICAgICBjb25zdCByYWRpdXNMYXJnZSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbGFyZ2VdJyk7XG4gICAgICBjb25zdCBwcmV2aWV3ID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByZXZpZXddJyk7XG4gICAgICBjb25zdCB0aGVtZUZlZWRiYWNrID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYXBwbHlCdXR0b24gPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYXBwbHldJyk7XG4gICAgICBjb25zdCB0YWlsd2luZEJhc2VNYXAgPSB7XG4gICAgICAgIHNsYXRlOicjZTJlOGYwJyxncmF5OicjZDFkNWRiJyx6aW5jOicjZDRkNGQ4JyxuZXV0cmFsOicjZDRkNGQ0JyxzdG9uZTonI2Q2ZDNkMScsXG4gICAgICAgIHJlZDonI2VmNDQ0NCcsb3JhbmdlOicjZjk3MzE2JyxhbWJlcjonI2Y1OWUwYicseWVsbG93OicjZWFiMzA4JyxsaW1lOicjODRjYzE2JyxcbiAgICAgICAgZ3JlZW46JyMyMmM1NWUnLGVtZXJhbGQ6JyMxMGI5ODEnLHRlYWw6JyMxNGI4YTYnLGN5YW46JyMwNmI2ZDQnLHNreTonIzBlYTVlOScsXG4gICAgICAgIGJsdWU6JyMzYjgyZjYnLGluZGlnbzonIzYzNjZmMScsdmlvbGV0OicjOGI1Y2Y2JyxwdXJwbGU6JyNhODU1ZjcnLGZ1Y2hzaWE6JyNkOTQ2ZWYnLFxuICAgICAgICBwaW5rOicjZWM0ODk5Jyxyb3NlOicjZjQzZjVlJ1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kVG9rZW5Ub0hleCA9ICh0b2tlbikgPT4ge1xuICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRva2VuID09PSAnd2hpdGUnKSByZXR1cm4gJyNmZmZmZmYnO1xuICAgICAgICBpZiAodG9rZW4gPT09ICdibGFjaycpIHJldHVybiAnIzAwMDAwMCc7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgICAgIGNvbnN0IFtoLHNdID0gdG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgaWYgKCFoIHx8ICFzKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRhaWx3aW5kQmFzZU1hcFtoXTtcbiAgICAgICAgaWYgKCFiYXNlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3Qgc2hhZGVOdW0gPSBOdW1iZXIocykgfHwgNTAwO1xuICAgICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLm1pbihNYXRoLm1heCgoc2hhZGVOdW0gLSA1MCkgLyA5MDAsIDApLCAxKTtcbiAgICAgICAgY29uc3QgdG9SZ2IgPSAoaGV4KSA9PlxuICAgICAgICAgIGhleFxuICAgICAgICAgICAgLnJlcGxhY2UoJyMnLCAnJylcbiAgICAgICAgICAgIC5tYXRjaCgvW0EtRmEtZjAtOV17Mn0vZylcbiAgICAgICAgICAgIC5tYXAoKHYpID0+IHBhcnNlSW50KHYsIDE2KSk7XG4gICAgICAgIGNvbnN0IFtyLCBnLCBiXSA9IHRvUmdiKGJhc2UpO1xuICAgICAgICBjb25zdCBtaXggPSAodikgPT4gTWF0aC5yb3VuZCgyNTUgLSAoMjU1IC0gdikgKiBmYWN0b3IpO1xuICAgICAgICByZXR1cm4gYHJnYigke21peChyKX0sICR7bWl4KGcpfSwgJHttaXgoYil9KWA7XG4gICAgICB9O1xuICAgICAgY29uc3QgdGFpbHdpbmRIdWVzID0gW1xuICAgICAgICAnc2xhdGUnLCdncmF5JywnemluYycsJ25ldXRyYWwnLCdzdG9uZScsJ3JlZCcsJ29yYW5nZScsJ2FtYmVyJywneWVsbG93JywnbGltZScsJ2dyZWVuJywnZW1lcmFsZCcsJ3RlYWwnLCdjeWFuJywnc2t5JywnYmx1ZScsJ2luZGlnbycsJ3Zpb2xldCcsJ3B1cnBsZScsJ2Z1Y2hzaWEnLCdwaW5rJywncm9zZSdcbiAgICAgIF07XG4gICAgICBjb25zdCB0YWlsd2luZFNoYWRlcyA9IFsnNTAnLCcxMDAnLCcyMDAnLCczMDAnLCc0MDAnLCc1MDAnLCc2MDAnLCc3MDAnLCc4MDAnLCc5MDAnXTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kVG9rZW5zID0gdGFpbHdpbmRIdWVzLmZsYXRNYXAoKGgpPT50YWlsd2luZFNoYWRlcy5tYXAoKHMpPT5gJHtofS0ke3N9YCkpO1xuXG4gICAgICBjb25zdCBuZXV0cmFsVG9rZW5zID0gW1xuICAgICAgICB7IHZhbHVlOiAnd2hpdGUnLCBsYWJlbDogJ0JsYW5jJywgY29sb3I6ICcjZmZmZmZmJywgZW1vamk6ICdcdTJCMUMnIH0sXG4gICAgICAgIHsgdmFsdWU6ICd0cmFuc3BhcmVudCcsIGxhYmVsOiAnVHJhbnNwYXJlbnQnLCBjb2xvcjogJ3RyYW5zcGFyZW50JywgZW1vamk6ICdcdTJCMUMnIH0sXG4gICAgICAgIHsgdmFsdWU6ICdibGFjaycsIGxhYmVsOiAnTm9pcicsIGNvbG9yOiAnIzAwMDAwMCcsIGVtb2ppOiAnXHUyQjFCJyB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgY29sb3JPcHRpb25EZWZpbml0aW9ucyA9ICgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXTtcbiAgICAgICAgbmV1dHJhbFRva2Vucy5mb3JFYWNoKCh7IHZhbHVlLCBsYWJlbCwgY29sb3IsIGVtb2ppIH0pID0+IHtcbiAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBsYWJlbDogYCR7ZW1vaml9ICR7bGFiZWx9YCxcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGFpbHdpbmRUb2tlbnMuZm9yRWFjaCgodG9rZW4pID0+IHtcbiAgICAgICAgICBjb25zdCBbaCwgc10gPSB0b2tlbi5zcGxpdCgnLScpO1xuICAgICAgICAgIGNvbnN0IGNvbG9yVmFsdWUgPSB0YWlsd2luZFRva2VuVG9IZXgodG9rZW4pIHx8ICcjZmZmZmZmJztcbiAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHRva2VuLFxuICAgICAgICAgICAgbGFiZWw6IGAke2guY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBoLnNsaWNlKDEpfSAke3N9YCxcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvclZhbHVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICB9KSgpO1xuXG4gICAgICBjb25zdCBub3JtYWxpemVTZWxlY3RDb2xvciA9ICh2YWx1ZSkgPT5cbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpIDogJyc7XG5cbiAgICAgIGNvbnN0IGZpbGxDb2xvck9wdGlvbnMgPSAoc2VsZWN0ZWRDb2xvcnMgPSB7fSkgPT4ge1xuICAgICAgICBPYmplY3QuZW50cmllcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKFtrZXksIHNlbF0pID0+IHtcbiAgICAgICAgICBpZiAoIXNlbCkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9IG5vcm1hbGl6ZVNlbGVjdENvbG9yKHNlbGVjdGVkQ29sb3JzW2tleV0pO1xuICAgICAgICAgIHNlbC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICBjb2xvck9wdGlvbkRlZmluaXRpb25zLmZvckVhY2goKHsgdmFsdWUsIGxhYmVsLCBjb2xvciB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRWYWx1ZSAmJiBub3JtYWxpemVkVmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWwuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWwuZGF0YXNldC5kZWZhdWx0ID0gc2VsLmRhdGFzZXQuZGVmYXVsdCB8fCBzZWwub3B0aW9uc1swXT8udmFsdWUgfHwgJyc7XG4gICAgICAgICAgaWYgKCFub3JtYWxpemVkVmFsdWUgJiYgc2VsLmRhdGFzZXQuZGVmYXVsdCkge1xuICAgICAgICAgICAgc2VsLnZhbHVlID0gc2VsLmRhdGFzZXQuZGVmYXVsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3R5bGVTZWxlY3RPcHRpb25zKHNlbCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0VGhlbWVGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHRoZW1lRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN5bmNQcmV2aWV3ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZpZXcpIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9rZW5Ub0hleCA9ICh0b2tlbikgPT4ge1xuICAgICAgICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIGNhcyBzcFx1MDBFOWNpYXV4IHdoaXRlLCBibGFjaywgdHJhbnNwYXJlbnRcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICd3aGl0ZScpIHJldHVybiAnI2ZmZmZmZic7XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnYmxhY2snKSByZXR1cm4gJyMwMDAwMDAnO1xuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgW2gsc109dG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICBpZiAoIWggfHwgIXMpIHJldHVybiBudWxsOyAvLyBGb3JtYXQgaW52YWxpZGVcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBtYXAgPSB7XG4gICAgICAgICAgICBzbGF0ZTonI2UyZThmMCcsZ3JheTonI2QxZDVkYicsemluYzonI2Q0ZDRkOCcsbmV1dHJhbDonI2Q0ZDRkNCcsc3RvbmU6JyNkNmQzZDEnLFxuICAgICAgICAgICAgcmVkOicjZWY0NDQ0JyxvcmFuZ2U6JyNmOTczMTYnLGFtYmVyOicjZjU5ZTBiJyx5ZWxsb3c6JyNlYWIzMDgnLGxpbWU6JyM4NGNjMTYnLFxuICAgICAgICAgICAgZ3JlZW46JyMyMmM1NWUnLGVtZXJhbGQ6JyMxMGI5ODEnLHRlYWw6JyMxNGI4YTYnLGN5YW46JyMwNmI2ZDQnLHNreTonIzBlYTVlOScsXG4gICAgICAgICAgICBibHVlOicjM2I4MmY2JyxpbmRpZ286JyM2MzY2ZjEnLHZpb2xldDonIzhiNWNmNicscHVycGxlOicjYTg1NWY3JyxmdWNoc2lhOicjZDk0NmVmJyxcbiAgICAgICAgICAgIHBpbms6JyNlYzQ4OTknLHJvc2U6JyNmNDNmNWUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBiYXNlPW1hcFtoXTtcbiAgICAgICAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgICAgICAgIC8vIHJvdWdoIHNoYWRlIHR3ZWFrIHVzaW5nIG9wYWNpdHk7IG5vdCBleGFjdCBUYWlsd2luZCBwYWxldHRlIGJ1dCBwcmV2aWV3LWZyaWVuZGx5XG4gICAgICAgICAgY29uc3Qgc2hhZGVOdW09TnVtYmVyKHMpfHw1MDA7XG4gICAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5taW4oTWF0aC5tYXgoKHNoYWRlTnVtLTUwKS85MDAsMCksMSk7XG4gICAgICAgICAgY29uc3QgdG9SZ2I9KGhleCk9PmhleC5tYXRjaCgvW0EtRmEtZjAtOV17Mn0vZykubWFwKCh2KT0+cGFyc2VJbnQodiwxNikpO1xuICAgICAgICAgIGNvbnN0IFtyLGcsYl09dG9SZ2IoYmFzZS5yZXBsYWNlKCcjJywnJykpO1xuICAgICAgICAgIGNvbnN0IG1peD0odik9Pk1hdGgucm91bmQoMjU1IC0gKDI1NSAtIHYpKmZhY3Rvcik7XG4gICAgICAgICAgcmV0dXJuIGByZ2IoJHttaXgocil9LCAke21peChnKX0sICR7bWl4KGIpfSlgO1xuICAgICAgICB9O1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXByaW1hcnknLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnByaW1hcnk/LnZhbHVlKSB8fCAnIzlDNkJGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXNlY29uZGFyeScsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSkgfHwgJyMwRUE1RTknKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1hY2NlbnQnLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUpIHx8ICcjRjk3MzE2Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYmFja2dyb3VuZCcsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUpIHx8ICcjRkZGRkZGJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItdGV4dCcsIHRhaWx3aW5kVG9rZW5Ub0hleChjb2xvclNlbGVjdHMudGV4dD8udmFsdWUpIHx8ICcjMEYxNzJBJyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1oZWFkaW5ncycsIGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtYm9keScsIGJvZHlTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1zbWFsbCcsIHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLW1lZGl1bScsIHJhZGl1c01lZGl1bT8udmFsdWUgfHwgJzE2cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtbGFyZ2UnLCByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5ib3JkZXJSYWRpdXMgPSByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JztcbiAgICAgIH07XG5cbiAgICAgIC8vIEluaXRpYWxpc2VyIGxlcyBwcmV2aWV3cyBkZSBjb3VsZXVyIGV0IGFqb3V0ZXIgbGVzIGxpc3RlbmVyc1xuICAgICAgY29uc3Qgc3R5bGVUaGVtZUNvbG9yQ2hpcCA9IChjaGlwLCBjb2xvcikgPT4ge1xuICAgICAgICBpZiAoIWNoaXApIHJldHVybjtcbiAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgY2hpcC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlcGVhdGluZy1jb25pYy1ncmFkaWVudCgjY2NjIDAlIDI1JSwgd2hpdGUgMCUgNTAlKSA1MCUgLyA4cHggOHB4JztcbiAgICAgICAgICBjaGlwLnN0eWxlLmJvcmRlckNvbG9yID0gJyNjYmQ1ZjUnO1xuICAgICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJyc7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgICBjaGlwLnN0eWxlLmJvcmRlckNvbG9yID0gY29sb3I7XG4gICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJzAgMCAwIDFweCByZ2JhKDE1LDIzLDQyLDAuMTUpJztcbiAgICAgIH07XG4gICAgICBjb25zdCB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyA9IChzZWxlY3QpID0+IHtcbiAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbG9yQ2hpcCA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtY29sb3ItY2hpcF0nKTtcbiAgICAgICAgc3R5bGVUaGVtZUNvbG9yQ2hpcChjb2xvckNoaXAsIGNvbG9yKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGluaXRDb2xvclByZXZpZXdzID0gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoc2VsZWN0KSA9PiB7XG4gICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgICBzdHlsZVNlbGVjdE9wdGlvbnMoc2VsZWN0KTtcbiAgICAgICAgICB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyhzZWxlY3QpO1xuICAgICAgICAgIHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB1cGRhdGVUaGVtZUNvbG9yUHJldmlldyhzZWxlY3QpKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBPYmplY3Qua2V5cyhjb2xvclNlbGVjdHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb2xvclNlbGVjdHNba2V5XT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG4gICAgICBbaGVhZGluZ1NlbGVjdCwgYm9keVNlbGVjdCwgcmFkaXVzU21hbGwsIHJhZGl1c01lZGl1bSwgcmFkaXVzTGFyZ2VdLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzeW5jUHJldmlldyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9hZFRoZW1lID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwge1xuICAgICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBjb25zdCB0aGVtZUNvbG9ycyA9IHBheWxvYWQuY29sb3JzIHx8IHt9O1xuICAgICAgICAgIGZpbGxDb2xvck9wdGlvbnModGhlbWVDb2xvcnMpO1xuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbG9yU2VsZWN0cykuZm9yRWFjaCgoW2tleSwgc2VsZWN0XSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhlbWVDb2xvcnNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9IG5vcm1hbGl6ZVNlbGVjdENvbG9yKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gbm9ybWFsaXplZFZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0LmRhdGFzZXQuZGVmYXVsdCkge1xuICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSBzZWxlY3QuZGF0YXNldC5kZWZhdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlVGhlbWVDb2xvclByZXZpZXcoc2VsZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoaGVhZGluZ1NlbGVjdCkgaGVhZGluZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uaGVhZGluZ3MgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAoYm9keVNlbGVjdCkgYm9keVNlbGVjdC52YWx1ZSA9IHBheWxvYWQudHlwb2dyYXBoeT8uYm9keSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgIGlmIChyYWRpdXNTbWFsbCkgcmFkaXVzU21hbGwudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8uc21hbGwgfHwgJzhweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c01lZGl1bSkgcmFkaXVzTWVkaXVtLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/Lm1lZGl1bSB8fCAnMTZweCc7XG4gICAgICAgICAgaWYgKHJhZGl1c0xhcmdlKSByYWRpdXNMYXJnZS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5sYXJnZSB8fCAnMjRweCc7XG4gICAgICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIHRoZW1lIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFwcGx5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoZW1lQXBpKSB7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgIHByaW1hcnk6IGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSB8fCAndmlvbGV0LTUwMCcsXG4gICAgICAgICAgICBzZWNvbmRhcnk6IGNvbG9yU2VsZWN0cy5zZWNvbmRhcnk/LnZhbHVlIHx8ICdpbmRpZ28tNDAwJyxcbiAgICAgICAgICAgIGFjY2VudDogY29sb3JTZWxlY3RzLmFjY2VudD8udmFsdWUgfHwgJ2VtZXJhbGQtNTAwJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yU2VsZWN0cy5iYWNrZ3JvdW5kPy52YWx1ZSB8fCAnc2xhdGUtNTAnLFxuICAgICAgICAgICAgdGV4dDogY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlIHx8ICdzbGF0ZS05MDAnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICAgICAgaGVhZGluZ3M6IGhlYWRpbmdTZWxlY3Q/LnZhbHVlIHx8ICdJbnRlciwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICBib2R5OiBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmFkaXVzOiB7XG4gICAgICAgICAgICBzbWFsbDogcmFkaXVzU21hbGw/LnZhbHVlIHx8ICc4cHgnLFxuICAgICAgICAgICAgbWVkaXVtOiByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4JyxcbiAgICAgICAgICAgIGxhcmdlOiByYWRpdXNMYXJnZT8udmFsdWUgfHwgJzI0cHgnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGhlbWVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGVtZUFwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdBcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lIFx1MDBFOWNob3VcdTAwRTllLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCBsb2FkVGhlbWUoKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdUaFx1MDBFOG1lIGFwcGxpcXVcdTAwRTkuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBhcHBseSB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcdTIwMTlhcHBsaWNhdGlvbiBkdSB0aFx1MDBFOG1lLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFwcGx5QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmaWxsQ29sb3JPcHRpb25zKCk7XG4gICAgICBpbml0Q29sb3JQcmV2aWV3cygpO1xuICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICBzeW5jUHJldmlldygpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWktdGhlbWUtdXBkYXRlZCcsICgpID0+IHtcbiAgICAgICAgbG9hZFRoZW1lKCk7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ1RoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTRU8gQ29uZmlnIGZvcm0gKFVTOS5CMSlcbiAgICBjb25zdCBzZW9Db25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWNvbmZpZy1mb3JtXScpO1xuICAgIGlmIChzZW9Db25maWdGb3JtKSB7XG4gICAgICBjb25zdCBpbmRleEFsbENoZWNrYm94ID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXgtYWxsXScpO1xuICAgICAgY29uc3Qgc2VvQ29uZmlnRmVlZGJhY2sgPSBzZW9Db25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldFNlb0ZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2VvQ29uZmlnRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgc2VvQ29uZmlnRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9hZFNlb0NvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBjb25zdCBpbmRleEFsbCA9IHBheWxvYWQuc2VvPy5pbmRleEFsbFBhZ2VzQnlEZWZhdWx0ICE9PSBmYWxzZTtcbiAgICAgICAgICBpZiAoaW5kZXhBbGxDaGVja2JveCkgaW5kZXhBbGxDaGVja2JveC5jaGVja2VkID0gaW5kZXhBbGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlb0NvbmZpZ0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZW9TYXZlQnV0dG9uICYmIChzZW9TYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNlb0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIHNlbzoge1xuICAgICAgICAgICAgICAuLi4oY3VycmVudENvbmZpZy5zZW8gfHwge30pLFxuICAgICAgICAgICAgICBpbmRleEFsbFBhZ2VzQnlEZWZhdWx0OiBpbmRleEFsbENoZWNrYm94Py5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRTZW9GZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIFNFTyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBzZW8gY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRTZW9Db25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXRpY3MgZm9ybSAoVVM5LkIyKVxuICAgIGNvbnN0IGFuYWx5dGljc0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtZm9ybV0nKTtcbiAgICBpZiAoYW5hbHl0aWNzRm9ybSkge1xuICAgICAgY29uc3QgaGVhZFRleHRhcmVhID0gYW5hbHl0aWNzRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbmFseXRpY3MtaGVhZF0nKTtcbiAgICAgIGNvbnN0IGJvZHlUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWJvZHldJyk7XG4gICAgICBjb25zdCBhbmFseXRpY3NGZWVkYmFjayA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzU2F2ZUJ1dHRvbiA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBbmFseXRpY3NGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFuYWx5dGljc0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFuYWx5dGljc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBbmFseXRpY3NDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKGhlYWRUZXh0YXJlYSkgaGVhZFRleHRhcmVhLnZhbHVlID0gcGF5bG9hZC5hbmFseXRpY3M/LmhlYWRDb2RlIHx8ICcnO1xuICAgICAgICAgIGlmIChib2R5VGV4dGFyZWEpIGJvZHlUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5ib2R5RW5kQ29kZSB8fCAnJztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYW5hbHl0aWNzRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFuYWx5dGljc1NhdmVCdXR0b24gJiYgKGFuYWx5dGljc1NhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZpcnN0IGxvYWQgY3VycmVudCBjb25maWcgdG8gcHJlc2VydmUgb3RoZXIgZmllbGRzXG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcblxuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50Q29uZmlnLFxuICAgICAgICAgICAgYW5hbHl0aWNzOiB7XG4gICAgICAgICAgICAgIGhlYWRDb2RlOiBoZWFkVGV4dGFyZWE/LnZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgICBib2R5RW5kQ29kZTogYm9keVRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdTY3JpcHRzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIGFuYWx5dGljcyBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFuYWx5dGljc0NvbmZpZygpO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1mb3JtXScpO1xuICAgIGlmIChhY2Nlc3NpYmlsaXR5Rm9ybSkge1xuICAgICAgY29uc3QgYW5pbWF0aW9uc1RvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktYW5pbWF0aW9uc10nKTtcbiAgICAgIGNvbnN0IGNvbnRyYXN0VG9nZ2xlID0gYWNjZXNzaWJpbGl0eUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWNjZXNzaWJpbGl0eS1jb250cmFzdF0nKTtcbiAgICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFjY2Vzc2liaWxpdHlGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChhbmltYXRpb25zVG9nZ2xlKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zVG9nZ2xlLmNoZWNrZWQgPSBwYXlsb2FkLmFjY2Vzc2liaWxpdHk/LmFuaW1hdGlvbnNFbmFibGVkICE9PSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbnRyYXN0VG9nZ2xlKSB7XG4gICAgICAgICAgICBjb250cmFzdFRvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5oaWdoQ29udHJhc3QgPT09IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWNjZXNzaWJpbGl0eUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFJlcyA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb25maWcgPSBjdXJyZW50UmVzLm9rID8gYXdhaXQgY3VycmVudFJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkgOiB7fTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc0VuYWJsZWQ6IGFuaW1hdGlvbnNUb2dnbGU/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICAgICAgaGlnaENvbnRyYXN0OiBjb250cmFzdFRvZ2dsZT8uY2hlY2tlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUHJcdTAwRTlmXHUwMEU5cmVuY2VzIG1pc2VzIFx1MDBFMCBqb3VyLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhY2Nlc3NpYmlsaXR5IGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAoYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIEFJIENvbmZpZyBmb3JtIChVUyAtIEFJIEFzc2lzdGFudClcbiAgICBjb25zdCBhaUNvbmZpZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoYWlDb25maWdGb3JtKSB7XG4gICAgICBjb25zdCBhcGlLZXlJbnB1dCA9IGFpQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS1hcGkta2V5XScpO1xuICAgICAgY29uc3QgbW9kZWxTZWxlY3QgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktbW9kZWxdJyk7XG4gICAgICBjb25zdCBwcm9qZWN0UHJvbXB0VGV4dGFyZWEgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktcHJvamVjdC1wcm9tcHRdJyk7XG4gICAgICBjb25zdCBlbmFibGVkQ2hlY2tib3ggPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZW5hYmxlZF0nKTtcbiAgICAgIGNvbnN0IGFpRmVlZGJhY2sgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktZmVlZGJhY2tdJyk7XG4gICAgICBjb25zdCBhaVNhdmVCdXR0b24gPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktc2F2ZV0nKTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3QgYWlDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvYWlgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QUlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWFpRmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFpRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhaUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRBSUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIC8vIEFQSSBrZXkgaXMgbWFza2VkLCB3ZSBzaG93IHBsYWNlaG9sZGVyIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gcGF5bG9hZC5oYXNBcGlLZXkgPyAnXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyXHUyMDIyJyA6ICdDbFx1MDBFOSBBUEkgR2VtaW5pJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGVsU2VsZWN0KSBtb2RlbFNlbGVjdC52YWx1ZSA9IHBheWxvYWQubW9kZWwgfHwgJ2dlbWluaS0yLjUtZmxhc2gnO1xuICAgICAgICAgIGlmIChwcm9qZWN0UHJvbXB0VGV4dGFyZWEpIHByb2plY3RQcm9tcHRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQucHJvamVjdFByb21wdCB8fCAnJztcbiAgICAgICAgICBpZiAoZW5hYmxlZENoZWNrYm94KSBlbmFibGVkQ2hlY2tib3guY2hlY2tlZCA9IHBheWxvYWQuZW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBBSSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWlDb25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIWFpQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgc2V0QUlGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbFNlbGVjdD8udmFsdWUgfHwgJ2dlbWluaS0yLjUtZmxhc2gnLFxuICAgICAgICAgICAgcHJvamVjdFByb21wdDogcHJvamVjdFByb21wdFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgIGVuYWJsZWQ6IGVuYWJsZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gT25seSBpbmNsdWRlIGFwaUtleSBpZiB0aGUgdXNlciBlbnRlcmVkIG9uZSAobm90IGVtcHR5KVxuICAgICAgICAgIGNvbnN0IGFwaUtleVZhbHVlID0gYXBpS2V5SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgICAgaWYgKGFwaUtleVZhbHVlKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmFwaUtleSA9IGFwaUtleVZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYWlDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEFJRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gSUEgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIC8vIENsZWFyIHRoZSBBUEkga2V5IGZpZWxkIGFmdGVyIHN1Y2Nlc3NmdWwgc2F2ZVxuICAgICAgICAgIGlmIChhcGlLZXlJbnB1dCkge1xuICAgICAgICAgICAgYXBpS2V5SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnBsYWNlaG9sZGVyID0gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMic7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QUlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhaVNhdmVCdXR0b24gJiYgKGFpU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRNZWRpYVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKTtcbiAgICBpZiAoIWdyaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW1wdHlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvdW50QmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1jb3VudF0nKTtcbiAgICBjb25zdCBmaWx0ZXJUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZmlsdGVyLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgZGV0YWlsUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWxdJyk7XG4gICAgY29uc3QgZGV0YWlsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1wcmV2aWV3XScpO1xuICAgIGNvbnN0IGRldGFpbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtbmFtZV0nKTtcbiAgICBjb25zdCBkZXRhaWxUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXR5cGVdJyk7XG4gICAgY29uc3QgZGV0YWlsU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC1zaXplXScpO1xuICAgIGNvbnN0IGRldGFpbFBhdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcGF0aF0nKTtcbiAgICBjb25zdCBkZXRhaWxVc2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXVzZWRdJyk7XG4gICAgY29uc3QgZGV0YWlsQWx0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1hbHQtZWRpdF0nKTtcbiAgICBjb25zdCBkZXRhaWxTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtc2F2ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxEZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGVdJyk7XG4gICAgY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBkZWxldGVDb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgdXBsb2FkT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1vcGVuXScpO1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbGUtaW5wdXRdJyk7XG4gICAgY29uc3QgdXBsb2FkU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdXBsb2FkLXN0YXR1c10nKTtcblxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgbWVkaWFBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9tZWRpYWBcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBtZWRpYUl0ZW1zID0gW107XG4gICAgbGV0IGZpbHRlcmVkSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgbGV0IGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgbGV0IHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBsZXQgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkTW9kZSA9IGZhbHNlO1xuICAgIGxldCB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcblxuICAgIGNvbnN0IGRlcml2ZUdyb3VwVHlwZSA9IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gKGl0ZW0udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygnaW1hZ2UnKSB8fCAvXFwuKHBuZ3xqcGU/Z3x3ZWJwfHN2Z3xnaWYpJC9pLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3BkZicpIHx8IHR5cGUuaW5jbHVkZXMoJ2RvYycpIHx8IC9cXC4ocGRmfGRvY3g/KSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2RvY3VtZW50JztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCd2aWRlbycpIHx8IC9cXC4obXA0fG1vdnx3ZWJtKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ3ZpZGVvJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH07XG5cbiAgICBjb25zdCBpc0ltYWdlVHlwZSA9IChpdGVtKSA9PiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgPT09ICdpbWFnZSc7XG5cbiAgICBjb25zdCBmb3JtYXRUeXBlTGFiZWwgPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBleHQgPSAoaXRlbS5maWxlbmFtZSB8fCAnJykuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIHJldHVybiBleHQgPyBleHQudG9VcHBlckNhc2UoKSA6ICdGSUxFJztcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoc2l6ZSkgPT4ge1xuICAgICAgaWYgKCFzaXplIHx8IHNpemUgPD0gMCkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZSA8IDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAke3NpemV9IG9gO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0ICogMTAyNCkge1xuICAgICAgICByZXR1cm4gYCR7KHNpemUgLyAxMDI0KS50b0ZpeGVkKDEpfSBrb2A7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7KHNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDEpfSBNb2A7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0RGV0YWlsUGFuZWwgPSAoKSA9PiB7XG4gICAgICBkZXRhaWxQYW5lbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZXRhaWxFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID1cbiAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtXCI+QXVjdW4gbVx1MDBFOWRpYSBzXHUwMEU5bGVjdGlvbm5cdTAwRTk8L3NwYW4+JztcbiAgICAgIH1cbiAgICAgIGlmIChkZXRhaWxOYW1lKSB7XG4gICAgICAgIGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJVcGxvYWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgIHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBudWxsO1xuICAgICAgfVxuICAgICAgdXBsb2FkU3RhdHVzICYmICh1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSAnQXVjdW4gZmljaGllciBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJyk7XG4gICAgICBmaWxlSW5wdXQgJiYgKGZpbGVJbnB1dC52YWx1ZSA9ICcnKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ291bnRCYWRnZSA9ICgpID0+IHtcbiAgICAgIGlmICghY291bnRCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMCBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9ICcxIG1cdTAwRTlkaWEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRCYWRnZS50ZXh0Q29udGVudCA9IGAke2ZpbHRlcmVkSXRlbXMubGVuZ3RofSBtXHUwMEU5ZGlhc2A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckdyaWQgPSAoKSA9PiB7XG4gICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGZpbHRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNhcmQudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBjYXJkLmRhdGFzZXQubWVkaWFJZCA9IGl0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZDtcbiAgICAgICAgY2FyZC5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgJ2dyb3VwIHJlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC0yeGwgYm9yZGVyIHB4LTMgcHktMyB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTIgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW9mZnNldC0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1bIzlDNkJGRl0nLFxuICAgICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgICA/ICdib3JkZXItWyM5QzZCRkZdIGJnLVsjRjdGMEZGXS82MCBzaGFkb3ctc20nXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IGlzSW1hZ2VUeXBlKGl0ZW0pXG4gICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiIC8+YFxuICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtM3hsIHRleHQtc2xhdGUtNDAwXCI+XHVEODNEXHVEQ0M0PC9kaXY+YDtcbiAgICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0aXZlIGFzcGVjdC1bNC8zXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bCBiZy1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICAgICR7cHJldmlld31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIHRydW5jYXRlXCI+JHtpdGVtLmZpbGVuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAke2Zvcm1hdFR5cGVMYWJlbChpdGVtKX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoaXRlbS5zaXplKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGhpZ2hsaWdodE1lZGlhSWQpIHtcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG4gICAgICAgICAgfSwgMTYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNlbGVjdE1lZGlhKGl0ZW0uaWQpKTtcbiAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgIH0pO1xuICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclVzZWRJbiA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWRldGFpbFVzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghaXRlbS51c2VkSW4gfHwgaXRlbS51c2VkSW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnTm9uIHV0aWxpc1x1MDBFOSc7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW0udXNlZEluLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBlbnRyeTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVEZXRhaWxBY3Rpb25zID0gKHNhdmluZykgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxTYXZlQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1cGxvYWRNb2RlKSB7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnVFx1MDBFOWxcdTAwRTl2ZXJzZW1lbnRcdTIwMjYnIDogJ1RcdTAwRTlsXHUwMEU5dmVyc2VyJztcbiAgICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhcGVuZGluZ1VwbG9hZEZpbGU7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHNhdmluZyA/ICdFbnJlZ2lzdHJlbWVudFx1MjAyNicgOiAnRW5yZWdpc3RyZXInO1xuICAgICAgZGV0YWlsU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHNhdmluZyB8fCAhZGV0YWlsRGlydHk7XG4gICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gIWFjdGl2ZU1lZGlhSWQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNlbGVjdE1lZGlhID0gKG1lZGlhSWQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBtZWRpYUl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gbWVkaWFJZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICByZW5kZXJHcmlkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVXBsb2FkU3RhdGUoKTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgaWYgKGlzSW1hZ2VUeXBlKGl0ZW0pKSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2l0ZW0ucGF0aH1cIiBhbHQ9XCIke2l0ZW0uYWx0IHx8IGl0ZW0uZmlsZW5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgdGV4dC1zbGF0ZS00MDBcIj48c3BhbiBjbGFzcz1cInRleHQtM3hsXCI+XHVEODNEXHVEQ0M0PC9zcGFuPjxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkXCI+RG9jdW1lbnQ8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGV0YWlsTmFtZSAmJiAoZGV0YWlsTmFtZS50ZXh0Q29udGVudCA9IGl0ZW0uZmlsZW5hbWUgfHwgJ0ZpY2hpZXInKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoaXRlbSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0KSB7XG4gICAgICAgIGRldGFpbEFsdElucHV0LnZhbHVlID0gaXRlbS5hbHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxQYXRoICYmIChkZXRhaWxQYXRoLnRleHRDb250ZW50ID0gaXRlbS5wYXRoIHx8ICdcdTIwMTQnKTtcbiAgICAgIHJlbmRlclVzZWRJbihpdGVtKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd1VwbG9hZFByZXZpZXcgPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZE1vZGUgPSB0cnVlO1xuICAgICAgZGV0YWlsRGlydHkgPSBmYWxzZTtcbiAgICAgIGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKHVwbG9hZFByZXZpZXdVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cGxvYWRQcmV2aWV3VXJsKTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgaWYgKGRldGFpbFByZXZpZXcpIHtcbiAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke3VwbG9hZFByZXZpZXdVcmx9XCIgYWx0PVwiJHtmaWxlLm5hbWV9XCIgY2xhc3M9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtMnhsIG9iamVjdC1jb3ZlclwiIC8+YDtcbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBmaWxlLm5hbWUpO1xuICAgICAgZGV0YWlsVHlwZSAmJiAoZGV0YWlsVHlwZS50ZXh0Q29udGVudCA9IGZvcm1hdFR5cGVMYWJlbCh7IHR5cGU6IGZpbGUudHlwZSwgZmlsZW5hbWU6IGZpbGUubmFtZSB9KSk7XG4gICAgICBkZXRhaWxTaXplICYmIChkZXRhaWxTaXplLnRleHRDb250ZW50ID0gZm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKSk7XG4gICAgICBpZiAoZGV0YWlsQWx0SW5wdXQgJiYgIWRldGFpbEFsdElucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykucmVwbGFjZSgvWy1fXS9nLCAnICcpO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICdFbiBhdHRlbnRlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VtZW50Jyk7XG4gICAgICBpZiAoZGV0YWlsVXNlZCkge1xuICAgICAgICBkZXRhaWxVc2VkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcGx5RmlsdGVycyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGVGaWx0ZXIgPSBmaWx0ZXJUeXBlPy52YWx1ZSB8fCAnYWxsJztcbiAgICAgIGlmICh0eXBlRmlsdGVyID09PSAnYWxsJykge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gWy4uLm1lZGlhSXRlbXNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmdyb3VwVHlwZSA9PT0gdHlwZUZpbHRlcik7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlcmVkSXRlbXMuc29tZSgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCkpIHtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ291bnRCYWRnZSgpO1xuICAgICAgcmVuZGVyR3JpZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBsb2FkTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBlbXB0eVN0YXRlPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZWRpYUFwaUJhc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHsgaXRlbXM6IFtdIH0pKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5pdGVtcylcbiAgICAgICAgICA/IHBheWxvYWQuaXRlbXMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBncm91cFR5cGU6IGRlcml2ZUdyb3VwVHlwZShpdGVtKSB9KSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIG1cdTAwRTlkaWFzLicpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gW107XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmaWx0ZXJUeXBlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICB9KTtcbiAgICBkZXRhaWxBbHRJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbERpcnR5ID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdGlvbiA9IChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdTZXVsZXMgbGVzIGltYWdlcyBzb250IGFjY2VwdFx1MDBFOWVzIHBvdXIgbGUgbW9tZW50LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsZS5zaXplID4gNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgIHNob3dUb2FzdCgnRmljaGllciB0cm9wIHZvbHVtaW5ldXggKDQgTW8gbWF4KS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1VwbG9hZEZpbGUgPSBmaWxlO1xuICAgICAgc2hvd1VwbG9hZFByZXZpZXcoZmlsZSk7XG4gICAgICBpZiAodXBsb2FkU3RhdHVzKSB7XG4gICAgICAgIHVwbG9hZFN0YXR1cy50ZXh0Q29udGVudCA9IGAke2ZpbGUubmFtZX0gXHUwMEI3ICR7Zm9ybWF0RmlsZVNpemUoZmlsZS5zaXplKX1gO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZWFkRmlsZUFzQmFzZTY0ID0gKGZpbGUpID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdCB8fCAnJztcbiAgICAgICAgICBjb25zdCBbLCBiYXNlNjQgPSAnJ10gPSBTdHJpbmcocmVzdWx0KS5zcGxpdCgnLCcpO1xuICAgICAgICAgIHJlc29sdmUoYmFzZTY0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGxpcmUgY2UgZmljaGllci4nKSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCB1cGxvYWRTZWxlY3RlZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwZW5kaW5nVXBsb2FkRmlsZSB8fCAhbWVkaWFBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVwbG9hZEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlYWRGaWxlQXNCYXNlNjQocGVuZGluZ1VwbG9hZEZpbGUpO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGZpbGVuYW1lOiBwZW5kaW5nVXBsb2FkRmlsZS5uYW1lLFxuICAgICAgICAgIHR5cGU6IHBlbmRpbmdVcGxvYWRGaWxlLnR5cGUsXG4gICAgICAgICAgc2l6ZTogcGVuZGluZ1VwbG9hZEZpbGUuc2l6ZSxcbiAgICAgICAgICBhbHQ6IGRldGFpbEFsdElucHV0Py52YWx1ZSB8fCAnJyxcbiAgICAgICAgICBkYXRhOiBiYXNlNjQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnVXBsb2FkIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNhdmVkLmdyb3VwVHlwZSA9IGRlcml2ZUdyb3VwVHlwZShzYXZlZCk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBbLi4ubWVkaWFJdGVtcywgc2F2ZWRdO1xuICAgICAgICBoaWdobGlnaHRNZWRpYUlkID0gc2F2ZWQuaWQ7XG4gICAgICAgIGFwcGx5RmlsdGVycygpO1xuICAgICAgICBzZWxlY3RNZWRpYShzYXZlZC5pZCk7XG4gICAgICAgIHNob3dUb2FzdCgnTVx1MDBFOWRpYSBham91dFx1MDBFOScpO1xuICAgICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHRcdTAwRTlsXHUwMEU5dmVyc2VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gbnVsbDtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwbG9hZE9wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZmlsZUlucHV0Py5jbGljaygpKTtcbiAgICBmaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGlmIChmaWxlSW5wdXQuZmlsZXMgJiYgZmlsZUlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGhhbmRsZUZpbGVTZWxlY3Rpb24oZmlsZUlucHV0LmZpbGVzWzBdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbG9zZURlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8IHVwbG9hZE1vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEZhbGxiYWNrIHNpIGF1Y3VuZSBtb2RhbGUgbidlc3QgZGlzcG9uaWJsZVxuICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdTdXBwcmltZXIgY2UgbVx1MDBFOWRpYSA/JykpIHtcbiAgICAgICAgZGVsZXRlQWN0aXZlTWVkaWEoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQWN0aXZlTWVkaWEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc2FibGVCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgZW5hYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVDb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgZGVsZXRlQ29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRpc2FibGVCdXR0b25zKCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7IG1ldGhvZDogJ0RFTEVURScgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnU3VwcHJlc3Npb24gaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IGFjdGl2ZU1lZGlhSWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgc3VwcHJpbVx1MDBFOScpO1xuICAgICAgICByZXNldERldGFpbFBhbmVsKCk7XG4gICAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gZGVsZXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGVuYWJsZUJ1dHRvbnMoKTtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkZWxldGVDYW5jZWxCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VEZWxldGVNb2RhbCk7XG4gICAgZGVsZXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBkZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZURlbGV0ZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWxldGVDb25maXJtQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRlbGV0ZUFjdGl2ZU1lZGlhKCkpO1xuICAgIGRldGFpbERlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRGVsZXRlTW9kYWwpO1xuXG4gICAgZGV0YWlsU2F2ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICB1cGxvYWRTZWxlY3RlZE1lZGlhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCAhbWVkaWFBcGlCYXNlIHx8ICFkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgYWx0OiBkZXRhaWxBbHRJbnB1dC52YWx1ZSB8fCAnJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke21lZGlhQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoYWN0aXZlTWVkaWFJZCl9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgY2UgbVx1MDBFOWRpYS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gbWVkaWFJdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gYWN0aXZlTWVkaWFJZCA/IHsgLi4uaXRlbSwgLi4udXBkYXRlZCB9IDogaXRlbSxcbiAgICAgICAgKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSB1cGRhdGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdcdTAwQzljaGVjIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJyk7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbG9hZE1lZGlhKCk7XG4gIH1cblxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcbiAgLy8gQUkgQ0hBVCAtIEFzc2lzdGFudCBJQSBjb250ZXh0dWVsXG4gIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuXG4gIGNvbnN0IGFpQ2hhdFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXRvZ2dsZScpO1xuICBjb25zdCBhaUNoYXRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXBhbmVsJyk7XG4gIGNvbnN0IGFpQ2hhdE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1vdmVybGF5Jyk7XG4gIGNvbnN0IGFpQ2hhdENsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xvc2UnKTtcbiAgY29uc3QgYWlDaGF0Q2xlYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1jbGVhcicpO1xuICBjb25zdCBhaUNoYXRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtZm9ybScpO1xuICBjb25zdCBhaUNoYXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWlucHV0Jyk7XG4gIGNvbnN0IGFpQ2hhdE1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbWVzc2FnZXMnKTtcbiAgY29uc3QgYWlDaGF0U3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtc3RhdHVzJyk7XG4gIGNvbnN0IGFpQ2hhdE5vQXBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtbm8tYXBpJyk7XG4gIGNvbnN0IGFpUXVpY2tCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWktcXVpY2tdJyk7XG5cbiAgbGV0IGFpQ2hhdE9wZW4gPSBmYWxzZTtcbiAgbGV0IGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gIGxldCBhaUNvbmZpZ0NoZWNrZWQgPSBmYWxzZTtcbiAgbGV0IGFpSGFzQXBpS2V5ID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIE91dnJlIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIG9wZW5BSUNoYXQoKSB7XG4gICAgaWYgKCFhaUNoYXRQYW5lbCkgcmV0dXJuO1xuICAgIGFpQ2hhdE9wZW4gPSB0cnVlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0wJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTEwMCcpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgYWlDaGF0SW5wdXQ/LmZvY3VzKCk7XG5cbiAgICAvLyBWXHUwMEU5cmlmaWVyIGxhIGNvbmZpZyBBSSBhdSBwcmVtaWVyIG91dmVydHVyZVxuICAgIGlmICghYWlDb25maWdDaGVja2VkKSB7XG4gICAgICBjaGVja0FJQ29uZmlnKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZlcm1lIGxlIHBhbmVsIGRlIGNoYXQgSUFcbiAgICovXG4gIGZ1bmN0aW9uIGNsb3NlQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gZmFsc2U7XG4gICAgYWlDaGF0UGFuZWwuY2xhc3NMaXN0LmFkZCgndHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIGFpQ2hhdFBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZcdTAwRTlyaWZpZSBzaSBsJ0FQSSBBSSBlc3QgY29uZmlndXJcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjaGVja0FJQ29uZmlnKCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnKSB7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vY29uZmlnL2FpYCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZyBjaGVjayBmYWlsZWQnKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGFpQ29uZmlnQ2hlY2tlZCA9IHRydWU7XG4gICAgICBhaUhhc0FwaUtleSA9IGNvbmZpZy5oYXNBcGlLZXk7XG4gICAgICBcbiAgICAgIGlmICghY29uZmlnLmVuYWJsZWQgfHwgIWNvbmZpZy5oYXNBcGlLZXkpIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAvLyBDaGFyZ2VyIGwnaGlzdG9yaXF1ZVxuICAgICAgICBsb2FkQUlDaGF0SGlzdG9yeSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBDb25maWcgY2hlY2sgZmFpbGVkOicsIGVycik7XG4gICAgICBhaUNoYXROb0FwaT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoYXJnZSBsJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBsb2FkQUlDaGF0SGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLm1lc3NhZ2VzICYmIGRhdGEubWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlXG4gICAgICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1haS13ZWxjb21lXScpO1xuICAgICAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFmZmljaGVyIGxlcyBtZXNzYWdlc1xuICAgICAgICBkYXRhLm1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHtcbiAgICAgICAgICBhcHBlbmRBSU1lc3NhZ2UobXNnLmNvbnRlbnQsIG1zZy5yb2xlID09PSAndXNlcicgPyAndXNlcicgOiAnYXNzaXN0YW50Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2Nyb2xsIHZlcnMgbGUgYmFzXG4gICAgICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gSGlzdG9yeSBsb2FkIGZhaWxlZDonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBam91dGUgdW4gbWVzc2FnZSBhdSBjaGF0XG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmRBSU1lc3NhZ2UoY29udGVudCwgcm9sZSA9ICdhc3Npc3RhbnQnKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG1zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1zZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgXG4gICAgaWYgKHJvbGUgPT09ICd1c2VyJykge1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMVwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXctWzgwJV0gYmctdmlvbGV0LTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtMnhsIHJvdW5kZWQtdHItbm9uZSBwLTNcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gd2hpdGVzcGFjZS1wcmUtd3JhcFwiPiR7ZXNjYXBlSHRtbChjb250ZW50KX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXNsYXRlLTUwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgN2E0IDQgMCAxMS04IDAgNCA0IDAgMDE4IDB6TTEyIDE0YTcgNyAwIDAwLTcgN2gxNGE3IDcgMCAwMC03LTd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvcm1hdHRlciBsZSBjb250ZW51IE1hcmtkb3duIGJhc2lxdWVcbiAgICAgIGNvbnN0IGZvcm1hdHRlZENvbnRlbnQgPSBmb3JtYXRBSVJlc3BvbnNlKGNvbnRlbnQpO1xuICAgICAgbXNnRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTMgb3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDAgcHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZSBbJj5wcmVdOmJnLXNsYXRlLTgwMCBbJj5wcmVdOnRleHQtc2xhdGUtMTAwIFsmPnByZV06cm91bmRlZC1sZyBbJj5wcmVdOnAtMyBbJj5wcmVdOm92ZXJmbG93LXgtYXV0byBbJj5jb2RlXTpiZy1zbGF0ZS0yMDAgWyY+Y29kZV06cHgtMSBbJj5jb2RlXTpyb3VuZGVkXCI+JHtmb3JtYXR0ZWRDb250ZW50fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKG1zZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFmZmljaGUgdW4gaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBzaG93QUlMb2FkaW5nKCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbG9hZGluZ0Rpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyc7XG4gICAgbG9hZGluZ0Rpdi5pZCA9ICdhaS1sb2FkaW5nLWluZGljYXRvcic7XG4gICAgbG9hZGluZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2VcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMTUwbXNcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy12aW9sZXQtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAzMDBtc1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobG9hZGluZ0Rpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIGwnaW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBoaWRlQUlMb2FkaW5nKCkge1xuICAgIGNvbnN0IGxvYWRpbmdEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktbG9hZGluZy1pbmRpY2F0b3InKTtcbiAgICBsb2FkaW5nRGl2Py5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRlIGxhIHJcdTAwRTlwb25zZSBkZSBsJ0lBIChNYXJrZG93biBiYXNpcXVlKVxuICAgKi9cbiAgZnVuY3Rpb24gZm9ybWF0QUlSZXNwb25zZSh0ZXh0KSB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gJyc7XG4gICAgXG4gICAgLy8gRXNjYXBlIEhUTUwgZCdhYm9yZFxuICAgIGxldCBmb3JtYXR0ZWQgPSBlc2NhcGVIdG1sKHRleHQpO1xuICAgIFxuICAgIC8vIENvZGUgYmxvY2tzIGBgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gYGAoXFx3KilcXG4oW1xcc1xcU10qPylgYGAvZywgKG1hdGNoLCBsYW5nLCBjb2RlKSA9PiB7XG4gICAgICByZXR1cm4gYDxwcmUgY2xhc3M9XCJsYW5ndWFnZS0ke2xhbmcgfHwgJ3RleHQnfVwiPjxjb2RlPiR7Y29kZS50cmltKCl9PC9jb2RlPjwvcHJlPmA7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gSW5saW5lIGNvZGUgYFxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9gKFteYF0rKWAvZywgJzxjb2RlPiQxPC9jb2RlPicpO1xuICAgIFxuICAgIC8vIEJvbGQgKip0ZXh0KipcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqXFwqKFteKl0rKVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpO1xuICAgIFxuICAgIC8vIEl0YWxpYyAqdGV4dCpcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXFwqKFteKl0rKVxcKi9nLCAnPGVtPiQxPC9lbT4nKTtcbiAgICBcbiAgICAvLyBUaXRyZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjIyAoLispJC9nbSwgJzxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0xXCI+JDE8L2g0PicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eIyMgKC4rKSQvZ20sICc8aDMgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oMz4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMgKC4rKSQvZ20sICc8aDIgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS05MDAgbXQtMyBtYi0yXCI+JDE8L2gyPicpO1xuICAgIFxuICAgIC8vIExpc3Rlc1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eLSAoLispJC9nbSwgJzxsaSBjbGFzcz1cIm1sLTRcIj4kMTwvbGk+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14oXFxkKylcXC4gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDI8L2xpPicpO1xuICAgIFxuICAgIC8vIFBhcmFncmFwaGVzIChsaWduZXMgdmlkZXMpXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcblxcbi9nLCAnPC9wPjxwIGNsYXNzPVwibWItMlwiPicpO1xuICAgIGZvcm1hdHRlZCA9ICc8cCBjbGFzcz1cIm1iLTJcIj4nICsgZm9ybWF0dGVkICsgJzwvcD4nO1xuICAgIFxuICAgIC8vIE5ldHRveWVyIGxlcyA8cD4gdmlkZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvPHAgY2xhc3M9XCJtYi0yXCI+PFxcL3A+L2csICcnKTtcbiAgICBcbiAgICByZXR1cm4gZm9ybWF0dGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MDBDOWNoYXBwZSBsZSBIVE1MXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyoqXG4gICAqIEVudm9pZSB1biBtZXNzYWdlIGF1IGNoYXQgSUFcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIW1lc3NhZ2UgfHwgIXNpdGVTbHVnIHx8IGFpSXNMb2FkaW5nKSByZXR1cm47XG4gICAgXG4gICAgYWlJc0xvYWRpbmcgPSB0cnVlO1xuICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBcbiAgICAvLyBFZmZhY2VyIGxlIG1lc3NhZ2UgZGUgYmllbnZlbnVlIGF1IHByZW1pZXIgbWVzc2FnZVxuICAgIGNvbnN0IHdlbGNvbWVNc2cgPSBhaUNoYXRNZXNzYWdlcz8ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICBpZiAod2VsY29tZU1zZykgd2VsY29tZU1zZy5yZW1vdmUoKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBtZXNzYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICBhcHBlbmRBSU1lc3NhZ2UobWVzc2FnZSwgJ3VzZXInKTtcbiAgICBcbiAgICAvLyBBZmZpY2hlciBsZSBsb2FkZXJcbiAgICBzaG93QUlMb2FkaW5nKCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9jaGF0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ0VycmV1ciBkZSBjb21tdW5pY2F0aW9uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLnJlc3BvbnNlKSB7XG4gICAgICAgIGFwcGVuZEFJTWVzc2FnZShkYXRhLnJlc3BvbnNlLCAnYXNzaXN0YW50Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkJ1x1MDBFOWRpdGlvbiBkZSBwYWdlXG4gICAgICBpZiAoZGF0YS5lZGl0UHJvcG9zYWwpIHtcbiAgICAgICAgYXBwZW5kRWRpdFByb3Bvc2FsKGRhdGEuZWRpdFByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR1x1MDBFOXJlciBsZXMgcHJvcG9zaXRpb25zIGRlIG1vZGlmaWNhdGlvbiBkdSB0aFx1MDBFOG1lXG4gICAgICBpZiAoZGF0YS50aGVtZVByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZFRoZW1lUHJvcG9zYWwoZGF0YS50aGVtZVByb3Bvc2FsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaGlkZUFJTG9hZGluZygpO1xuICAgICAgYXBwZW5kQUlNZXNzYWdlKGBcdTI3NEMgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWAsICdhc3Npc3RhbnQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWlJc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIGFpQ2hhdElucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvbiBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kRWRpdFByb3Bvc2FsKHByb3Bvc2FsKSB7XG4gICAgaWYgKCFhaUNoYXRNZXNzYWdlcyB8fCAhcHJvcG9zYWwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wb3NhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb3Bvc2FsRGl2LmNsYXNzTmFtZSA9ICdmbGV4IGdhcC0zIG10LTInO1xuICAgIHByb3Bvc2FsRGl2LmRhdGFzZXQucHJvcG9zYWxJZCA9IHByb3Bvc2FsLnByb3Bvc2FsSWQ7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyZSBsZSByXHUwMEU5c3VtXHUwMEU5IGRlcyBjaGFuZ2VtZW50c1xuICAgIGxldCBjaGFuZ2VzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzKSB7XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy50aXRsZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPlRpdHJlIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnRpdGxlKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbikge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgODApKX0uLi48L2xpPmA7XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8pIHtcbiAgICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSkge1xuICAgICAgICAgIGNoYW5nZXNIdG1sICs9IGA8bGk+TWV0YSB0aXRsZSBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuc2VvLm1ldGFUaXRsZSl9PC9saT5gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgZGVzY3JpcHRpb24gXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhRGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDYwKSl9Li4uPC9saT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZSkge1xuICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPkJsb2MgXCIke3Byb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUuYmxvY2tJZH1cIiBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzKSB7XG4gICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLnNldHRpbmdzO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy50aXRsZSkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgdGl0bGU6ICR7ZXNjYXBlSHRtbChzZXR0aW5ncy50aXRsZSl9PC9saT5gO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5jb250ZW50KSBjaGFuZ2VzSHRtbCArPSBgPGxpIGNsYXNzPVwibWwtNFwiPlx1MjE5MiBjb250ZW50IG1vZGlmaVx1MDBFOTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm9wb3NhbERpdi5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctYW1iZXItNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExIDVINmEyIDIgMCAwMC0yIDJ2MTFhMiAyIDAgMDAyIDJoMTFhMiAyIDAgMDAyLTJ2LTVtLTEuNDE0LTkuNDE0YTIgMiAwIDExMi44MjggMi44MjhMMTEuODI4IDE1SDl2LTIuODI4bDguNTg2LTguNTg2elwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtYW1iZXItNzAwIGJnLWFtYmVyLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+UHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb248L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS04MDAgbWItMVwiPlBhZ2UgOiAke2VzY2FwZUh0bWwocHJvcG9zYWwucGFnZVRpdGxlIHx8IHByb3Bvc2FsLnBhZ2VJZCl9PC9wPlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItMlwiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj5cbiAgICAgICAgICAke2NoYW5nZXNIdG1sIHx8ICc8bGk+TW9kaWZpY2F0aW9ucyBwcm9wb3NcdTAwRTllczwvbGk+J31cbiAgICAgICAgPC91bD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBiZy1lbWVyYWxkLTYwMCBob3ZlcjpiZy1lbWVyYWxkLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LWVkaXQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXBwbHlFZGl0KTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LWVkaXQnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZSBhdmVjIGJvdXRvbnMgZGUgdmFsaWRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kVGhlbWVQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHMgZGUgY291bGV1cnNcbiAgICBsZXQgY29sb3JzSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy5jb2xvcnMpIHtcbiAgICAgIGNvbnN0IGNvbG9ycyA9IHByb3Bvc2FsLmNoYW5nZXMuY29sb3JzO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29sb3JzKSkge1xuICAgICAgICBjb2xvcnNIdG1sICs9IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGJvcmRlciBib3JkZXItc2xhdGUtMzAwXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAke2dldFRhaWx3aW5kQ29sb3JDc3ModmFsdWUpfVwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj4ke2tleX06IDxzdHJvbmc+JHtlc2NhcGVIdG1sKHZhbHVlKX08L3N0cm9uZz48L3NwYW4+XG4gICAgICAgIDwvbGk+YDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVHlwb2dyYXBoaWVzXG4gICAgbGV0IHR5cG9IdG1sID0gJyc7XG4gICAgaWYgKHByb3Bvc2FsLmNoYW5nZXM/LnR5cG9ncmFwaHkpIHtcbiAgICAgIGNvbnN0IHR5cG8gPSBwcm9wb3NhbC5jaGFuZ2VzLnR5cG9ncmFwaHk7XG4gICAgICBpZiAodHlwby5oZWFkaW5ncykgdHlwb0h0bWwgKz0gYDxsaT5UaXRyZXMgXHUyMTkyIDxzdHJvbmc+JHtlc2NhcGVIdG1sKHR5cG8uaGVhZGluZ3MpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICAgIGlmICh0eXBvLmJvZHkpIHR5cG9IdG1sICs9IGA8bGk+VGV4dGVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmJvZHkpfTwvc3Ryb25nPjwvbGk+YDtcbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAyMWE0IDQgMCAwMS00LTRWNWEyIDIgMCAwMTItMmg0YTIgMiAwIDAxMiAydjEyYTQgNCAwIDAxLTQgNHptMCAwaDEyYTIgMiAwIDAwMi0ydi00YTIgMiAwIDAwLTItMmgtMi4zNDNNMTEgNy4zNDNsMS42NTctMS42NTdhMiAyIDAgMDEyLjgyOCAwbDIuODI5IDIuODI5YTIgMiAwIDAxMCAyLjgyOGwtOC40ODYgOC40ODVNNyAxN2guMDFcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcHVycGxlLTcwMCBiZy1wdXJwbGUtMTAwIHB4LTIgcHktMC41IHJvdW5kZWRcIj5Nb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7cHJvcG9zYWwucmVhc29uID8gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBtYi0zXCI+JHtlc2NhcGVIdG1sKHByb3Bvc2FsLnJlYXNvbil9PC9wPmAgOiAnJ31cbiAgICAgICAgJHtjb2xvcnNIdG1sID8gYFxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+Q291bGV1cnMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zXCI+JHtjb2xvcnNIdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgJHt0eXBvSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPlR5cG9ncmFwaGllcyA6PC9wPlxuICAgICAgICAgIDx1bCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xIG1iLTMgbGlzdC1kaXNjIG1sLTRcIj4ke3R5cG9IdG1sfTwvdWw+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1hcHBseS10aGVtZSBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBBcHBsaXF1ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3M9XCJhaS1yZWplY3QtdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTYwMCBiZy1zbGF0ZS0xMDAgaG92ZXI6Ymctc2xhdGUtMjAwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgZGF0YS1wcm9wb3NhbC1pZD1cIiR7cHJvcG9zYWwucHJvcG9zYWxJZH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICBSZWpldGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChwcm9wb3NhbERpdik7XG4gICAgYWlDaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gYWlDaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0O1xuICAgIFxuICAgIC8vIEF0dGFjaGVyIGxlcyBcdTAwRTl2XHUwMEU5bmVtZW50cyBhdXggYm91dG9uc1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1hcHBseS10aGVtZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5VGhlbWUpO1xuICAgIHByb3Bvc2FsRGl2LnF1ZXJ5U2VsZWN0b3IoJy5haS1yZWplY3QtdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWplY3RFZGl0KTsgLy8gUlx1MDBFOXV0aWxpc2UgbGEgbVx1MDBFQW1lIGxvZ2lxdWUgZGUgcmVqZXRcbiAgfVxuICBcbiAgLyoqXG4gICAqIENvbnZlcnRpdCB1bmUgY291bGV1ciBUYWlsd2luZCBlbiBDU1MgYXBwcm94aW1hdGlmIHBvdXIgcHJldmlld1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VGFpbHdpbmRDb2xvckNzcyhjb2xvck5hbWUpIHtcbiAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICAnd2hpdGUnOiAnI2ZmZmZmZicsICdibGFjayc6ICcjMDAwMDAwJywgJ3RyYW5zcGFyZW50JzogJ3RyYW5zcGFyZW50JyxcbiAgICAgICdzbGF0ZS01MCc6ICcjZjhmYWZjJywgJ3NsYXRlLTEwMCc6ICcjZjFmNWY5JywgJ3NsYXRlLTIwMCc6ICcjZTJlOGYwJywgJ3NsYXRlLTMwMCc6ICcjY2JkNWUxJywgJ3NsYXRlLTQwMCc6ICcjOTRhM2I4JywgJ3NsYXRlLTUwMCc6ICcjNjQ3NDhiJywgJ3NsYXRlLTYwMCc6ICcjNDc1NTY5JywgJ3NsYXRlLTcwMCc6ICcjMzM0MTU1JywgJ3NsYXRlLTgwMCc6ICcjMWUyOTNiJywgJ3NsYXRlLTkwMCc6ICcjMGYxNzJhJyxcbiAgICAgICdncmF5LTUwJzogJyNmOWZhZmInLCAnZ3JheS0xMDAnOiAnI2YzZjRmNicsICdncmF5LTIwMCc6ICcjZTVlN2ViJywgJ2dyYXktMzAwJzogJyNkMWQ1ZGInLCAnZ3JheS00MDAnOiAnIzljYTNhZicsICdncmF5LTUwMCc6ICcjNmI3MjgwJywgJ2dyYXktNjAwJzogJyM0YjU1NjMnLCAnZ3JheS03MDAnOiAnIzM3NDE1MScsICdncmF5LTgwMCc6ICcjMWYyOTM3JywgJ2dyYXktOTAwJzogJyMxMTE4MjcnLFxuICAgICAgJ3Zpb2xldC01MCc6ICcjZjVmM2ZmJywgJ3Zpb2xldC0xMDAnOiAnI2VkZTlmZScsICd2aW9sZXQtMjAwJzogJyNkZGQ2ZmUnLCAndmlvbGV0LTMwMCc6ICcjYzRiNWZkJywgJ3Zpb2xldC00MDAnOiAnI2E3OGJmYScsICd2aW9sZXQtNTAwJzogJyM4YjVjZjYnLCAndmlvbGV0LTYwMCc6ICcjN2MzYWVkJywgJ3Zpb2xldC03MDAnOiAnIzZkMjhkOScsICd2aW9sZXQtODAwJzogJyM1YjIxYjYnLCAndmlvbGV0LTkwMCc6ICcjNGMxZDk1JyxcbiAgICAgICdwdXJwbGUtNTAnOiAnI2ZhZjVmZicsICdwdXJwbGUtMTAwJzogJyNmM2U4ZmYnLCAncHVycGxlLTIwMCc6ICcjZTlkNWZmJywgJ3B1cnBsZS0zMDAnOiAnI2Q4YjRmZScsICdwdXJwbGUtNDAwJzogJyNjMDg0ZmMnLCAncHVycGxlLTUwMCc6ICcjYTg1NWY3JywgJ3B1cnBsZS02MDAnOiAnIzkzMzNlYScsICdwdXJwbGUtNzAwJzogJyM3ZTIyY2UnLCAncHVycGxlLTgwMCc6ICcjNmIyMWE4JywgJ3B1cnBsZS05MDAnOiAnIzU4MWM4NycsXG4gICAgICAnYmx1ZS01MCc6ICcjZWZmNmZmJywgJ2JsdWUtMTAwJzogJyNkYmVhZmUnLCAnYmx1ZS0yMDAnOiAnI2JmZGJmZScsICdibHVlLTMwMCc6ICcjOTNjNWZkJywgJ2JsdWUtNDAwJzogJyM2MGE1ZmEnLCAnYmx1ZS01MDAnOiAnIzNiODJmNicsICdibHVlLTYwMCc6ICcjMjU2M2ViJywgJ2JsdWUtNzAwJzogJyMxZDRlZDgnLCAnYmx1ZS04MDAnOiAnIzFlNDBhZicsICdibHVlLTkwMCc6ICcjMWUzYThhJyxcbiAgICAgICdlbWVyYWxkLTUwJzogJyNlY2ZkZjUnLCAnZW1lcmFsZC0xMDAnOiAnI2QxZmFlNScsICdlbWVyYWxkLTIwMCc6ICcjYTdmM2QwJywgJ2VtZXJhbGQtMzAwJzogJyM2ZWU3YjcnLCAnZW1lcmFsZC00MDAnOiAnIzM0ZDM5OScsICdlbWVyYWxkLTUwMCc6ICcjMTBiOTgxJywgJ2VtZXJhbGQtNjAwJzogJyMwNTk2NjknLCAnZW1lcmFsZC03MDAnOiAnIzA0Nzg1NycsICdlbWVyYWxkLTgwMCc6ICcjMDY1ZjQ2JywgJ2VtZXJhbGQtOTAwJzogJyMwNjRlM2InLFxuICAgICAgJ3RlYWwtNTAnOiAnI2YwZmRmYScsICd0ZWFsLTEwMCc6ICcjY2NmYmYxJywgJ3RlYWwtMjAwJzogJyM5OWY2ZTQnLCAndGVhbC0zMDAnOiAnIzVlZWFkNCcsICd0ZWFsLTQwMCc6ICcjMmRkNGJmJywgJ3RlYWwtNTAwJzogJyMxNGI4YTYnLCAndGVhbC02MDAnOiAnIzBkOTQ4OCcsICd0ZWFsLTcwMCc6ICcjMGY3NjZlJywgJ3RlYWwtODAwJzogJyMxMTVlNTknLCAndGVhbC05MDAnOiAnIzEzNGU0YScsXG4gICAgICAnYW1iZXItNTAnOiAnI2ZmZmJlYicsICdhbWJlci0xMDAnOiAnI2ZlZjNjNycsICdhbWJlci0yMDAnOiAnI2ZkZTY4YScsICdhbWJlci0zMDAnOiAnI2ZjZDM0ZCcsICdhbWJlci00MDAnOiAnI2ZiYmYyNCcsICdhbWJlci01MDAnOiAnI2Y1OWUwYicsICdhbWJlci02MDAnOiAnI2Q5NzcwNicsICdhbWJlci03MDAnOiAnI2I0NTMwOScsICdhbWJlci04MDAnOiAnIzkyNDAwZScsICdhbWJlci05MDAnOiAnIzc4MzUwZicsXG4gICAgICAncmVkLTUwJzogJyNmZWYyZjInLCAncmVkLTEwMCc6ICcjZmVlMmUyJywgJ3JlZC0yMDAnOiAnI2ZlY2FjYScsICdyZWQtMzAwJzogJyNmY2E1YTUnLCAncmVkLTQwMCc6ICcjZjg3MTcxJywgJ3JlZC01MDAnOiAnI2VmNDQ0NCcsICdyZWQtNjAwJzogJyNkYzI2MjYnLCAncmVkLTcwMCc6ICcjYjkxYzFjJywgJ3JlZC04MDAnOiAnIzk5MWIxYicsICdyZWQtOTAwJzogJyM3ZjFkMWQnXG4gICAgfTtcbiAgICByZXR1cm4gY29sb3JzW2NvbG9yTmFtZV0gfHwgJyM5QzZCRkYnO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpcXVlIHVuZSBwcm9wb3NpdGlvbiBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlUaGVtZShlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJhbmltYXRlLXNwaW5cIj5cdTIzRjM8L3NwYW4+IEFwcGxpY2F0aW9uLi4uJztcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2FwcGx5LXRoZW1lYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgYmctcHVycGxlLTUwIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS03MDBcIj5cdTI3MDUgVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgYXZlYyBzdWNjXHUwMEU4cyAhPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1wdXJwbGUtNjAwIG10LTFcIj5SZWNoYXJnZXogbGEgcHJldmlldyBwb3VyIHZvaXIgbGVzIGNoYW5nZW1lbnRzLjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1RvYXN0KCdUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ciAhJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBEXHUwMEU5Y2xlbmNoZXIgdW4gXHUwMEU5dlx1MDBFOW5lbWVudCBwZXJzb25uYWxpc1x1MDBFOSBwb3VyIHJhZnJhXHUwMEVFY2hpclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktdGhlbWUtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgdXBkYXRlZFRoZW1lOiBkYXRhLnVwZGF0ZWRUaGVtZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gdmFsaWRcdTAwRTllXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBseUVkaXQoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS1lZGl0YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvcG9zYWxJZCB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgc3VjY1x1MDBFOHNcbiAgICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICAgIGlmIChwcm9wb3NhbENhcmQpIHtcbiAgICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWVtZXJhbGQtNTAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWVtZXJhbGQtNzAwXCI+XHUyNzA1IE1vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZW1lcmFsZC02MDAgbXQtMVwiPkxhIHByZXZpZXcgc2UgbWV0IFx1MDBFMCBqb3VyIGF1dG9tYXRpcXVlbWVudC48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnTW9kaWZpY2F0aW9ucyBhcHBsaXF1XHUwMEU5ZXMgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXIgbGEgcHJldmlld1xuICAgICAgICBjb25zdCBwYWdlSWQgPSBkYXRhLnVwZGF0ZWRQYWdlPy5pZCB8fCBudWxsO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWktcGFnZS11cGRhdGVkJywge1xuICAgICAgICAgIGRldGFpbDogeyBwYWdlSWQsIHVwZGF0ZWRQYWdlOiBkYXRhLnVwZGF0ZWRQYWdlIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbFxcJ2FwcGxpY2F0aW9uJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz48L3N2Zz4gUlx1MDBFOWVzc2F5ZXJgO1xuICAgICAgc2hvd1RvYXN0KGBFcnJldXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlamV0dGUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWplY3RFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL3Byb3Bvc2FsLyR7cHJvcG9zYWxJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBSZW1wbGFjZXIgbGEgY2FyZCBwYXIgdW4gbWVzc2FnZSBkZSByZWpldFxuICAgICAgY29uc3QgcHJvcG9zYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsSWR9XCJdYCk7XG4gICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgIHByb3Bvc2FsQ2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTQwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTEwMCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj5Qcm9wb3NpdGlvbiByZWpldFx1MDBFOWUuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FJXSBSZWplY3QgZWRpdCBlcnJvcjonLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFZmZhY2UgbCdoaXN0b3JpcXVlIGR1IGNoYXRcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGNsZWFyQUlIaXN0b3J5KCkge1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXNpdGVTbHVnIHx8ICFhaUNoYXRNZXNzYWdlcykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2FpL2hpc3RvcnlgLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gICAgICBcbiAgICAgIC8vIFZpZGVyIGxlcyBtZXNzYWdlc1xuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICBcbiAgICAgIC8vIFJcdTAwRTlhZmZpY2hlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgYWlDaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtM1wiIGRhdGEtYWktd2VsY29tZT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS12aW9sZXQtNTAwIHRvLWluZGlnby02MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjY2MyAxN2g0LjY3M00xMiAzdjFtNi4zNjQgMS42MzZsLS43MDcuNzA3TTIxIDEyaC0xTTQgMTJIM20zLjM0My01LjY1N2wtLjcwNy0uNzA3bTIuODI4IDkuOWE1IDUgMCAxMTcuMDcyIDBsLS41NDguNTQ3QTMuMzc0IDMuMzc0IDAgMDAxNCAxOC40NjlWMTlhMiAyIDAgMTEtNCAwdi0uNTMxYzAtLjg5NS0uMzU2LTEuNzU0LS45ODgtMi4zODZsLS41NDgtLjU0N3pcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXNsYXRlLTUwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTNcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTcwMFwiPlxuICAgICAgICAgICAgICBTYWx1dCAhIFx1RDgzRFx1REM0QiBKZSBzdWlzIHRvbiBhc3Npc3RhbnQgSUEgcG91ciBjZSBzaXRlLiBKZSBwZXV4IHQnYWlkZXIgXHUwMEUwIDpcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm10LTIgdGV4dC1zbSB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxpPlx1RDgzQ1x1REZBOCBTdWdnXHUwMEU5cmVyIGRlcyBwYWxldHRlcyBkZSBjb3VsZXVyczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MERcdUZFMEYgR1x1MDBFOW5cdTAwRTlyZXIgZHUgY29udGVudSBwb3VyIHRlcyBibG9jczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdURDQzQgQ3JcdTAwRTllciBkZXMgc3RydWN0dXJlcyBkZSBwYWdlczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0RcdUREMEQgQW1cdTAwRTlsaW9yZXIgdG9uIFNFTzwvbGk+XG4gICAgICAgICAgICAgIDxsaT5cdTI3MEZcdUZFMEYgPHN0cm9uZz5BbmFseXNlciBldCBtb2RpZmllciB0ZXMgcGFnZXM8L3N0cm9uZz4gKGF2ZWMgdmFsaWRhdGlvbik8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgXG4gICAgICBzaG93VG9hc3QoJ0hpc3RvcmlxdWUgZWZmYWNcdTAwRTknKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ2xlYXIgaGlzdG9yeSBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VmZmFjZW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9tcHRzIHJhcGlkZXNcbiAgY29uc3QgcXVpY2tQcm9tcHRzID0ge1xuICAgIGNvbG9yczogJ1N1Z2dcdTAwRThyZS1tb2kgMyBwYWxldHRlcyBkZSBjb3VsZXVycyBoYXJtb25pZXVzZXMgcG91ciBtb24gc2l0ZS4gUG91ciBjaGFxdWUgcGFsZXR0ZSwgZG9ubmUgbGVzIGNvdWxldXJzIFRhaWx3aW5kOiBwcmltYXJ5LCBzZWNvbmRhcnksIGFjY2VudCwgZXQgYmFja2dyb3VuZC4nLFxuICAgIGhlcm86ICdHXHUwMEU5blx1MDBFOHJlIHVuIGJsb2MgSGVybyBlbiBKU09OIGF2ZWMgdW4gdGl0cmUgYWNjcm9jaGV1ciwgdW4gc291cy10aXRyZSBlbmdhZ2VhbnQgZXQgdW4gQ1RBLicsXG4gICAgc2VvOiAnQW5hbHlzZSBtb24gc2l0ZSBldCBzdWdnXHUwMEU4cmUgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBTRU8gcG91ciBsZSBtZXRhIHRpdGxlIGV0IGxhIG1ldGEgZGVzY3JpcHRpb24gZGUgbWEgcGFnZSBkXFwnYWNjdWVpbC4nLFxuICAgIGxhbmRpbmc6ICdHXHUwMEU5blx1MDBFOHJlIGxhIHN0cnVjdHVyZSBKU09OIGRcXCd1bmUgbGFuZGluZyBwYWdlIGNvbXBsXHUwMEU4dGUgYXZlYzogSGVybywgMyBzZWN0aW9ucyBkZSBjb250ZW51LCBldCB1biBDVEEgZmluYWwuJyxcbiAgICBhbmFseXplOiAnQW5hbHlzZSBsZSBjb250ZW51IGRlIHRvdXRlcyBtZXMgcGFnZXMgZXQgcHJvcG9zZSBkZXMgYW1cdTAwRTlsaW9yYXRpb25zIGNvbmNyXHUwMEU4dGVzLiBQb3VyIGNoYXF1ZSBzdWdnZXN0aW9uIGRcXCdhbVx1MDBFOWxpb3JhdGlvbiBkZSB0ZXh0ZSBvdSBkZSBzdHJ1Y3R1cmUsIHV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdCBwb3VyIHF1ZSBqZSBwdWlzc2UgdmFsaWRlci4nLFxuICAgIGltcHJvdmVIb21lOiAnQW5hbHlzZSBtYSBwYWdlIGRcXCdhY2N1ZWlsIGV0IHByb3Bvc2UgdW5lIGFtXHUwMEU5bGlvcmF0aW9uIGR1IHRpdHJlIG91IGR1IEhlcm8gcG91ciBsZSByZW5kcmUgcGx1cyBpbXBhY3RhbnQuIFV0aWxpc2UgbGUgZm9ybWF0IHByb3Bvc2UtZWRpdC4nXG4gIH07XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gIGFpQ2hhdFRvZ2dsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5BSUNoYXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdENsb3NlPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQUlDaGF0KTtcbiAgYWlDaGF0T3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG5cbiAgYWlDaGF0Q2xlYXI/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChjb25maXJtKCdFZmZhY2VyIHRvdXQgbFxcJ2hpc3RvcmlxdWUgZGUgY29udmVyc2F0aW9uID8nKSkge1xuICAgICAgY2xlYXJBSUhpc3RvcnkoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFpQ2hhdEZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBhaUNoYXRJbnB1dD8udmFsdWU/LnRyaW0oKTtcbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgYWlDaGF0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHNlbmRBSU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxuICB9KTtcblxuICBhaVF1aWNrQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aW9uID0gYnRuLmRhdGFzZXQuYWlRdWljaztcbiAgICAgIGNvbnN0IHByb21wdCA9IHF1aWNrUHJvbXB0c1thY3Rpb25dO1xuICAgICAgaWYgKHByb21wdCkge1xuICAgICAgICBzZW5kQUlNZXNzYWdlKHByb21wdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEZlcm1lciBhdmVjIEVzY2FwZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmIGFpQ2hhdE9wZW4pIHtcbiAgICAgIGNsb3NlQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BQUEsU0FBUyxpQkFBaUIsbUJBQW9CLElBQU0sQ0FBcEQsSUFBQUEsR0FDRSxRQUFRLElBQUksMkJBQXdCLEVBQ3BDLElBQU1DLEdBQWUsU0FBUyxjQUFjLGVBQWUsRUFDdkRBLElBQ0ZBLEdBQWEsaUJBQWlCLFFBQVMsU0FBWSxDQUNqREEsR0FBYSxTQUFXLEdBQ3hCLEdBQUksQ0FDRixNQUFNLE1BQU0sY0FBZSxDQUN6QixPQUFRLE9BQ1IsUUFBUyxDQUNQLGVBQWdCLGtCQUNsQixDQUNGLENBQUMsQ0FDSCxPQUFTQyxFQUFLLENBQ1osUUFBUSxNQUFNLDBDQUF3Q0EsQ0FBRyxDQUMzRCxRQUFFLENBQ0EsT0FBTyxTQUFTLEtBQU8sbUJBQ3pCLENBQ0YsQ0FBQyxFQUdILElBQU1DLEdBQVUsU0FBUyxjQUFjLHNCQUFzQixFQUN2REMsR0FBaUIsU0FBUyxjQUFjLDhCQUE4QixFQUN0RUMsR0FBaUIsU0FBUyxpQkFBaUIsNkJBQTZCLEVBQ3hFQyxHQUFzQixTQUFTLGlCQUFpQiw0QkFBNEIsRUFDNUVDLEdBQU8sU0FBUyxLQUNsQkMsR0FBYyxHQUVaQyxHQUFvQixJQUFNLENBQzlCLEdBQUksQ0FBQ04sR0FDSCxPQUdGLEdBRGtCLE9BQU8sV0FBVyxxQkFBcUIsRUFBRSxRQUM1QyxDQUNiQSxHQUFRLFVBQVUsT0FBTyxRQUFRLEVBQ2pDQyxJQUFBLE1BQUFBLEdBQWdCLFVBQVUsSUFBSSxVQUM5QkcsR0FBSyxVQUFVLE9BQU8saUJB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QXBjLEVBeTZQSW9jLEVBQUUsZUFBZSxFQUNqQixJQUFNaFcsR0FBVXBHLEVBQUF1OUIsSUFBQSxZQUFBQSxHQUFhLFFBQWIsWUFBQXY5QixFQUFvQixPQUNoQ29HLElBQ0ZtM0IsR0FBWSxNQUFRLEdBQ3BCNkIsR0FBY2g1QixDQUFPLEVBRXpCLEdBRUF1M0IsR0FBZSxRQUFROVksR0FBTyxDQUM1QkEsRUFBSSxpQkFBaUIsUUFBUyxJQUFNLENBQ2xDLElBQU0wTixFQUFTMU4sRUFBSSxRQUFRLFFBQ3JCMGIsRUFBU0QsR0FBYS9OLENBQU0sRUFDOUJnTyxHQUNGbkIsR0FBY21CLENBQU0sQ0FFeEIsQ0FBQyxDQUNILENBQUMsRUFHRCxTQUFTLGlCQUFpQixVQUFZbmtCLEdBQU0sQ0FDdENBLEVBQUUsTUFBUSxVQUFZd2hCLElBQ3hCTSxHQUFZLENBRWhCLENBQUMsQ0FDSCxDQUFDIiwKICAibmFtZXMiOiBbIl9hIiwgImxvZ291dEJ1dHRvbiIsICJlcnIiLCAic2lkZWJhciIsICJzaWRlYmFyT3ZlcmxheSIsICJzaWRlYmFyVG9nZ2xlcyIsICJzaWRlYmFyQ2xvc2VCdXR0b25zIiwgImJvZHkiLCAic2lkZWJhck9wZW4iLCAiYXBwbHlTaWRlYmFyU3RhdGUiLCAib3BlblNpZGViYXIiLCAiY2xvc2VTaWRlYmFyIiwgImJ1dHRvbiIsICJldmVudCIsICJBQ1RJVkVfU0lURV9LRVkiLCAiQUNUSVZFX1NJVEVfTkFNRV9LRVkiLCAic3RvcmVkU2l0ZSIsICJyYXdTbHVnIiwgImVuc3VyZUxlYWRpbmdTbGFzaCIsICJzdHJpcExlYWRpbmdTbGFzaCIsICJzaXRlQ2FyZHMiLCAic2l0ZVNlbGVjdEJ1dHRvbnMiLCAic2l0ZU5hbWVMYWJlbCIsICJ3b3Jrc3BhY2VTaXRlTGFiZWwiLCAid29ya3NwYWNlQmFja05hbWUiLCAid29ya3NwYWNlQmFja01vZGFsIiwgIndvcmtzcGFjZUJhY2tCdXR0b25zIiwgIndvcmtzcGFjZUJhY2tDYW5jZWwiLCAid29ya3NwYWNlQmFja0NvbmZpcm0iLCAid29ya3NwYWNlTmF2TGlua3MiLCAic2l0ZVRvYXN0IiwgInNpdGVUb2FzdE1lc3NhZ2UiLCAic2l0ZUNyZWF0ZUJ1dHRvbnMiLCAic2l0ZU1vZGFsIiwgInNpdGVGb3JtIiwgInNpdGVOYW1lSW5wdXQiLCAic2l0ZVNsdWdJbnB1dCIsICJzaXRlU2x1Z0Vycm9yIiwgInNpdGVNb2RhbEVycm9yIiwgInNpdGVNb2RhbENhbmNlbEJ1dHRvbnMiLCAic2l0ZU1vZGFsU3VibWl0QnV0dG9uIiwgIndvcmtzcGFjZUNvbnRleHQiLCAiZ2V0V29ya3NwYWNlQ29udGV4dCIsICJzbHVnTWFudWFsbHlFZGl0ZWQiLCAidG9hc3RUaW1lb3V0SWQiLCAiZm9jdXNhYmxlU2VsZWN0b3IiLCAibW9kYWxTdGFjayIsICJnZXRGb2N1c2FibGVFbGVtZW50cyIsICJtb2RhbCIsICJlbCIsICJoYW5kbGVNb2RhbEtleWRvd24iLCAiY3VycmVudEVudHJ5IiwgIm9uQ2xvc2UiLCAiZm9jdXNhYmxlRWxlbWVudHMiLCAiZmlyc3QiLCAibGFzdCIsICJhY3RpdmF0ZU1vZGFsIiwgImZvY3VzYWJsZSIsICJfYiIsICJkZWFjdGl2YXRlTW9kYWwiLCAiaW5kZXgiLCAiZW50cnkiLCAibW9iaWxlUGFuZWxPdmVybGF5IiwgIm1vYmlsZVBhbmVsTGF5ZXIiLCAibW9iaWxlUGFuZWxzIiwgIm1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciIsICJyaWdodFBhbmVsUGxhY2Vob2xkZXIiLCAibW9iaWxlUGFuZWxUb2dnbGVzIiwgIm1vYmlsZVBhbmVsQ2xvc2VCdXR0b25zIiwgIm1vYmlsZVBhbmVsVHJpZ2dlcnMiLCAiYWN0aXZlTW9iaWxlUGFuZWwiLCAiaXNEZXNrdG9wVmlld3BvcnQiLCAiZW5zdXJlTW9iaWxlUGFuZWxMYXllclBsYWNlbWVudCIsICJ0YXJnZXRQYXJlbnQiLCAiZW5zdXJlUmlnaHRQYW5lbFBsYWNlbWVudCIsICJwYW5lbCIsICJsZWZ0UGFuZWwiLCAiZW5zdXJlTW9iaWxlUGFuZWxQbGFjZW1lbnQiLCAicGFuZWxEZWZhdWx0WiIsICJzaWRlIiwgImNvbXB1dGVkWiIsICJhY3RpdmVQYW5lbFoiLCAibWF4IiwgInZhbHVlIiwgInNldFBhbmVsWlN0YXRlIiwgImlzQWN0aXZlIiwgImFwcGx5UGFuZWxDbGFzc2VzIiwgImNsYXNzZXMiLCAibWV0aG9kIiwgImNscyIsICJzZXRQYW5lbEhpZGRlblN0YXRlIiwgImhpZGRlbiIsICJoaWRkZW5DbGFzc2VzIiwgInZpc2libGVDbGFzc2VzIiwgImNsb3NlTW9iaWxlUGFuZWwiLCAidHJpZ2dlciIsICJvcGVuTW9iaWxlUGFuZWwiLCAiZm9jdXNUYXJnZXQiLCAic3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCIsICJzaG93VG9hc3QiLCAibWVzc2FnZSIsICJzbHVnIiwgInRyaW1tZWQiLCAid2l0aG91dExlYWRpbmciLCAicGVyc2lzdFNpdGVTdGF0ZSIsICJuYW1lIiwgIm5vcm1hbGl6ZWRTbHVnIiwgInVwZGF0ZVNpdGVMYWJlbHMiLCAidXBkYXRlV29ya3NwYWNlTmF2TGlua3MiLCAibGluayIsICJ0YWIiLCAic2x1Z1BhdGgiLCAiYXBwbHlBY3RpdmVTaXRlIiwgIm9wdGlvbnMiLCAiYWN0aXZlU2l0ZU5hbWUiLCAiY2FyZCIsICJiYWRnZSIsICJmaW5hbE5hbWUiLCAic2VsZWN0U2l0ZSIsICJyZXNwb25zZSIsICJwYXlsb2FkIiwgImZpbmFsU2x1ZyIsICJzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIiLCAic2l0ZSIsICJkZWZhdWx0Q2FyZCIsICJ3b3Jrc3BhY2VTbHVnaWZ5IiwgIm5vcm1hbGl6ZVNsdWdWYWx1ZSIsICJiYXNlIiwgIm9wZW5TaXRlTW9kYWwiLCAiY2xvc2VTaXRlTW9kYWwiLCAic2x1Z1ZhbCIsICJuYW1lVmFsIiwgImdldFNsdWdTZXQiLCAibmFtZVZhbHVlIiwgInNsdWdWYWx1ZSIsICJjcmVhdGVkU2l0ZSIsICJjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCIsICJtYXRjaCIsICJkZXRlY3RXb3Jrc3BhY2VTZWN0aW9uIiwgIm9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwiLCAiVFJBTlNQQVJFTlRfUEFUVEVSTiIsICJwYXJzZUNzc0NvbG9yVG9SZ2IiLCAibm9ybWFsaXplZCIsICJyZ2JNYXRjaCIsICJoZXhNYXRjaCIsICJoZXgiLCAibm9ybWFsaXplZEhleCIsICJjIiwgInIiLCAiZyIsICJiIiwgImdldFJlYWRhYmxlVGV4dENvbG9yIiwgImJhY2tncm91bmRDb2xvciIsICJyZ2IiLCAic3R5bGVTZWxlY3RPcHRpb25zIiwgInNlbGVjdCIsICJvcHRpb24iLCAib3B0aW9uQ29sb3IiLCAiYWN0aXZlU2VjdGlvbiIsICJpbml0RGVzaWduV29ya3NwYWNlIiwgImluaXRDb250ZW50V29ya3NwYWNlIiwgImluaXRNZWRpYVdvcmtzcGFjZSIsICJpbml0RGVwbG95V29ya3NwYWNlIiwgImluaXRTZXR0aW5nc1dvcmtzcGFjZSIsICJwYWdlTGlzdHMiLCAiYWN0aXZlVGl0bGUiLCAiYWN0aXZlU2x1ZyIsICJwcmV2aWV3VGFncyIsICJwcmV2aWV3RnJhbWUiLCAicHJldmlld0ZyYW1lV3JhcHBlciIsICJwcmV2aWV3U2hlbGwiLCAicHJldmlld1ZpZXdCdXR0b25zIiwgInByZXZpZXdDdXJyZW50Vmlld0xhYmVsIiwgInByZXZpZXdPcGVuQnV0dG9uIiwgInByZXZpZXdTdGF0dXMiLCAicHJldmlld0hpZ2hsaWdodE92ZXJsYXkiLCAic2VvVG9nZ2xlQnV0dG9uIiwgInNlb1BhbmVsIiwgInNlb0Nsb3NlQnV0dG9uIiwgInNlb0Zvcm0iLCAic2VvVGl0bGVJbnB1dCIsICJzZW9EZXNjcmlwdGlvbklucHV0IiwgInNlb0luZGV4ZWRDaGVja2JveCIsICJzZW9GZWVkYmFjayIsICJzZW9TYXZlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5VG9nZ2xlQnV0dG9uIiwgInBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwiLCAicGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eUZvcm0iLCAicGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCIsICJwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCIsICJwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgInBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiIsICJwYWdlUHJvcHNUb2dnbGVCdXR0b24iLCAicGFnZVByb3BzUGFuZWwiLCAicGFnZVByb3BzQ2xvc2VCdXR0b24iLCAicGFnZVByb3BzRm9ybSIsICJwYWdlTmFtZUlucHV0IiwgInBhZ2VUaXRsZUlucHV0IiwgInBhZ2VTbHVnSW5wdXQiLCAicGFnZURlc2NyaXB0aW9uSW5wdXQiLCAicGFnZVByb3BzRmVlZGJhY2siLCAicGFnZVByb3BzU2F2ZUJ1dHRvbiIsICJibG9ja0xpc3QiLCAiYmxvY2tMaXN0RW1wdHkiLCAiYmxvY2tDb3VudEJhZGdlIiwgImJsb2NrTGlicmFyeVRvZ2dsZSIsICJibG9ja0xpYnJhcnkiLCAiYmxvY2tBZGRCdXR0b25zIiwgImJsb2NrRGVsZXRlTW9kYWwiLCAiYmxvY2tEZWxldGVDb25maXJtIiwgImJsb2NrRGVsZXRlQ2FuY2VsIiwgImJsb2NrRGV0YWlsRW1wdHkiLCAiYmxvY2tEZXRhaWxTdGF0dXMiLCAiYmxvY2tFZGl0b3IiLCAiYmxvY2tFZGl0b3JUaXRsZSIsICJibG9ja0VkaXRvclR5cGUiLCAiYmxvY2tFZGl0b3JVbnN1cHBvcnRlZCIsICJibG9ja0Zvcm0iLCAic3R5bGVDb2xvckNoaXAiLCAiY2hpcCIsICJjb2xvciIsICJlbnN1cmVDdXN0b21UaGVtZU9wdGlvbiIsICJvcHQiLCAidXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3IiwgIl9jIiwgInNlbGVjdGVkT3B0aW9uIiwgImNvbG9yUHJldmlldyIsICJjb2xvckNoaXAiLCAidGhlbWVDb2xvclNlbGVjdHMiLCAiaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3QiLCAidGhlbWVDb2xvclByZXNldHMiLCAiZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUiLCAiY3NzVmFyIiwgImZhbGxiYWNrIiwgImNvbXB1dGVkIiwgImZpbGxUaGVtZUNvbG9yU2VsZWN0IiwgImxhYmVsIiwgImNvbG9yVmFsdWUiLCAicmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzIiwgImJsb2NrRm9ybVNlY3Rpb25zIiwgImdldEJsb2NrRWRpdG9yU2VjdGlvbkVsZW1lbnQiLCAiY29uZmlnIiwgImJsb2NrVGFicyIsICJhY3RpdmVCbG9ja1RhYiIsICJsZWZ0UGFuZWxUYWJzIiwgImxlZnRQYW5lbEJsb2NrcyIsICJsZWZ0UGFuZWxQYWdlcyIsICJhY3RpdmVMZWZ0VGFiIiwgInN3aXRjaExlZnRUYWIiLCAidGFiTmFtZSIsICJibG9ja0Zvcm1BY3Rpb25zIiwgImJsb2NrRm9ybUF1dG9zYXZlIiwgInN3aXRjaEJsb2NrVGFiIiwgImNvbGxlY3Rpb25TZWxlY3QiLCAiY29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiYmxvY2tGb3JtQ2FuY2VsIiwgImdyb3VwUHJldmlld01vYmlsZSIsICJncm91cFByZXZpZXdEZXNrdG9wIiwgImNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIiwgImNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcCIsICJibG9ja1R5cGVGb3JtcyIsICJibG9ja1R5cGVBbGlhc2VzIiwgImFuaW1hdGlvbkZpZWxkTWFwIiwgInVwZGF0ZUdyb3VwTWluaVByZXZpZXciLCAibW9iaWxlVmFsdWUiLCAiZGVza3RvcFZhbHVlIiwgInJlbmRlckJveGVzIiwgImNvdW50IiwgInVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyIsICJmZXRjaFBhZ2VzRnJvbVNlcnZlciIsICJwYWdlc0FwaUJhc2UiLCAiY3JlYXRlUGFnZU9uU2VydmVyIiwgInRpdGxlIiwgInNhdmVQYWdlVG9TZXJ2ZXIiLCAicGFnZSIsICJzYXZlZCIsICJub3JtYWxpemVQYWdlRGF0YSIsICJwYWdlcyIsICJjdXJyZW50UGFnZSIsICJsb2FkUGFnZXNGcm9tU2VydmVyIiwgImFjdGl2ZVBhZ2VJZCIsICJyZW5kZXJQYWdlTGlzdHMiLCAicmVuZGVyQmxvY2tMaXN0IiwgImxvYWRlZFBhZ2VzIiwgImdldExvYWRpbmdQcmV2aWV3SHRtbCIsICJnZXRTdG9yZWRBY3RpdmVQYWdlIiwgInNldEFjdGl2ZVBhZ2UiLCAibm9ybWFsaXplVHlwZSIsICJnZXRCbG9ja0Zvcm1Db25maWciLCAiYmxvY2siLCAidHlwZUtleSIsICJhbGlhcyIsICJwb3B1bGF0ZUJsb2NrRm9ybSIsICJfZCIsICJfZSIsICJfZiIsICJfZyIsICJzZWN0aW9uUm9vdCIsICJzZWN0aW9uIiwgImRlc2lyZWRWYWx1ZSIsICJ1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucyIsICJzZXR0aW5nS2V5IiwgImZpZWxkTmFtZSIsICJpbnB1dCIsICJiZ0ZpZWxkTmFtZSIsICJiZ1NlbGVjdCIsICJjb2xsZWN0Rm9ybVZhbHVlcyIsICJ2YWx1ZXMiLCAicGFyc2VkIiwgInVwZGF0ZVByZXZpZXdTdGF0dXMiLCAidGV4dCIsICJzZXJpYWxpemVQYWdlRm9yUHJldmlldyIsICJzZXJpYWxpemVCbG9jayIsICJkZWJvdW5jZSIsICJmbiIsICJkZWxheSIsICJ0aW1lb3V0SWQiLCAiYXJncyIsICJhdXRvU2F2ZUFwcGVhcmFuY2UiLCAiYWN0aXZlQmxvY2tJZCIsICJnZXRBY3RpdmVCbG9jayIsICJ1cGRhdGVkQmxvY2tzIiwgImRpZFVwZGF0ZSIsICJmb3VuZFBhcmVudElkIiwgInVwZGF0ZUJsb2Nrc0RlZXAiLCAidXBkYXRlZFNldHRpbmdzIiwgImFjdGl2ZUJsb2NrUGFyZW50SWQiLCAibmV4dFBhZ2UiLCAicCIsICJ1cGRhdGVQcmV2aWV3QmxvY2tMaXZlIiwgImJsb2NrSWQiLCAic2V0dGluZ3MiLCAiZGVib3VuY2VkUmVmcmVzaFByZXZpZXciLCAicmVmcmVzaFByZXZpZXciLCAiaGFuZGxlQXBwZWFyYW5jZUNoYW5nZSIsICJwcmV2aWV3U2l0ZVNsdWciLCAic2VyaWFsaXplZFBhZ2VzIiwgInByZXZpZXdSZWFkeSIsICJwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJkYXRhIiwgImxhdGVzdFByZXZpZXdIdG1sIiwgImVycm9yIiwgImhhbmRsZUJsb2NrRm9ybVN1Ym1pdCIsICJhbHRWYWx1ZSIsICJ1cGRhdGVkQmxvY2siLCAidXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MiLCAiZHJhd2VyIiwgImRyYXdlckJhY2tkcm9wIiwgImRyYXdlck9wZW5CdXR0b25zIiwgImRyYXdlckNsb3NlQnV0dG9ucyIsICJhZGRQYWdlVG9nZ2xlIiwgImFkZFBhZ2VGb3JtIiwgImFkZFBhZ2VOYW1lIiwgImFkZFBhZ2VUaXRsZSIsICJhZGRQYWdlU2x1ZyIsICJhZGRQYWdlQ2FuY2VsIiwgImFkZFBhZ2VFcnJvciIsICJhZGRQYWdlU3VibWl0QnV0dG9uIiwgImltcG9ydFRvZ2dsZSIsICJpbXBvcnRNb2RhbCIsICJpbXBvcnRDbG9zZUJ1dHRvbnMiLCAiaW1wb3J0RHJvcHpvbmUiLCAiaW1wb3J0RmlsZUlucHV0IiwgImltcG9ydEZpbGVMaXN0IiwgImltcG9ydEZpbGVOYW1lcyIsICJpbXBvcnRSZXN1bHRzIiwgImltcG9ydFJlc3VsdHNDb250ZW50IiwgImltcG9ydFN1Ym1pdCIsICJpbXBvcnRUYWJzIiwgImltcG9ydFBhbmVscyIsICJjb3B5UHJvbXB0QnRuIiwgImNvcHlUZW1wbGF0ZUJ0biIsICJ0ZW1wbGF0ZUpzb24iLCAiaW1wb3J0QWlQcm9tcHQiLCAiaW1wb3J0UGFzdGVJbnB1dCIsICJwYXN0ZUZvcm1hdEJ0biIsICJwYXN0ZUVycm9yIiwgImltcG9ydFNlbGVjdGVkRmlsZXMiLCAiYWN0aXZlSW1wb3J0VGFiIiwgImRlbGV0ZVBhZ2VNb2RhbCIsICJkZWxldGVQYWdlTmFtZSIsICJkZWxldGVQYWdlQ2FuY2VsIiwgImRlbGV0ZVBhZ2VDb25maXJtIiwgInBhZ2VUb0RlbGV0ZSIsICJzaXRlS2V5IiwgInNpdGVTbHVnVmFsdWUiLCAic2FmZVNpdGVTbHVnIiwgImNvbGxlY3Rpb25zQXBpQmFzZSIsICJzdG9yYWdlS2V5cyIsICJjcmVhdGVCbG9jayIsICJpZCIsICJ0eXBlIiwgInN0YXR1cyIsICJkZXNjcmlwdGlvbiIsICJwcm9wcyIsICJibG9ja0xpYnJhcnlEZWZpbml0aW9ucyIsICJwZXJzaXN0QWN0aXZlUGFnZSIsICJwYWdlSWQiLCAic3RvcmVkIiwgImZvcm1hdEJsb2NrQ291bnQiLCAibm9ybWFsaXplUGFnZVNsdWciLCAiZ2VuZXJhdGVCbG9ja0lkIiwgImtleSIsICJjcmVhdGVJbml0aWFsQmxvY2tzIiwgInNldEFjdGl2ZUxhYmVscyIsICJyZW5kZXJQcmV2aWV3TWV0YSIsICJ0YWciLCAiZ2V0U3RhdHVzQmFkZ2VDbGFzc2VzIiwgInJlbmRlckJsb2NrRGV0YWlscyIsICJyZWFkQWNjZW50Q29sb3IiLCAiYXBwbHlQcmV2aWV3SGlnaGxpZ2h0IiwgImRvYyIsICJub2RlIiwgImFjY2VudCIsICJwcmV2aWV3Vmlld1ByZXNldHMiLCAic2V0UHJldmlld1ZpZXciLCAidmlldyIsICJ0YXJnZXQiLCAic3R5bGVzIiwgImNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQiLCAiaXNOZXN0ZWQiLCAicGFyZW50SWQiLCAiYmxvY2tUeXBlIiwgImlzR3JvdXAiLCAiaXRlbSIsICJjb250ZW50IiwgImhhbmRsZSIsICJ0ZXh0V3JhcHBlciIsICJtZXRhIiwgInR5cGVCYWRnZSIsICJzdGF0dXNCYWRnZSIsICJjaGlsZENvdW50IiwgImNoaWxkQmFkZ2UiLCAiZGlzcGxheUxhYmVsIiwgImNvbGxlY3Rpb25OYW1lIiwgImRlc2lnbkNvbGxlY3Rpb25zIiwgImluZm8iLCAiYWN0aW9ucyIsICJtb3ZlQnV0dG9ucyIsICJtb3ZlVXAiLCAibW92ZUNoaWxkQmxvY2tCeU9mZnNldCIsICJtb3ZlQmxvY2tCeU9mZnNldCIsICJtb3ZlRG93biIsICJkZWxldGVCdXR0b24iLCAicmVtb3ZlQ2hpbGRGcm9tR3JvdXAiLCAib3BlbkJsb2NrRGVsZXRlTW9kYWwiLCAic2V0QWN0aXZlQmxvY2siLCAiY3JlYXRlR3JvdXBEcm9wWm9uZSIsICJwYXJlbnRCbG9jayIsICJkcm9wWm9uZSIsICJlIiwgIm1vdmVCbG9ja1RvR3JvdXAiLCAib3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsIiwgImJsb2NrcyIsICJjaGlsZCIsICJjaGlsZEl0ZW0iLCAiZmluZENoaWxkTG9jYXRpb24iLCAiY2hpbGRJZCIsICJncm91cEluZGV4IiwgImdyb3VwQmxvY2siLCAiZ3JvdXBUeXBlIiwgImNoaWxkSW5kZXgiLCAiZXh0cmFjdEJsb2NrQnlJZCIsICJyb290SW5kZXgiLCAiY2hpbGRMb2MiLCAiaW5zZXJ0QmxvY2tJbnRvUm9vdCIsICJzYWZlSW5kZXgiLCAiaW5zZXJ0QmxvY2tJbnRvR3JvdXAiLCAiZ3JvdXBJZCIsICJnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbiIsICJiYXNlSW5kZXgiLCAicG9zaXRpb24iLCAib2Zmc2V0V2hlbkFmdGVyIiwgImNvbW1pdEJsb2Nrc0NoYW5nZSIsICJhY3RpdmVJZCIsICJhY3RpdmVQYXJlbnRJZCIsICJ0b2FzdE1lc3NhZ2UiLCAiZXh0cmFjdGVkIiwgIm1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0IiwgImluc2VydEluZGV4IiwgIm1vdmVDaGlsZFdpdGhpbkdyb3VwIiwgInRhcmdldENoaWxkSWQiLCAiZnJvbUluZGV4IiwgInRvSW5kZXhCYXNlIiwgIm1vdmVkIiwgImFkanVzdGVkVG9JbmRleEJhc2UiLCAibW92ZUFueUJsb2NrVG9Hcm91cEF0IiwgInRhcmdldEluZGV4IiwgInJlc29sdmVkIiwgIm9mZnNldCIsICJjdXJyZW50SW5kZXgiLCAibmV3SW5kZXgiLCAicGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayIsICJvcGVuRGVsZXRlUGFnZU1vZGFsIiwgImNsb3NlRGVsZXRlUGFnZU1vZGFsIiwgImV4ZWN1dGVEZWxldGVQYWdlIiwgInBhZ2VUaXRsZSIsICJyZXN1bHQiLCAibGlzdCIsICJkaXNwbGF5TmFtZSIsICJuYXZCYWRnZSIsICJpc0Rlc2t0b3BEcmF3ZXIiLCAiY2xvc2VEcmF3ZXIiLCAiZGVsZXRlQnRuIiwgInBhZ2VIYXNCbG9ja0lkIiwgIndhbGsiLCAibm9kZXMiLCAidXBkYXRlciIsICJwYXJlbnRIaW50IiwgImN1cnJlbnRQYXJlbnRJZCIsICJjaGFuZ2VkIiwgIm5leHRDaGlsZHJlbiIsICJjaGlsZHJlbkNoYW5nZWQiLCAidGFyZ2V0QmxvY2siLCAiZm91bmQiLCAibmV3QmxvY2tzIiwgInVwZGF0ZUN1cnJlbnRQYWdlU3RhdGUiLCAiaXNEZXNrdG9wUmVvcmRlciIsICJyZW9yZGVyQmxvY2tzIiwgInNvdXJjZUlkIiwgInRhcmdldElkIiwgInRvSW5kZXgiLCAicmVvcmRlckJsb2Nrc1dpdGhQb3NpdGlvbiIsICJ1cGRhdGVEcmFnZ2FibGVTdGF0ZSIsICJkcmFnZ2FibGUiLCAiY2xvc2VCbG9ja0xpYnJhcnkiLCAiYmxvY2tMaWJyYXJ5T3BlbiIsICJvcGVuQmxvY2tMaWJyYXJ5IiwgInRvZ2dsZUJsb2NrTGlicmFyeSIsICJhZGRCbG9ja0Zyb21MaWJyYXJ5IiwgImRlZmluaXRpb24iLCAibmV3QmxvY2siLCAiZmlyc3RDb2xsZWN0aW9uSWQiLCAibmV4dEJsb2NrcyIsICJkZWxldGVCbG9ja0J5SWQiLCAibmV4dEFjdGl2ZSIsICJjbG9zZUJsb2NrRGVsZXRlTW9kYWwiLCAicGVuZGluZ0RlbGV0ZUJsb2NrSWQiLCAic3luY1BhZ2VBY2Nlc3NpYmlsaXR5RmllbGRzIiwgInN5bmNEcmF3ZXJTdGF0ZSIsICJvcGVuRHJhd2VyIiwgIm9wZW5BZGRQYWdlRm9ybSIsICJwYWdlU2x1Z01hbnVhbGx5RWRpdGVkIiwgImNsb3NlQWRkUGFnZUZvcm0iLCAic3luY1NsdWdGcm9tTmFtZSIsICJub3JtYWxpemVCbG9ja0RhdGEiLCAibG9hZERlc2lnbkNvbGxlY3Rpb25zIiwgImN1cnJlbnRWYWx1ZSIsICJzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8iLCAiY29sbGVjdGlvbklkIiwgImNvbGxlY3Rpb24iLCAiZGV0YWlscyIsICJzZWxlY3RlZFZhbHVlIiwgImZhbGxiYWNrT3B0aW9uIiwgImNyZWF0ZWRQYWdlIiwgInJlc2V0UGFzdGVTdGF0ZSIsICJ2YWxpZGF0ZVBhc3RlSnNvbiIsICJmb3JtYXRQYXN0ZUpzb24iLCAidXBkYXRlSW1wb3J0U3VibWl0U3RhdGUiLCAib3BlbkltcG9ydE1vZGFsIiwgInVwZGF0ZUltcG9ydEZpbGVMaXN0IiwgInQiLCAiY2xvc2VJbXBvcnRNb2RhbCIsICJmIiwgImhhbmRsZUltcG9ydEZpbGVzIiwgImZpbGVzIiwgImpzb25GaWxlcyIsICJleGVjdXRlSW1wb3J0IiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgInBhZ2VzRGF0YSIsICJwYXJzZUVyciIsICJlcnJvckxpbmUiLCAiZXJyb3JEZXRhaWwiLCAicG9zIiwgImxpbmVzIiwgImxpbmVOdW0iLCAiY29sTnVtIiwgImZpbGVFcnJvcnMiLCAiZmlsZSIsICJodG1sIiwgImhhc0RhdGEiLCAiaGFzU3VjY2VzcyIsICJoYXNFcnJvcnMiLCAiY29sbGVjdGlvbnNNc2ciLCAiYnRuIiwgInRhcmdldFBhbmVsIiwgImFjdGl2ZSIsICJ0YXJnZXRWaWV3IiwgInN0eWxlIiwgImlzR3JvdXBUeXBlIiwgImdldFBhcmVudElkRm9yQmxvY2siLCAicHJldmlld1dpbmRvdyIsICJ0b2dnbGVTZW9QYW5lbCIsICJzaG93IiwgInNldFNlb0ZlZWRiYWNrIiwgInRvbmUiLCAiaXNWaXNpYmxlIiwgInNlb0RhdGEiLCAidXBkYXRlZFBhZ2UiLCAidG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCIsICJzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlEYXRhIiwgInRvZ2dsZVBhZ2VQcm9wc1BhbmVsIiwgInNldFBhZ2VQcm9wc0ZlZWRiYWNrIiwgIm5ld05hbWUiLCAibmV3VGl0bGUiLCAibmV3U2x1ZyIsICJuZXdEZXNjcmlwdGlvbiIsICJoYW5kbGVCbG9ja0RyYWdTdGFydCIsICJkcmFnU291cmNlSWQiLCAiZHJhZ1NvdXJjZVBhcmVudElkIiwgImNsZWFyRHJhZ0luZGljYXRvcnMiLCAiaGFuZGxlQmxvY2tEcmFnRW5kIiwgImhhbmRsZUJsb2NrRHJhZ092ZXIiLCAicmVjdCIsICJtaWRZIiwgImlzQWJvdmUiLCAiaGFuZGxlQmxvY2tEcmFnTGVhdmUiLCAicmVsYXRlZFRhcmdldCIsICJoYW5kbGVCbG9ja0Ryb3AiLCAic291cmNlIiwgInNvdXJjZVBhcmVudCIsICJkcm9wUG9zaXRpb24iLCAidGFyZ2V0Um9vdEluZGV4IiwgImFjdGl2ZVBhZ2UiLCAiY29sbGVjdGlvbkxpc3QiLCAiY29udGVudFZpZXdzIiwgImNvbnRlbnRTZWN0aW9uQnV0dG9ucyIsICJjb250ZW50U2VjdGlvblRyaWdnZXJzIiwgImhlYWRlclN0YXR1c0luZGljYXRvciIsICJmb290ZXJTdGF0dXNJbmRpY2F0b3IiLCAiY29sbGVjdGlvbkNvdW50RWwiLCAiaXRlbVBhbmVsIiwgIml0ZW1QYW5lbENsb3NlQnV0dG9ucyIsICJjb2xsZWN0aW9uRW1wdHlTdGF0ZSIsICJjb2xsZWN0aW9uSXRlbXNFbXB0eSIsICJpdGVtVGFibGVXcmFwcGVyIiwgIml0ZW1UYWJsZUJvZHkiLCAiY29sbGVjdGlvblRpdGxlIiwgImNvbGxlY3Rpb25EZXNjcmlwdGlvbiIsICJpdGVtQWRkQnV0dG9uIiwgIml0ZW1EZXRhaWxFbXB0eSIsICJpdGVtRm9ybSIsICJpdGVtRm9ybUZpZWxkcyIsICJpdGVtU3RhdHVzQmFkZ2UiLCAiaXRlbURlbGV0ZUJ1dHRvbiIsICJpdGVtRGVsZXRlTW9kYWwiLCAiaXRlbURlbGV0ZUNhbmNlbCIsICJpdGVtRGVsZXRlQ29uZmlybSIsICJpdGVtRm9ybUNhbmNlbCIsICJpdGVtRm9ybVNhdmUiLCAic3RhdHVzQmFkZ2VCYXNlQ2xhc3MiLCAic2V0SXRlbVBhbmVsSGlkZGVuU3RhdGUiLCAic3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCIsICJoaWRlSXRlbUZvcm0iLCAiaGVhZGVyRmllbGRzIiwgImhlYWRlck5hdk9yZGVyTGlzdCIsICJoZWFkZXJTYXZlQnRuIiwgImhlYWRlck5hdkl0ZW1UZW1wbGF0ZSIsICJoZWFkZXJQYWdlc0xpc3QiLCAic2l0ZVBhZ2VzIiwgInNlbGVjdGVkTmF2UGFnZXMiLCAiZm9vdGVyRmllbGRzIiwgImZvb3RlckNvbHVtbnNMaXN0IiwgImZvb3RlckNvbHVtbkFkZEJ0biIsICJmb290ZXJTYXZlQnRuIiwgImZvb3RlckNvbHVtblRlbXBsYXRlIiwgImZvb3RlckxpbmtUZW1wbGF0ZSIsICJhY3RpdmVDb250ZW50U2VjdGlvbiIsICJoZWFkZXJEYXRhIiwgImZvb3RlckRhdGEiLCAic2FmZVNpdGVTbHVnRm9yTGF5b3V0IiwgImxheW91dEFwaUJhc2UiLCAic2hvd0NvbnRlbnRWaWV3IiwgInZpZXdOYW1lIiwgImxvYWRTaXRlUGFnZXNGb3JIZWFkZXIiLCAicmVuZGVyUGFnZUNoZWNrYm94ZXMiLCAibm9ybWFsaXplTmF2UGFnZVVybCIsICJyYXciLCAibG93ZXIiLCAid2l0aG91dFNsYXNoZXMiLCAiY2xlYW5lZEludGVybmFsIiwgImNsZWFuZWQiLCAibm9ybWFsaXplT3B0aW9uYWxOYXZVcmwiLCAiZGVmYXVsdFZhbHVlIiwgInBhZ2VTbHVnIiwgInBhZ2VEaXNwbGF5TmFtZSIsICJwYWdlVXJsIiwgImlzU2VsZWN0ZWQiLCAibmF2IiwgImNoZWNrYm94IiwgImV4aXN0aW5nSW5kZXgiLCAicmVuZGVySGVhZGVyTmF2T3JkZXIiLCAiZW1wdHkiLCAicm93IiwgInVybCIsICJjb250cm9scyIsICJ1cCIsICJuZXh0IiwgInRtcCIsICJkb3duIiwgInJlbW92ZSIsICJjb2xsZWN0SGVhZGVyRGF0YSIsICJfbCIsICJwb3B1bGF0ZUhlYWRlckZvcm0iLCAiYWRkRm9vdGVyTGluayIsICJjb250YWluZXIiLCAiY2xvbmUiLCAibGFiZWxJbnB1dCIsICJ1cmxJbnB1dCIsICJyZW1vdmVCdG4iLCAiYWRkRm9vdGVyQ29sdW1uIiwgImxpbmtzIiwgImNvbHVtbiIsICJ0aXRsZUlucHV0IiwgImxpbmtzQ29udGFpbmVyIiwgImFkZExpbmtCdG4iLCAiY29sbGVjdEZvb3RlckRhdGEiLCAiX20iLCAiX24iLCAiX28iLCAiX3AiLCAiX3EiLCAiX3IiLCAiX3MiLCAiX3QiLCAiY29sdW1ucyIsICJjb2wiLCAibGlua0VsIiwgInBvcHVsYXRlRm9vdGVyRm9ybSIsICJ2IiwgInNhZmVTaXRlU2x1Z1ZhbHVlIiwgImNvbGxlY3Rpb25zIiwgImNvbGxlY3Rpb25JdGVtcyIsICJhY3RpdmVDb2xsZWN0aW9uSWQiLCAiYWN0aXZlSXRlbUlkIiwgImlzQ3JlYXRpbmdJdGVtIiwgIml0ZW1TbHVnTWFudWFsbHlFZGl0ZWQiLCAicGVuZGluZ0RlbGV0ZUl0ZW1JZCIsICJub3JtYWxpemVJdGVtU2x1Z0lucHV0IiwgImNsZWFuZWRTZWdtZW50cyIsICJzZWdtZW50IiwgImZvcm1hdEl0ZW1EYXRlIiwgImRhdGUiLCAidXBkYXRlQ29sbGVjdGlvbkhlYWRlciIsICJ1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSIsICJzaG93SXRlbUZvcm0iLCAic3luY0FkZEJ1dHRvblN0YXRlIiwgInN5bmNJdGVtU3RhdHVzQmFkZ2UiLCAiY29sb3JDbGFzcyIsICJyZW5kZXJDb2xsZWN0aW9uTGlzdCIsICJzZXRBY3RpdmVDb2xsZWN0aW9uIiwgInJlbmRlckl0ZW1UYWJsZSIsICJzdGF0dXNDbGFzc2VzIiwgImhhbmRsZVNlbGVjdCIsICJzZWxlY3RJdGVtIiwgIml0ZW1JZCIsICJwb3B1bGF0ZUl0ZW1Gb3JtIiwgInByZXBhcmVOZXdJdGVtRm9ybSIsICJjb2xsZWN0SXRlbUZvcm1WYWx1ZXMiLCAic2x1Z0lucHV0IiwgInN1bW1hcnkiLCAiaW1hZ2UiLCAiY3RhVGV4dCIsICJjdGFVcmwiLCAiY3RhIiwgInNldEZvcm1TYXZpbmdTdGF0ZSIsICJpc1NhdmluZyIsICJmZXRjaENvbGxlY3Rpb25JdGVtcyIsICJjcmVhdGVDb2xsZWN0aW9uSXRlbSIsICJ1cGRhdGVDb2xsZWN0aW9uSXRlbSIsICJkZWxldGVDb2xsZWN0aW9uSXRlbSIsICJsb2FkQ29sbGVjdGlvbnMiLCAiZGVmYXVsdElkIiwgInNhdmVkSXRlbSIsICJjbG9zZURlbGV0ZU1vZGFsIiwgIm9wZW5EZWxldGVNb2RhbCIsICJmb3JtIiwgInByb3RvY29sU2VsZWN0IiwgImhvc3RJbnB1dCIsICJwb3J0SW5wdXQiLCAidXNlcklucHV0IiwgInBhc3N3b3JkSW5wdXQiLCAic2hvd1Bhc3N3b3JkVG9nZ2xlIiwgInJlbW90ZVBhdGhJbnB1dCIsICJmZWVkYmFjayIsICJzYXZlQnV0dG9uIiwgInRlc3RCdXR0b24iLCAiZGVwbG95QnV0dG9uIiwgImhpc3RvcnlMaXN0IiwgImxvZ0JveCIsICJkZXBsb3lBcGlCYXNlIiwgImRlcGxveVJ1bkFwaSIsICJkZXBsb3lMb2dBcGkiLCAiaGFzUGFzc3dvcmQiLCAiYnVzeUFjdGlvbiIsICJzYW5pdGl6ZVJlbW90ZVBhdGgiLCAic2V0RmVlZGJhY2siLCAiYmFzZUNsYXNzIiwgInRvbmVDbGFzcyIsICJpY29uIiwgInNldEJ1c3kiLCAiYWN0aW9uIiwgImRpc2FibGUiLCAic3Bpbm5lciIsICJwb3B1bGF0ZUZvcm0iLCAicmVuZGVySGlzdG9yeSIsICJlbnRyaWVzIiwgImxpIiwgImR1cmF0aW9uIiwgInJlbmRlckxvZ3MiLCAiZmV0Y2hIaXN0b3J5IiwgImZldGNoQ29uZmlnIiwgImJ1aWxkUGF5bG9hZCIsICJwd2QiLCAiZXJyb3JQYXlsb2FkIiwgImRvd25sb2FkQnV0dG9uIiwgImRvd25sb2FkRmVlZGJhY2siLCAiZG93bmxvYWRBcGkiLCAic2V0RG93bmxvYWRGZWVkYmFjayIsICJvcmlnaW5hbENvbnRlbnQiLCAiZXJyb3JEYXRhIiwgImJsb2IiLCAiYSIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVscyIsICJzaXRlRmVlZGJhY2siLCAidGhlbWVGb3JtIiwgInN3aXRjaFRhYiIsICJzdWJtaXQiLCAiZm9ybURhdGEiLCAiY3VycmVudFBhc3N3b3JkIiwgIm5ld1Bhc3N3b3JkIiwgImNvbmZpcm1QYXNzd29yZCIsICJuYW1lSW5wdXQiLCAibGFuZ1NlbGVjdCIsICJ0YWdsaW5lSW5wdXQiLCAic2V0U2l0ZUZlZWRiYWNrIiwgInNpdGVDb25maWdBcGkiLCAibG9hZFNpdGVDb25maWciLCAidGhlbWVBcGkiLCAiY29sb3JTZWxlY3RzIiwgImhlYWRpbmdTZWxlY3QiLCAiYm9keVNlbGVjdCIsICJyYWRpdXNTbWFsbCIsICJyYWRpdXNNZWRpdW0iLCAicmFkaXVzTGFyZ2UiLCAicHJldmlldyIsICJ0aGVtZUZlZWRiYWNrIiwgImFwcGx5QnV0dG9uIiwgInRhaWx3aW5kQmFzZU1hcCIsICJ0YWlsd2luZFRva2VuVG9IZXgiLCAidG9rZW4iLCAiaCIsICJzIiwgInNoYWRlTnVtIiwgImZhY3RvciIsICJ0b1JnYiIsICJtaXgiLCAidGFpbHdpbmRIdWVzIiwgInRhaWx3aW5kU2hhZGVzIiwgInRhaWx3aW5kVG9rZW5zIiwgIm5ldXRyYWxUb2tlbnMiLCAiY29sb3JPcHRpb25EZWZpbml0aW9ucyIsICJlbW9qaSIsICJub3JtYWxpemVTZWxlY3RDb2xvciIsICJmaWxsQ29sb3JPcHRpb25zIiwgInNlbGVjdGVkQ29sb3JzIiwgInNlbCIsICJub3JtYWxpemVkVmFsdWUiLCAic2V0VGhlbWVGZWVkYmFjayIsICJzeW5jUHJldmlldyIsICJ0b2tlblRvSGV4IiwgInN0eWxlVGhlbWVDb2xvckNoaXAiLCAidXBkYXRlVGhlbWVDb2xvclByZXZpZXciLCAiaW5pdENvbG9yUHJldmlld3MiLCAibG9hZFRoZW1lIiwgInRoZW1lQ29sb3JzIiwgInNlb0NvbmZpZ0Zvcm0iLCAiaW5kZXhBbGxDaGVja2JveCIsICJzZW9Db25maWdGZWVkYmFjayIsICJsb2FkU2VvQ29uZmlnIiwgImluZGV4QWxsIiwgImN1cnJlbnRSZXMiLCAiY3VycmVudENvbmZpZyIsICJhbmFseXRpY3NGb3JtIiwgImhlYWRUZXh0YXJlYSIsICJib2R5VGV4dGFyZWEiLCAiYW5hbHl0aWNzRmVlZGJhY2siLCAiYW5hbHl0aWNzU2F2ZUJ1dHRvbiIsICJzZXRBbmFseXRpY3NGZWVkYmFjayIsICJsb2FkQW5hbHl0aWNzQ29uZmlnIiwgImFjY2Vzc2liaWxpdHlGb3JtIiwgImFuaW1hdGlvbnNUb2dnbGUiLCAiY29udHJhc3RUb2dnbGUiLCAiYWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uIiwgInNldEFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyIsICJhaUNvbmZpZ0Zvcm0iLCAiYXBpS2V5SW5wdXQiLCAibW9kZWxTZWxlY3QiLCAicHJvamVjdFByb21wdFRleHRhcmVhIiwgImVuYWJsZWRDaGVja2JveCIsICJhaUZlZWRiYWNrIiwgImFpU2F2ZUJ1dHRvbiIsICJhaUNvbmZpZ0FwaSIsICJzZXRBSUZlZWRiYWNrIiwgImxvYWRBSUNvbmZpZyIsICJhcGlLZXlWYWx1ZSIsICJncmlkIiwgImVtcHR5U3RhdGUiLCAiY291bnRCYWRnZSIsICJmaWx0ZXJUeXBlIiwgImRldGFpbEVtcHR5IiwgImRldGFpbFBhbmVsIiwgImRldGFpbFByZXZpZXciLCAiZGV0YWlsTmFtZSIsICJkZXRhaWxUeXBlIiwgImRldGFpbFNpemUiLCAiZGV0YWlsUGF0aCIsICJkZXRhaWxVc2VkIiwgImRldGFpbEFsdElucHV0IiwgImRldGFpbFNhdmVCdXR0b24iLCAiZGV0YWlsRGVsZXRlQnV0dG9uIiwgImRlbGV0ZU1vZGFsIiwgImRlbGV0ZUNhbmNlbEJ1dHRvbiIsICJkZWxldGVDb25maXJtQnV0dG9uIiwgInVwbG9hZE9wZW5CdXR0b24iLCAiZmlsZUlucHV0IiwgInVwbG9hZFN0YXR1cyIsICJtZWRpYUFwaUJhc2UiLCAibWVkaWFJdGVtcyIsICJmaWx0ZXJlZEl0ZW1zIiwgImFjdGl2ZU1lZGlhSWQiLCAiaGlnaGxpZ2h0TWVkaWFJZCIsICJwZW5kaW5nVXBsb2FkRmlsZSIsICJ1cGxvYWRJblByb2dyZXNzIiwgImRldGFpbERpcnR5IiwgInVwbG9hZE1vZGUiLCAidXBsb2FkUHJldmlld1VybCIsICJkZXJpdmVHcm91cFR5cGUiLCAiZmlsZW5hbWUiLCAiaXNJbWFnZVR5cGUiLCAiZm9ybWF0VHlwZUxhYmVsIiwgImV4dCIsICJmb3JtYXRGaWxlU2l6ZSIsICJzaXplIiwgInJlc2V0RGV0YWlsUGFuZWwiLCAiY2xlYXJVcGxvYWRTdGF0ZSIsICJ1cGRhdGVEZXRhaWxBY3Rpb25zIiwgInVwZGF0ZUNvdW50QmFkZ2UiLCAicmVuZGVyR3JpZCIsICJzZWxlY3RNZWRpYSIsICJyZW5kZXJVc2VkSW4iLCAic2F2aW5nIiwgIm1lZGlhSWQiLCAic2hvd1VwbG9hZFByZXZpZXciLCAiYXBwbHlGaWx0ZXJzIiwgInR5cGVGaWx0ZXIiLCAibG9hZE1lZGlhIiwgImhhbmRsZUZpbGVTZWxlY3Rpb24iLCAicmVhZEZpbGVBc0Jhc2U2NCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFkZXIiLCAiYmFzZTY0IiwgInVwbG9hZFNlbGVjdGVkTWVkaWEiLCAiZGVsZXRlQWN0aXZlTWVkaWEiLCAiZGlzYWJsZUJ1dHRvbnMiLCAiZW5hYmxlQnV0dG9ucyIsICJ1cGRhdGVkIiwgImFpQ2hhdFRvZ2dsZSIsICJhaUNoYXRQYW5lbCIsICJhaUNoYXRPdmVybGF5IiwgImFpQ2hhdENsb3NlIiwgImFpQ2hhdENsZWFyIiwgImFpQ2hhdEZvcm0iLCAiYWlDaGF0SW5wdXQiLCAiYWlDaGF0TWVzc2FnZXMiLCAiYWlDaGF0U3RhdHVzIiwgImFpQ2hhdE5vQXBpIiwgImFpUXVpY2tCdXR0b25zIiwgImFpQ2hhdE9wZW4iLCAiYWlJc0xvYWRpbmciLCAiYWlDb25maWdDaGVja2VkIiwgImFpSGFzQXBpS2V5IiwgIm9wZW5BSUNoYXQiLCAiY2hlY2tBSUNvbmZpZyIsICJjbG9zZUFJQ2hhdCIsICJzaXRlU2x1ZyIsICJsb2FkQUlDaGF0SGlzdG9yeSIsICJ3ZWxjb21lTXNnIiwgIm1zZyIsICJhcHBlbmRBSU1lc3NhZ2UiLCAicm9sZSIsICJtc2dEaXYiLCAiZXNjYXBlSHRtbCIsICJmb3JtYXR0ZWRDb250ZW50IiwgImZvcm1hdEFJUmVzcG9uc2UiLCAic2hvd0FJTG9hZGluZyIsICJsb2FkaW5nRGl2IiwgImhpZGVBSUxvYWRpbmciLCAiZm9ybWF0dGVkIiwgImxhbmciLCAiY29kZSIsICJkaXYiLCAic2VuZEFJTWVzc2FnZSIsICJhcHBlbmRFZGl0UHJvcG9zYWwiLCAiYXBwZW5kVGhlbWVQcm9wb3NhbCIsICJwcm9wb3NhbCIsICJwcm9wb3NhbERpdiIsICJjaGFuZ2VzSHRtbCIsICJoYW5kbGVBcHBseUVkaXQiLCAiaGFuZGxlUmVqZWN0RWRpdCIsICJjb2xvcnNIdG1sIiwgImNvbG9ycyIsICJnZXRUYWlsd2luZENvbG9yQ3NzIiwgInR5cG9IdG1sIiwgInR5cG8iLCAiaGFuZGxlQXBwbHlUaGVtZSIsICJjb2xvck5hbWUiLCAicHJvcG9zYWxJZCIsICJwcm9wb3NhbENhcmQiLCAiY2xlYXJBSUhpc3RvcnkiLCAicXVpY2tQcm9tcHRzIiwgInByb21wdCJdCn0K
