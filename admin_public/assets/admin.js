(()=>{document.addEventListener("DOMContentLoaded",()=>{var Co;console.log("[admin] Atelier charg\xE9");let Cr=document.querySelector("[data-logout]");Cr&&Cr.addEventListener("click",async()=>{Cr.disabled=!0;try{await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(r){console.error("[admin] Impossible de se d\xE9connecter",r)}finally{window.location.href="/admin/index.html"}});let Cs=document.querySelector("[data-admin-sidebar]"),vt=document.querySelector("[data-admin-sidebar-overlay]"),lo=document.querySelectorAll("[data-admin-sidebar-toggle]"),Xo=document.querySelectorAll("[data-admin-sidebar-close]"),Er=document.body,Zs=!1,Ks=()=>{if(!Cs)return;if(window.matchMedia("(min-width: 1024px)").matches){Cs.classList.remove("hidden"),vt==null||vt.classList.add("hidden"),Er.classList.remove("overflow-hidden");return}Zs?(Cs.classList.remove("hidden"),vt==null||vt.classList.remove("hidden"),Er.classList.add("overflow-hidden")):(Cs.classList.add("hidden"),vt==null||vt.classList.add("hidden"),Er.classList.remove("overflow-hidden"))},en=()=>{Zs=!0,Ks()},qr=()=>{Zs=!1,Ks()};Cs&&lo.length>0&&(lo.forEach(r=>{r.addEventListener("click",en)}),Xo.forEach(r=>{r.addEventListener("click",qr)}),vt==null||vt.addEventListener("click",qr),window.addEventListener("resize",Ks),window.addEventListener("keydown",r=>{r.key==="Escape"&&Zs&&qr()}),Ks());let co="clower:currentSite",uo="clower:currentSiteName",oe={slug:null,name:""};(()=>{try{let r=window.localStorage.getItem(co);oe.slug=r?$t(Pe(r)):null,oe.name=window.localStorage.getItem(uo)||""}catch{oe.slug=null,oe.name=""}})();let Ar=document.querySelectorAll("[data-site-card]"),tn=document.querySelectorAll("[data-site-select]"),Es=document.querySelector("[data-current-site-name]"),mo=document.querySelector("[data-workspace-site-name]"),fo=document.querySelector("[data-workspace-back-name]"),It=document.querySelector("[data-workspace-back-modal]"),sn=document.querySelectorAll("[data-workspace-back]"),rn=document.querySelectorAll("[data-workspace-back-cancel]"),Tr=document.querySelector("[data-workspace-back-confirm]"),on=document.querySelectorAll("[data-workspace-tab]"),Ir=document.querySelector("[data-site-toast]"),po=document.querySelector("[data-site-toast-message]"),nn=document.querySelectorAll("[data-site-create]"),dt=document.querySelector("[data-site-modal]"),at=document.querySelector("[data-site-form]"),Xe=at==null?void 0:at.querySelector('input[name="siteName"]'),Fe=at==null?void 0:at.querySelector('input[name="siteSlug"]'),et=document.querySelector("[data-site-slug-error]"),tt=document.querySelector("[data-site-modal-error]"),an=document.querySelectorAll("[data-site-modal-cancel]"),ms=document.querySelector("[data-site-modal-submit]"),Z=vn(),_s=!1,$r=null,go='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',fs=[],ho=r=>Array.from(r.querySelectorAll(go)).filter(n=>!n.hasAttribute("disabled")&&!n.getAttribute("aria-hidden")),ln=r=>{if(!fs.length)return;let n=fs[fs.length-1],{modal:c,onClose:f}=n;if(r.key==="Escape"){r.preventDefault(),f==null||f();return}if(r.key!=="Tab")return;let p=ho(c);if(!p.length)return;let v=p[0],V=p[p.length-1];r.shiftKey?document.activeElement===v&&(r.preventDefault(),V.focus()):document.activeElement===V&&(r.preventDefault(),v.focus())};document.addEventListener("keydown",ln);let qs=(r,n)=>{if(!r)return;fs.push({modal:r,onClose:n,trigger:document.activeElement instanceof HTMLElement?document.activeElement:null});let c=ho(r);window.setTimeout(()=>{var f,p;(p=(f=c[0]||r).focus)==null||p.call(f)},0)},As=r=>{var f,p;let n=fs.findIndex(v=>v.modal===r);if(n===-1)return;let[c]=fs.splice(n,1);(p=(f=c.trigger)==null?void 0:f.focus)==null||p.call(f)},le=document.querySelector("[data-mobile-panels-overlay]"),he=document.querySelector("[data-mobile-panels-layer]"),xt={left:document.querySelector('[data-mobile-panel="left"]'),right:document.querySelector('[data-mobile-panel="right"]')},_t=null;he!=null&&he.parentElement&&(_t=document.createComment("mobile-panels-layer-placeholder"),he.parentElement.insertBefore(_t,he));let Yt=null;(Co=xt.right)!=null&&Co.parentElement&&(Yt=document.createComment("mobile-panel-right-placeholder"),xt.right.parentElement.insertBefore(Yt,xt.right));let bo=document.querySelectorAll("[data-mobile-panel-toggle]"),cn=document.querySelectorAll("[data-mobile-panel-close]"),Ts={left:null,right:null},Et=null,Qt=()=>window.matchMedia("(min-width: 1024px)").matches,dn=()=>{if(!(!he||!_t)){if(Qt()){let r=_t.parentElement;if(!r)return;(he.parentElement!==r||_t.nextSibling!==he)&&r.insertBefore(he,_t.nextSibling),he.dataset.mobilePanelPlacement="sidebar";return}he.parentElement!==document.body&&(document.body.appendChild(he),he.dataset.mobilePanelPlacement="overlay")}},un=()=>{let r=xt.right;if(!(!r||!Yt)){if(Qt()){let n=Yt.parentElement;if(!n)return;(r.parentElement!==n||Yt.nextSibling!==r)&&n.insertBefore(r,Yt.nextSibling),r.dataset.mobilePanelPlacement="sidebar";return}if(he){let n=xt.left;n&&n.parentElement===he?(r.parentElement!==he||r.previousSibling!==n)&&he.insertBefore(r,n.nextSibling):r.parentElement!==he&&he.appendChild(r),r.dataset.mobilePanelPlacement="overlay"}else r.parentElement!==document.body&&(document.body.appendChild(r),r.dataset.mobilePanelPlacement="overlay")}},yo=()=>{dn(),un()};yo();let Ys={};Object.entries(xt).forEach(([r,n])=>{if(!n)return;let c=Number(window.getComputedStyle(n).zIndex)||0;Ys[r]=c});let mn=(Object.values(Ys).reduce((r,n)=>Math.max(r,n||0),0)||150)+5,Qs=(r,n)=>{let c=xt[r];if(c){if(Qt()){c.style.removeProperty("z-index");return}n?c.style.zIndex=String(mn):Ys[r]?c.style.zIndex=String(Ys[r]):c.style.removeProperty("z-index")}},Ht=(r,n,c)=>{!r||!n||n.split(" ").map(f=>f.trim()).filter(Boolean).forEach(f=>r.classList[c](f))},Br=(r,n)=>{if(!r)return;let c=r.dataset.mobilePanelHidden||"",f=r.dataset.mobilePanelVisible||"translate-x-0";n?(Ht(r,f,"remove"),Ht(r,c,"add"),r.classList.add("pointer-events-none"),r.classList.remove("pointer-events-auto"),r.setAttribute("aria-hidden","true"),r.dataset.mobilePanelOpen="false"):(Ht(r,c,"remove"),Ht(r,f,"add"),r.classList.remove("pointer-events-none"),r.classList.add("pointer-events-auto"),r.setAttribute("aria-hidden","false"),r.dataset.mobilePanelOpen="true")},Is=(r=Et)=>{var f;if(!r||Qt())return;let n=xt[r];if(!n)return;Qs(r,!1),Br(n,!0);let c=Ts[r];c&&c.setAttribute("aria-expanded","false"),Ts[r]=null,Et===r&&(le==null||le.classList.add("hidden"),le==null||le.classList.remove("pointer-events-auto"),le==null||le.classList.add("pointer-events-none"),le==null||le.setAttribute("aria-hidden","true"),he==null||he.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),(f=c==null?void 0:c.focus)==null||f.call(c),Et=null)},fn=(r,n)=>{if(!r||Qt())return;let c=xt[r];if(!c)return;Et&&Et!==r&&Is(Et),Br(c,!1),Qs(r,!0),Et=r,Ts[r]=n||null,n&&n.setAttribute("aria-expanded","true"),le==null||le.classList.remove("hidden","pointer-events-none"),le==null||le.classList.add("pointer-events-auto"),le==null||le.setAttribute("aria-hidden","false"),he==null||he.classList.remove("pointer-events-none"),document.body.classList.add("overflow-hidden");let f=c.querySelector(go);window.setTimeout(()=>{var p;(p=f==null?void 0:f.focus)==null||p.call(f)},0)},vo=()=>{yo(),Qt()?(le==null||le.classList.add("hidden"),he==null||he.classList.add("pointer-events-none"),document.body.classList.remove("overflow-hidden"),Et=null,Object.keys(xt).forEach(r=>{let n=xt[r];if(!n)return;Qs(r,!1),n.classList.remove("pointer-events-none"),n.classList.add("pointer-events-auto"),n.setAttribute("aria-hidden","false"),n.dataset.mobilePanelOpen="false";let c=Ts[r];c==null||c.setAttribute("aria-expanded","false"),Ts[r]=null})):(Object.entries(xt).forEach(([r,n])=>{n&&n.dataset.mobilePanelOpen!=="true"&&(Br(n,!0),Qs(r,!1))}),Et||(le==null||le.classList.add("hidden","pointer-events-none"),le==null||le.classList.remove("pointer-events-auto"),le==null||le.setAttribute("aria-hidden","true"),he==null||he.classList.add("pointer-events-none")))};bo.length>0&&(bo.forEach(r=>{let n=r.dataset.mobilePanelToggle;r.addEventListener("click",()=>{Et===n?Is(n):fn(n,r)})}),cn.forEach(r=>{let n=r.dataset.mobilePanelClose;r.addEventListener("click",()=>Is(n))}),le==null||le.addEventListener("click",()=>Is()),window.addEventListener("keydown",r=>{r.key==="Escape"&&Et&&!Qt()&&Is()}),window.addEventListener("resize",vo),vo());let M=r=>{!Ir||!po||(po.textContent=r,Ir.classList.remove("hidden"),$r&&clearTimeout($r),$r=setTimeout(()=>{Ir.classList.add("hidden")},2500))};function $t(r){if(!r)return"";let n=`${r}`.trim();if(!n)return"";let c=n.replace(/^\/+/,"");return c?`/${c}`:"/"}function Pe(r){return r?`${r}`.replace(/^\/+/,""):""}let Xs=(r,n)=>{let c=r?$t(r):null;try{c&&(window.localStorage.setItem(co,c),oe.slug=c),typeof n=="string"&&n.length>0&&(window.localStorage.setItem(uo,n),oe.name=n)}catch{oe.slug=c||oe.slug,oe.name=n||oe.name}},xo=r=>{Es&&r&&(Es.textContent=r),mo&&r&&(mo.textContent=r),fo&&r&&(fo.textContent=r)},Pr=r=>{on.forEach(n=>{let c=n.dataset.workspaceTab;if(!c)return;if(!r){n.href="#",n.classList.add("pointer-events-none","opacity-50","text-slate-400"),n.setAttribute("aria-disabled","true");return}let f=encodeURIComponent(Pe(r));n.href=`/admin/site/${f}/${c}`,n.classList.remove("pointer-events-none","opacity-50","text-slate-400"),n.removeAttribute("aria-disabled")})},er=(r,n={})=>{if(!r)return;let c=$t(r),f=n.siteName||oe.name||(Es==null?void 0:Es.dataset.defaultSiteName)||"";Ar.forEach(v=>{let U=$t(v.dataset.siteCard||"")===c,W=v.querySelector("[data-site-active-badge]");U?(v.classList.add("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),v.classList.remove("border-slate-200"),W==null||W.classList.remove("hidden"),f=v.dataset.siteName||f):(v.classList.remove("border-[#9C6BFF]","ring-2","ring-[#9C6BFF]","shadow-md"),v.classList.add("border-slate-200"),W==null||W.classList.add("hidden"))}),n.persist!==!1&&Xs(c,n.siteName||f);let p=n.siteName||f;xo(p),Pr(c)},pn=async(r,n)=>{let c=$t(r);try{let f=await fetch("/api/sites/select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:c})});if(!f.ok){let W=await f.json().catch(()=>({}));M(W.message||"Impossible de s\xE9lectionner ce site.");return}let p=await f.json().catch(()=>({})),v=$t(p.slug||c),V=p.name||n;Xs(v,V),er(v,{siteName:V,persist:!1});let U=encodeURIComponent(Pe(v));window.location.href=`/admin/site/${U}/design`}catch(f){console.error("[admin] Impossible de s\xE9lectionner le site",f),M("Erreur inattendue lors de la s\xE9lection.")}},gn=async()=>{try{let r=await fetch("/api/sites/current",{credentials:"same-origin"});if(!r.ok){r.status===404&&Z&&(window.location.href="/admin/sites");return}let n=await r.json(),c=$t(n.slug);Xs(c,n.name),er(c,{siteName:n.name,persist:!1})}catch(r){console.warn("[admin] Impossible de r\xE9cup\xE9rer le site actif",r)}};(()=>{if(oe.slug){er(oe.slug,{siteName:oe.name,persist:!1});return}let r=document.querySelector('[data-site-card][data-site-default="true"]')||Ar[0];r&&er(r.dataset.siteCard,{siteName:r.dataset.siteName||"",persist:!1})})(),gn(),Z?Pr(Z.slugValue):oe.slug&&Pr(oe.slug),tn.forEach(r=>{r.addEventListener("click",()=>{if(r.disabled)return;let n=r.dataset.siteSelect,c=r.dataset.siteSelectName||"Ce site";n&&(r.disabled=!0,pn(n,c).finally(()=>{r.disabled=!1}))})});let Xt=r=>(r||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),hn=r=>{let n=Xt(r||"");return n?`/${n}`:""},bn=()=>{dt&&(dt.classList.remove("hidden"),dt.classList.add("flex"),_s=!1,at==null||at.reset(),et&&(et.textContent=""),tt&&(tt.textContent=""),Fe&&Xe&&(Fe.value=Xt(Xe.value)),qs(dt,$s),window.setTimeout(()=>{Xe==null||Xe.focus()},0))},$s=()=>{dt&&(dt.classList.add("hidden"),dt.classList.remove("flex"),_s=!1,at==null||at.reset(),et&&(et.textContent=""),tt&&(tt.textContent=""),As(dt))};nn.forEach(r=>{r.addEventListener("click",bn)}),an.forEach(r=>{r.addEventListener("click",$s)}),dt==null||dt.addEventListener("click",r=>{r.target===dt&&$s()}),Xe==null||Xe.addEventListener("input",()=>{Fe&&((!_s||Fe.value.trim().length===0)&&(Fe.value=Xt(Xe.value)),et&&(et.textContent=""),tt&&(tt.textContent=""))}),Fe==null||Fe.addEventListener("focus",()=>{let r=(Fe==null?void 0:Fe.value)||"",n=(Xe==null?void 0:Xe.value)||"";!r.trim()&&n.trim()&&(Fe.value=Xt(n))}),Fe==null||Fe.addEventListener("input",()=>{_s=!0,et&&(et.textContent=""),tt&&(tt.textContent="")});let yn=()=>new Set(Array.from(Ar).map(r=>$t(r.dataset.siteCard||"")));at==null||at.addEventListener("submit",async r=>{if(r.preventDefault(),console.log("[admin] Form submit - siteNameInput:",Xe,"siteSlugInput:",Fe),!Xe||!Fe){console.log("[admin] Missing inputs, aborting");return}let n=(Xe.value||"").trim(),c=(Fe.value||"").trim();console.log("[admin] nameValue:",n,"slugValue:",c),!c&&n&&(c=Xt(n),Fe.value=c,console.log("[admin] Auto-generated slug:",c));let f=hn(c);if(console.log("[admin] normalizedSlug:",f),!n){console.log("[admin] Name validation failed"),tt&&(tt.textContent="Le nom du site est requis."),Xe.focus();return}if(!f){console.log("[admin] Slug validation failed"),et&&(et.textContent="Le slug ne peut pas \xEAtre vide ou contenir uniquement des caract\xE8res sp\xE9ciaux."),Fe.focus();return}if(yn().has(f)){et&&(et.textContent="Ce slug est d\xE9j\xE0 utilis\xE9.");return}et&&(et.textContent=""),tt&&(tt.textContent=""),ms&&(ms.disabled=!0,ms.textContent="Cr\xE9ation...");try{let v=await fetch("/api/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,slug:f})});if(!v.ok){let _=await v.json().catch(()=>({})),S=_.message||"Impossible de cr\xE9er ce site.";tt&&(tt.textContent=S),_.field==="slug"&&et&&(et.textContent=S);return}let V=await v.json(),U=$t((V==null?void 0:V.slug)||f),W=(V==null?void 0:V.name)||n;Xs(U,W),$s();let se=encodeURIComponent(Pe(U));window.location.href=`/admin/site/${se}/design`}catch(v){console.error("[admin] Impossible de cr\xE9er le site",v),tt&&(tt.textContent="Erreur inattendue. R\xE9essaie dans un instant.")}finally{ms&&(ms.disabled=!1,ms.textContent="Cr\xE9er")}}),window.addEventListener("keydown",r=>{r.key==="Escape"&&(dt&&!dt.classList.contains("hidden")&&$s(),It&&!It.classList.contains("hidden")&&tr(),blockDeleteModal&&!blockDeleteModal.classList.contains("hidden")&&closeBlockDeleteModal(),blockLibraryOpen&&closeBlockLibrary())});function vn(){let r=window.location.pathname.match(/^\/admin\/site\/([^/]+)(?:\/([^/]+))?/);return r?{slugPart:decodeURIComponent(r[1]),slugValue:$t(decodeURIComponent(r[1])),section:r[2]||"design"}:null}function xn(){return document.querySelector("[data-page-list]")?"design":document.querySelector("[data-collection-list]")?"content":document.querySelector("[data-media-grid]")?"media":document.querySelector("[data-deploy-form]")?"deploy":null}function wn(){if(!It){window.location.href="/admin/sites";return}It.classList.remove("hidden"),It.classList.add("flex"),qs(It,tr)}function tr(){It&&(It.classList.add("hidden"),It.classList.remove("flex"),As(It))}sn.forEach(r=>{r.addEventListener("click",wn)}),rn.forEach(r=>{r.addEventListener("click",tr)}),Tr==null||Tr.addEventListener("click",()=>{tr(),window.location.href="/admin/sites"});let es="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",Sn=r=>{if(!r||typeof r!="string")return null;let n=r.trim().toLowerCase();if(n==="transparent")return null;let c=n.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/);if(c)return[Math.min(255,Math.max(0,Number(c[1]))),Math.min(255,Math.max(0,Number(c[2]))),Math.min(255,Math.max(0,Number(c[3])))];let f=n.match(/^#([a-f0-9]{3}|[a-f0-9]{6})$/);if(f){let p=f[1],v=p.length===3?p.split("").map(se=>`${se}${se}`).join(""):p,V=parseInt(v.slice(0,2),16),U=parseInt(v.slice(2,4),16),W=parseInt(v.slice(4,6),16);return[V,U,W]}return null},jr=r=>{let n=Sn(r);if(!n)return"#0f172a";let[c,f,p]=n;return(.2126*c+.7152*f+.0722*p)/255>.62?"#0f172a":"#ffffff"},sr=r=>{r&&Array.from(r.options).forEach(n=>{var f;let c=(f=n.dataset)==null?void 0:f.color;if(c){if(c==="transparent"){n.style.background=es,n.style.color="#475569";return}n.style.background=c,n.style.color=jr(c)}})},Bs=(Z==null?void 0:Z.section)||xn();Bs==="design"&&Ln(),Bs==="content"&&kn(),Bs==="media"&&qn(),Bs==="deploy"&&Cn(),Bs==="settings"&&En(),Z&&oe.name&&xo(oe.name);function Ln(){let r=document.querySelectorAll("[data-page-list]");if(r.length===0)return;let n=document.querySelector("[data-active-page-title]"),c=document.querySelector("[data-active-page-slug]"),f=document.querySelector("[data-page-preview-tags]"),p=document.querySelector("[data-page-preview-frame]"),v=document.querySelector("[data-page-preview-frame-wrapper]"),V=document.querySelector("[data-page-preview-shell]"),U=document.querySelectorAll("[data-preview-view-button]"),W=document.querySelector("[data-page-preview-current-view]"),se=document.querySelector("[data-preview-open]"),_=document.querySelector("[data-preview-status]"),S=document.querySelector("[data-preview-highlight]"),T=document.querySelector("[data-seo-toggle]"),$=document.querySelector("[data-seo-panel]"),F=document.querySelector("[data-seo-close]"),P=document.querySelector("[data-seo-form]"),R=document.querySelector("[data-seo-title]"),k=document.querySelector("[data-seo-description]"),L=document.querySelector("[data-seo-indexed]"),w=document.querySelector("[data-seo-feedback]"),q=document.querySelector("[data-seo-save]"),E=document.querySelector("[data-page-accessibility-toggle]"),H=document.querySelector("[data-page-accessibility-panel]"),K=document.querySelector("[data-page-accessibility-close]"),te=document.querySelector("[data-page-accessibility-form]"),Q=document.querySelector("[data-page-accessibility-nav]"),ke=document.querySelector("[data-page-accessibility-main]"),Te=document.querySelector("[data-page-accessibility-feedback]"),Ge=document.querySelector("[data-page-accessibility-save]"),Ee=document.querySelector("[data-page-props-toggle]"),G=document.querySelector("[data-page-props-panel]"),Ie=document.querySelector("[data-page-props-close]"),$e=document.querySelector("[data-page-props-form]"),N=document.querySelector("[data-page-name]"),x=document.querySelector("[data-page-title-input]"),X=document.querySelector("[data-page-slug-input]"),J=document.querySelector("[data-page-description]"),g=document.querySelector("[data-page-props-feedback]"),z=document.querySelector("[data-page-props-save]"),I=document.querySelector("[data-blocks-list]"),re=document.querySelector("[data-blocks-empty]"),ce=document.querySelector("[data-block-count]"),ye=document.querySelector("[data-block-library-toggle]"),pe=document.querySelector("[data-block-library]"),Ce=document.querySelectorAll("[data-block-add]"),ge=document.querySelector("[data-block-delete-modal]"),Ne=document.querySelector("[data-block-delete-confirm]"),Ue=document.querySelector("[data-block-delete-cancel]"),xe=document.querySelector("[data-block-detail-empty]"),Me=document.querySelector("[data-block-detail-status]"),Re=document.querySelector("[data-block-editor]"),St=document.querySelector("[data-block-editor-block-name]"),y=document.querySelector("[data-block-editor-block-type]"),B=document.querySelector("[data-block-editor-unsupported]"),h=document.querySelector("[data-block-form]"),de=(e,t)=>{if(e){if(t==="transparent"){e.style.background=es,e.style.borderColor="#cbd5f5",e.style.boxShadow="";return}e.style.background=t,e.style.borderColor=t,e.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},Pt=(e,t)=>{if(!e||!t||Array.from(e.options).some(o=>o.value===t))return;let s=document.createElement("option");s.value=t,s.textContent="Couleur personnalis\xE9e",s.dataset.color=t,t==="transparent"?(s.style.background=es,s.style.color="#475569"):(s.style.background=t,s.style.color=jr(t)),e.appendChild(s),sr(e)},ts=e=>{var l,u,C;if(!e)return;let t=e.options[e.selectedIndex],s=((l=t==null?void 0:t.dataset)==null?void 0:l.color)||"#ffffff",o=(u=e.closest(".relative"))==null?void 0:u.querySelector("[data-color-preview]");o&&(s==="transparent"?o.style.background=es:o.style.background=s);let i=(C=e.closest(".relative"))==null?void 0:C.querySelector("[data-theme-color-chip]");de(i,s)},ar=h?Array.from(h.querySelectorAll("[data-theme-color-select]")):[],Ur=e=>{var s;return(((s=e==null?void 0:e.getAttribute)==null?void 0:s.call(e,"name"))||"").endsWith("-bg")},Ps=[{label:"Couleur primaire",value:"theme-primary",cssVar:"--color-primary"},{label:"Couleur secondaire",value:"theme-secondary",cssVar:"--color-secondary"},{label:"Couleur accent",value:"theme-accent",cssVar:"--color-accent"},{label:"Fond",value:"theme-background",cssVar:"--color-background"},{label:"Texte",value:"theme-text",cssVar:"--color-text"}],Eo=(e,t="#ffffff")=>{if(!e)return t;let s=getComputedStyle(document.documentElement).getPropertyValue(e);return s?s.trim():t},ir=e=>{e&&(e.innerHTML="",Ps.forEach(({label:t,value:s,cssVar:o})=>{let i=document.createElement("option");i.value=s;let l=Eo(o);i.textContent=t,i.dataset.color=l,l==="transparent"?(i.style.background=es,i.style.color="#475569"):(i.style.background=l,i.style.color=jr(l)),e.appendChild(i)}),e.value=Ps[0].value,e.removeAttribute("disabled"),Ur(e)&&sr(e),ts(e))},ut=()=>ar.forEach(ir);ut(),document.addEventListener("ai-theme-updated",ut);let jt=h?Array.from(h.querySelectorAll("[data-editor-section]")):[],ze=e=>!h||!(e!=null&&e.section)?null:h.querySelector(`[data-editor-section="${e.section}"]`),Oe=document.querySelectorAll("[data-block-tab]"),Je="content",mt=document.querySelectorAll("[data-left-tab]"),Wt=document.querySelector('[data-left-panel="blocks"]'),Ut=document.querySelector('[data-left-panel="pages"]'),js="blocks",Rr=e=>{js=e,mt.forEach(t=>{let s=t.dataset.leftTab===e;t.setAttribute("aria-selected",s?"true":"false"),s?(t.classList.add("text-[#9C6BFF]"),t.classList.remove("text-slate-500","hover:text-slate-700"),t.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(t.classList.remove("text-[#9C6BFF]"),t.classList.add("text-slate-500","hover:text-slate-700"),t.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))}),Wt&&Wt.classList.toggle("hidden",e!=="blocks"),Ut&&Ut.classList.toggle("hidden",e!=="pages")};mt.forEach(e=>{e.addEventListener("click",()=>{Rr(e.dataset.leftTab)})});let Gt=document.querySelector("[data-block-form-actions]"),ss=document.querySelector("[data-block-form-autosave]"),Rt=e=>{Je=e,Oe.forEach(s=>{let o=s.dataset.blockTab===e;s.setAttribute("aria-selected",o?"true":"false"),o?(s.classList.add("text-[#9C6BFF]"),s.classList.remove("text-slate-500","hover:text-slate-700"),s.classList.add("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]")):(s.classList.remove("text-[#9C6BFF]"),s.classList.add("text-slate-500","hover:text-slate-700"),s.classList.remove("after:absolute","after:bottom-0","after:left-0","after:right-0","after:h-0.5","after:bg-[#9C6BFF]"))});let t=h==null?void 0:h.querySelector("[data-editor-section]:not(.hidden)");t&&t.querySelectorAll("[data-block-panel]").forEach(o=>{o.dataset.blockPanel===e?o.classList.remove("hidden"):o.classList.add("hidden")}),Gt&&ss&&(e==="content"?(Gt.classList.remove("hidden"),ss.classList.add("hidden")):(Gt.classList.add("hidden"),ss.classList.remove("hidden")))};Oe.forEach(e=>{e.addEventListener("click",()=>{Rt(e.dataset.blockTab)})});let We=h==null?void 0:h.querySelector('[name="collection-grid-collection"]'),zt=h==null?void 0:h.querySelector("[data-collection-selection-info]"),rs=document.querySelector("[data-block-form-cancel]"),Ms=h==null?void 0:h.querySelector("[data-group-preview-mobile]"),gt=h==null?void 0:h.querySelector("[data-group-preview-desktop]"),lr=h==null?void 0:h.querySelector("[data-collection-preview-mobile]"),gs=h==null?void 0:h.querySelector("[data-collection-preview-desktop]"),cr={hero:{section:"hero",labelField:"title",descriptionField:"subtitle",fields:{title:"hero-title",subtitle:"hero-subtitle",ctaLabel:"hero-cta-label",ctaUrl:"hero-cta-url",ctaTextColor:"hero-cta-text-color",image:"hero-image",layout:"hero-layout",imageWidth:"hero-image-width",imageHeight:"hero-image-height",imageObjectFit:"hero-image-object-fit",height:"hero-height",contentAlign:"hero-content-align",horizontalAlign:"hero-horizontal-align",textAlign:"hero-text-align",overlay:"hero-overlay",titleSize:"hero-title-size",bg:"hero-bg",borderRadius:"hero-border-radius",shadow:"hero-shadow",border:"hero-border"}},paragraphe:{section:"paragraph",labelField:"title",descriptionField:"content",fields:{title:"paragraph-title",content:"paragraph-content",align:"paragraph-align",titleSize:"paragraph-title-size",textSize:"paragraph-text-size",spacing:"paragraph-spacing",bg:"paragraph-bg",borderRadius:"paragraph-border-radius",shadow:"paragraph-shadow",border:"paragraph-border"}},image:{section:"image",labelField:"alt",fields:{src:"image-src",alt:"image-alt",showCaption:"image-caption-toggle",caption:"image-caption",rounded:"image-rounded",shadow:"image-shadow",maxWidth:"image-max-width",height:"image-height",objectFit:"image-object-fit",align:"image-align",bg:"image-bg",borderRadius:"image-border-radius",border:"image-border"}},groupe:{section:"group",fields:{columnsMobile:"group-columns-mobile",columnsDesktop:"group-columns-desktop",gap:"group-gap",itemsAlign:"group-items-align",mobileLayout:"group-mobile-layout",bg:"group-bg",borderRadius:"group-border-radius",shadow:"group-shadow",border:"group-border"}},collectiongrid:{section:"collection",fields:{collectionId:"collection-grid-collection",limit:"collection-grid-limit",columnsMobile:"collection-columns-mobile",columnsDesktop:"collection-columns-desktop",gap:"collection-gap",itemsAlign:"collection-items-align",cardRounded:"collection-card-rounded",mobileLayout:"collection-mobile-layout",bg:"collection-bg",borderRadius:"collection-border-radius",shadow:"collection-shadow",border:"collection-border"}},form:{section:"form",labelField:"formTitle",fields:{formTitle:"form-title",actionUrl:"form-action-url",method:"form-method",serviceName:"form-service-name",submitLabel:"form-submit-label",successMessage:"form-success-message",maxWidth:"form-max-width",align:"form-align",buttonRounded:"form-button-rounded",spacing:"form-spacing",bg:"form-bg",borderRadius:"form-border-radius",shadow:"form-shadow",border:"form-border"}},newsletterembed:{section:"newsletter",labelField:"title",fields:{title:"newsletter-title",serviceName:"newsletter-service-name",embedCode:"newsletter-embed-code",maxWidth:"newsletter-max-width",align:"newsletter-align",padding:"newsletter-padding",bg:"newsletter-bg",borderRadius:"newsletter-border-radius",shadow:"newsletter-shadow",border:"newsletter-border"}},card:{section:"card",labelField:"title",descriptionField:"description",fields:{title:"card-title",description:"card-description",image:"card-image",ctaText:"card-cta-text",ctaUrl:"card-cta-url",bg:"card-bg",borderRadius:"card-border-radius",shadow:"card-shadow",border:"card-border"}}},zr={texte:"paragraphe",paragraph:"paragraphe",paragraphs:"paragraphe",paragraphes:"paragraphe",text:"paragraphe",hero:"hero",image:"image",groupe:"groupe",group:"groupe",card:"card",carte:"card",collection:"collectiongrid",collectiongrid:"collectiongrid","collection-grid":"collectiongrid",form:"form",formulaire:"form",contact:"form",newsletterembed:"newsletterembed",newsletter:"newsletterembed",embed:"newsletterembed"},dr={animation:"anim-type",animationDelay:"anim-delay",animationDuration:"anim-duration"};Object.values(cr).forEach(e=>{e.fields={...e.fields,...dr}});let ur=(e,t)=>{if(!Ms||!gt)return;let s=o=>Array.from({length:Number(o)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-slate-300"></span>').join("");Ms.innerHTML=s(e),gt.innerHTML=s(t)},Fs=(e,t)=>{if(!lr||!gs)return;let s=o=>Array.from({length:Number(o)||1}).map(()=>'<span class="block h-2 w-full rounded-full bg-violet-300"></span>').join("");lr.innerHTML=s(e),gs.innerHTML=s(t)},Ns=async()=>{if(!kt)return[];let e=await fetch(kt,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les pages.");let t=await e.json().catch(()=>[]);return Array.isArray(t)?t:[]},Vr=async({name:e,title:t,slug:s})=>{if(!kt)throw new Error("Site inconnu.");let o=await fetch(kt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,title:t,slug:s})});if(!o.ok){let i=await o.json().catch(()=>({}));throw new Error(i.message||"Impossible de cr\xE9er la page.")}return o.json().catch(()=>({}))},os=async e=>{if(!(!kt||!(e!=null&&e.id)))try{let t=await fetch(`${kt}/${encodeURIComponent(e.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let o=await t.json().catch(()=>({}));throw new Error(o.message||"Impossible de sauvegarder la page.")}let s=await t.json().catch(()=>({}));if(s!=null&&s.id){let o=ds(s);return fe=fe.map(i=>i.id===o.id?o:i),(m==null?void 0:m.id)===o.id&&(m=o),o}return s}catch(t){console.error("[design] Save page failed",t),M(t.message||"Sauvegarde impossible.")}},Or=async()=>{if(!kt){fe=[],He=null,m=null,Kt(fe,He),Ct(null),xe==null||xe.classList.remove("hidden"),Re==null||Re.classList.add("hidden");return}try{let e=await Ns();if(fe=(Array.isArray(e)?e:[]).map(t=>ds(t)),fe.length===0){He=null,m=null,Kt(fe,He),Ct(null),xe==null||xe.classList.remove("hidden"),Re==null||Re.classList.add("hidden"),p&&(p.srcdoc=d());return}He=Wn(fe),Tt(He)}catch(e){console.error("[design] Impossible de charger les pages",e),M("Impossible de charger les pages.")}},hs=e=>(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ns=e=>{if(!e)return null;let t=hs(e.type),s=zr[t]||t;return cr[s]||null},Ds=e=>{var i,l,u,C,D,ne,ae;if(!h||!Re)return;e&&!e.settings&&(e.settings={});let t=ns(e),s=ze(t)||h;if(St&&(St.textContent=(e==null?void 0:e.label)||"Bloc"),y&&(y.textContent=(e==null?void 0:e.type)||"Bloc"),!t){h.classList.add("hidden"),B==null||B.classList.remove("hidden"),h.dataset.blockId="";return}if(B==null||B.classList.add("hidden"),h.classList.remove("hidden"),h.reset(),h.dataset.blockId=e.id,jt.forEach(ve=>{ve.dataset.editorSection===t.section?ve.classList.remove("hidden"):ve.classList.add("hidden")}),Rt("content"),t.section==="collection"){let ve=e.collectionId||((i=e.settings)==null?void 0:i.collectionId)||"";Sr(ve)}if(Object.entries(t.fields).forEach(([ve,Le])=>{var nt,Be,be;let ie=s.querySelector(`[name="${Le}"]`);if(!ie)return;let A=(nt=e.settings)==null?void 0:nt[ve];if(ie.type==="checkbox")ie.checked=!!A;else if(ie.type==="number"){let Qe=(be=(Be=ie.dataset.default)!=null?Be:ie.defaultValue)!=null?be:"";ie.value=A!=null?A:Qe}else ie.tagName,ie.value=A!=null?A:""}),t.section==="group"){let ve=((l=h.querySelector('[name="group-columns-mobile"]'))==null?void 0:l.value)||"1",Le=((u=h.querySelector('[name="group-columns-desktop"]'))==null?void 0:u.value)||"3";ur(ve,Le)}if(t.section==="collection"){let ve=((C=h.querySelector('[name="collection-columns-mobile"]'))==null?void 0:C.value)||"1",Le=((D=h.querySelector('[name="collection-columns-desktop"]'))==null?void 0:D.value)||"3";Fs(ve,Le)}let o=(ne=t.fields)==null?void 0:ne.bg;if(o){let ve=s.querySelector(`[name="${o}"]`);Pt(ve,(ae=e.settings)==null?void 0:ae.bg)}h.querySelectorAll("[data-color-select]").forEach(ts)},as=e=>{if(!h||!e)return{};let t=ze(e)||h,s={};return Object.entries(e.fields).forEach(([o,i])=>{var u,C;let l=t.querySelector(`[name="${i}"]`);if(l)if(l.type==="checkbox")s[o]=l.checked;else if(l.type==="number"){let D=Number(l.value);s[o]=Number.isFinite(D)?D:0}else if(l.tagName==="SELECT"){let D=(C=(u=l.dataset.default)!=null?u:l.value)!=null?C:"";s[o]=l.value||D}else l.tagName==="TEXTAREA"?s[o]=l.value||"":l.type==="select-one"?s[o]=l.value:s[o]=l.value||""}),s},qt=e=>{if(_){if(!e){_.classList.add("hidden");return}_.classList.remove("hidden"),_.textContent=e}},a=e=>{if(!e)return null;let t=s=>{var o;return{id:s.id,type:s.type,label:s.label,status:s.status,description:s.description,props:s.props||[],settings:s.settings||{},collectionId:s.collectionId||((o=s.settings)==null?void 0:o.collectionId)||"",children:(s.children||[]).map(t)}};return{id:e.id,name:e.name,title:e.title,slug:e.slug,description:e.description||"",badges:[...e.badges||[]],seo:e.seo||{},accessibility:e.accessibility||{},blocks:(e.blocks||[]).map(t)}},d=()=>'<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#475569;background:#fff;">Pr\xE9paration de la pr\xE9visualisation\u2026</body></html>',b=(e,t)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>e(...o),t)}},j=async()=>{if(!m||!Ye)return;let e=ls(),t=ns(e);if(!e||!t)return;let s=as(t),{blocks:o,didUpdate:i,foundParentId:l}=Ro(m.blocks||[],e.id,C=>{let D={...C.settings||{},...s};return{...C,settings:D}},cs);if(!i)return;cs=l;let u={...m,blocks:o};m=u;try{let C=await os(u);if(C!=null&&C.id){let D=ds(C);m=D,fe=fe.map(ne=>ne.id===D.id?D:ne)}}catch(C){console.warn("[design] auto-save appearance failed",C)}},Y=(e,t)=>{!p||!p.contentWindow||p.contentWindow.postMessage({type:"updateBlockStyles",blockId:e,settings:t},"*")},ue=b(()=>{m&&O(m)},1500),me=(e,t)=>{Y(e,t),qt("Modification\u2026"),j().then(()=>{qt("Sauvegard\xE9"),setTimeout(()=>qt("\xC0 jour"),1500)}).catch(()=>qt("Erreur de sauvegarde")),ue()},O=e=>{if(!p||!e)return;let t=(Z==null?void 0:Z.slugValue)||oe.slug||"",s=fe.map(l=>({id:l.id,slug:l.slug,title:l.title,name:l.name,accessibility:l.accessibility})),o={page:a(e),site:{title:oe.name||"Site",slug:t,pages:s}};to=!1,qt("Actualisation\u2026"),p.srcdoc=d(),Js&&Js.abort();let i=new AbortController;Js=i,fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o),signal:i.signal}).then(async l=>{let u=await l.json().catch(()=>({}));if(!l.ok){let C=(u==null?void 0:u.error)||(u==null?void 0:u.message)||`Preview error (${l.status})`,D=new Error(C);throw D.payload=u,D.status=l.status,D}return u}).then(l=>{i.signal.aborted||(eo=l.html||"",p.setAttribute("title",`Pr\xE9visualisation de la page ${e.title||""}`.trim()),p.srcdoc=eo||d(),qt("\xC0 jour"))}).catch(l=>{i.signal.aborted||(console.error("[preview] Impossible de rendre la page",(l==null?void 0:l.message)||l,(l==null?void 0:l.payload)||""),qt("Erreur preview"),p.srcdoc='<!DOCTYPE html><html><body style="font-family:Inter,sans-serif;padding:40px;color:#be123c;background:#fff;">Erreur lors du rendu de la pr\xE9visualisation.</body></html>')}).finally(()=>{Js===i&&(Js=null)})},we=e=>{var C;if(e.preventDefault(),!m||!Ye)return;let t=ls(),s=ns(t);if(!t||!s)return;let o=as(s);if(s.section==="image"){let D=(o.alt||"").trim();if(o.alt=D,!D){M("Ajoute un texte alternatif pour cette image.","error"),(C=h==null?void 0:h.querySelector('[name="image-alt"]'))==null||C.focus();return}}if(s.section==="collection"){if(!o.collectionId){M("S\xE9lectionnez une collection.");return}o.limit=Math.max(1,Number(o.limit)||1)}let{blocks:i,didUpdate:l,foundParentId:u}=Ro(m.blocks||[],t.id,D=>{let ne={...D.settings||{},...o},ae={...D,settings:ne};return s.labelField&&o[s.labelField]&&(ae.label=o[s.labelField]),s.descriptionField&&o[s.descriptionField]&&(ae.description=o[s.descriptionField]),s.section==="collection"&&(ae.collectionId=o.collectionId,ae.settings.collectionId=o.collectionId,ae.settings.limit=o.limit),ae},cs);l&&(cs=u,Ss(i),M("Bloc mis \xE0 jour"),Tt(m.id,{preserveBlock:!0}))},Se=document.querySelector("[data-page-drawer]"),ee=document.querySelector("[data-page-drawer-backdrop]"),je=document.querySelectorAll("[data-page-drawer-open]"),st=document.querySelectorAll("[data-page-drawer-close]"),qe=document.querySelector("[data-add-page-toggle]"),De=document.querySelector("[data-add-page-form]"),rt=document.querySelector("[data-add-page-name]"),At=document.querySelector("[data-add-page-title]"),ht=document.querySelector("[data-add-page-slug]"),bs=document.querySelector("[data-add-page-cancel]"),Ze=document.querySelector("[data-add-page-error]"),Vt=De==null?void 0:De.querySelector('[type="submit"]'),ys=document.querySelector("[data-import-pages-toggle]"),lt=document.querySelector("[data-import-modal]"),Hs=document.querySelectorAll("[data-import-modal-close]"),ct=document.querySelector("[data-import-dropzone]"),vs=document.querySelector("[data-import-file-input]"),xs=document.querySelector("[data-import-file-list]"),Us=document.querySelector("[data-import-file-names]"),Ke=document.querySelector("[data-import-results]"),_e=document.querySelector("[data-import-results-content]"),ot=document.querySelector("[data-import-submit]"),ws=document.querySelectorAll("[data-import-tab]"),Rs=document.querySelectorAll("[data-import-panel]"),Jr=document.querySelector("[data-copy-prompt]"),Wr=document.querySelector("[data-copy-template]"),qo=document.querySelector("[data-template-json]"),Ao=document.querySelector("[data-import-ai-prompt]"),bt=document.querySelector("[data-import-paste-json]"),Gr=document.querySelector("[data-format-json]"),Mt=document.querySelector("[data-import-paste-error]"),Ot=[],is="upload",Lt=document.querySelector("[data-delete-page-modal]"),To=document.querySelector("[data-delete-page-name]"),Zr=document.querySelector("[data-delete-page-cancel]"),Jt=document.querySelector("[data-delete-page-confirm]"),zs=null,zn=Pe((Z==null?void 0:Z.slugValue)||oe.slug||"default")||"default",Vn=(Z==null?void 0:Z.slugValue)||oe.slug||"",mr=Pe(Vn)||"",kt=mr?`/api/sites/${encodeURIComponent(mr)}/pages`:null,Io=mr?`/api/sites/${encodeURIComponent(mr)}/collections`:null,$o={active:`clower:activePage:${zn}`},Kr=(e,t,s,o,i,l=[],u={})=>{let C={id:e,label:t,type:s,status:o,description:i,props:l,settings:{...u}};return C.settings.collectionId&&(C.collectionId=C.settings.collectionId),C},On={hero:{type:"Hero",label:"Hero de page",description:"Section pleine largeur avec CTA principal.",status:"Brouillon",props:[{label:"CTA",value:"D\xE9couvrir"},{label:"Hauteur",value:"80vh"}],settings:{title:"Titre du hero",subtitle:"",ctaLabel:"D\xE9couvrir",ctaUrl:"#",image:"",align:"center"}},paragraph:{type:"Paragraphe",label:"Bloc \xE9ditorial",description:"Paragraphe libre pour raconter votre histoire.",status:"Brouillon",props:[{label:"Longueur",value:"150 mots"}],settings:{title:"Titre du paragraphe",content:"",align:"left"}},image:{type:"Image",label:"Bloc image",description:"Visuel seul avec l\xE9gende optionnelle.",status:"Brouillon",props:[{label:"Ratio",value:"16:9"},{label:"L\xE9gende",value:"Inactive"}],settings:{src:"",alt:"",showCaption:!1,caption:""}},group:{type:"Groupe",label:"Groupe de sections",description:"Conteneur pour imbriquer plusieurs sous-blocs.",status:"Brouillon",props:[{label:"Disposition",value:"Verticale"}],settings:{layout:"grid",columnsMobile:"1",columnsDesktop:"3",mobileLayout:"stack"}},collectiongrid:{type:"CollectionGrid",label:"Grille de contenus",description:"Affiche automatiquement les items d\u2019une collection.",status:"Brouillon",settings:{collectionId:"",limit:6,mobileLayout:"stack"}},form:{type:"Form",label:"Formulaire de contact",description:"Formulaire avec envoi vers un service externe.",status:"Brouillon",settings:{formTitle:"Contactez-nous",actionUrl:"",method:"POST",serviceName:"",submitLabel:"Envoyer",successMessage:"Merci pour votre message !"}},newsletterembed:{type:"NewsletterEmbed",label:"Newsletter / Embed",description:"Int\xE9gration d'un formulaire newsletter externe (Brevo, Mailchimp\u2026).",status:"Brouillon",settings:{title:"Restez inform\xE9",serviceName:"",embedCode:""}},card:{type:"Card",label:"Carte",description:"Carte avec image, texte et lien.",status:"Brouillon",settings:{title:"Titre de la carte",description:"",image:"",ctaText:"D\xE9couvrir",ctaUrl:"#",bg:"bg-slate-50",borderRadius:"rounded-2xl",shadow:"shadow-sm",border:"border border-slate-100 theme-border-accent"}}},Jn=e=>{try{window.localStorage.setItem($o.active,e)}catch{}},Wn=e=>{var t;try{let s=window.localStorage.getItem($o.active);if(s&&e.some(o=>o.id===s))return s}catch{}return((t=e[0])==null?void 0:t.id)||null},Gn=e=>!e||e<=0?"0 bloc":e===1?"1 bloc":`${e} blocs`,Bo=e=>{if(!e||e==="/")return"/";let t=Xt(e.replace(/^\//,""));return t?`/${t}`:"/"},_r=(e="page",t="block")=>`${e}-${t}-${Date.now().toString(36)}-${Math.floor(Math.random()*1e3)}`,Ia=(e,t)=>[Kr(_r(e,"intro"),"Introduction","Paragraphe","Brouillon",`Paragraphe introductif pour "${t}".`,[{label:"Longueur",value:"2 paragraphes"}],{title:`Introduction \xE0 ${t}`,content:"Ajoutez votre premier paragraphe de pr\xE9sentation.",align:"left"}),Kr(_r(e,"content"),"Zone de contenu","Groupe","Brouillon","Section principale \xE0 composer avec textes et visuels.",[{label:"Colonnes",value:"Auto"}],{layout:"grid",columnsMobile:"1",columnsDesktop:"2",mobileLayout:"stack"})],Po=e=>{n&&(n.textContent=(e==null?void 0:e.name)||(e==null?void 0:e.title)||"Page"),c&&(c.textContent=(e==null?void 0:e.slug)||"/")},Zn=e=>{if(!f)return;f.innerHTML="",(e&&e.badges&&e.badges.length>0?e.badges:["Structure en cours"]).forEach(s=>{let o=document.createElement("span");o.className="rounded-full bg-slate-100 px-3 py-1",o.textContent=s,f.appendChild(o)})},Kn=e=>{switch((e||"").toLowerCase()){case"en ligne":return"bg-emerald-50 text-emerald-700";case"brouillon":return"bg-amber-50 text-amber-700";default:return"bg-slate-100 text-slate-600"}},fr=e=>{if(!(!xe||!Re)){if(!e){xe.classList.remove("hidden"),Re.classList.add("hidden"),B==null||B.classList.add("hidden"),h==null||h.classList.add("hidden"),Me==null||Me.classList.add("hidden");return}xe.classList.add("hidden"),Re.classList.remove("hidden"),Me&&(e.status?(Me.textContent=e.status,Me.className=`rounded-full px-3 py-1 text-xs font-semibold ${Kn(e.status)}`,Me.classList.remove("hidden")):Me.classList.add("hidden")),Ds(e)}},_n=()=>{let e=getComputedStyle(document.documentElement).getPropertyValue("--color-accent");return e?e.trim():"#9C6BFF"},Vs=e=>{if(!p)return;let t=p.contentDocument;if(!t)return;if(t.querySelectorAll("[data-preview-block]").forEach(o=>{o.dataset.previewBlock===e?(o.classList.add("preview-block-active"),to&&e&&o.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):o.classList.remove("preview-block-active")}),S){let o=_n();S.style.borderColor=e?o:"transparent",S.style.opacity=e?"0.5":"0"}},jo={desktop:{width:"100%",height:"640px",maxWidth:"",margin:"0"},mobile:{width:"375px",height:"780px",maxWidth:"375px",margin:"0 auto"}},Mo=e=>{let t=jo[e]?e:"desktop";U.forEach(o=>{let i=o.dataset.previewView===t;o.setAttribute("aria-pressed",i?"true":"false"),i?(o.classList.add("bg-slate-900","text-white"),o.classList.remove("bg-slate-200","text-slate-500")):(o.classList.remove("bg-slate-900","text-white"),o.classList.add("bg-slate-200","text-slate-500"))});let s=jo[t];p&&(p.style.width=s.width,p.style.height=s.height,p.style.maxWidth=s.maxWidth,p.style.margin=s.margin),v&&(v.style.width="100%",v.style.minHeight=s.height,v.style.maxWidth=s.maxWidth||"100%"),V&&(V.dataset.previewShellView=t),W&&(W.textContent=t==="mobile"?"Vue mobile":"Vue bureau")},Fo=(e,t=!1,s=null)=>{var io;let o=e.id===Ye,i=(e.type||"").toLowerCase(),l=i==="groupe"||i==="group"||i==="sections"||i==="grid",u=document.createElement("div");u.dataset.blockItem="true",u.dataset.blockId=e.id,s&&(u.dataset.parentBlockId=s),l&&(u.dataset.isGroup="true"),u.setAttribute("role","option"),u.setAttribute("aria-selected",o?"true":"false"),u.setAttribute("draggable","true"),u.tabIndex=0,u.className=["relative flex items-center gap-3 rounded-2xl border px-3 py-2 text-left transition group",t?"ml-6 border-dashed":"",o?"bg-slate-100 border-[#9C6BFF]/40 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let C=document.createElement("span");C.className=`absolute inset-y-2 left-0 w-1 rounded-full bg-[#9C6BFF] ${o?"":"hidden"}`,u.appendChild(C);let D=document.createElement("div");D.className="flex flex-1 items-center gap-3";let ne=document.createElement("div");ne.className="hidden lg:flex cursor-grab active:cursor-grabbing flex-shrink-0 items-center text-lg text-slate-400 hover:text-slate-600 transition-colors select-none",ne.innerHTML="\u22EE\u22EE",ne.setAttribute("title","Glisser pour r\xE9ordonner"),D.appendChild(ne);let ae=document.createElement("div");ae.className="flex-1";let ve=document.createElement("div");ve.className="flex items-center gap-2 text-[11px] uppercase tracking-wide text-slate-500";let Le=document.createElement("span");Le.className="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",Le.textContent=e.type;let ie=document.createElement("span");if(ie.className="text-slate-400",ie.textContent=e.status,ve.appendChild(Le),l){let ft=(e.children||[]).length,us=document.createElement("span");us.className="rounded-full bg-violet-100 px-2 py-0.5 text-[10px] font-semibold text-violet-600",us.textContent=`${ft} \xE9l\xE9ment${ft!==1?"s":""}`,ve.appendChild(us)}ve.appendChild(ie);let A=document.createElement("p");A.className="mt-1 text-sm font-semibold text-slate-900";let nt=e.settings&&e.settings.title||e.label||"Bloc sans titre";if(A.textContent=nt,ae.appendChild(ve),ae.appendChild(A),i==="collectiongrid"&&e.collectionId){let ft=((io=Nt.find(Ca=>Ca.id===e.collectionId))==null?void 0:io.name)||e.collectionId,us=document.createElement("p");us.className="text-xs text-slate-400",us.textContent=`Collection : ${ft}`,ae.appendChild(us)}D.appendChild(ae),u.appendChild(D);let Be=document.createElement("div");Be.className="flex flex-col gap-1 text-xs text-slate-400";let be=document.createElement("div");be.className="flex items-center gap-1 lg:hidden";let Qe=document.createElement("button");Qe.type="button",Qe.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",Qe.textContent="\u2191",Qe.addEventListener("click",ft=>{ft.stopPropagation(),s?Uo(s,e.id,-1):zo(e.id,-1)});let yt=document.createElement("button");yt.type="button",yt.className="rounded-lg border border-slate-200 px-2 py-1 text-[11px] font-semibold text-slate-500",yt.textContent="\u2193",yt.addEventListener("click",ft=>{ft.stopPropagation(),s?Uo(s,e.id,1):zo(e.id,1)}),be.appendChild(Qe),be.appendChild(yt),Be.appendChild(be);let Ve=document.createElement("button");return Ve.type="button",Ve.className="inline-flex items-center justify-center rounded-lg border border-transparent px-2 py-1 text-[12px] text-rose-500 hover:text-rose-700",Ve.innerHTML="\u{1F5D1}\uFE0F",Ve.addEventListener("click",ft=>{ft.stopPropagation(),s?ea(s,e.id):da(e.id)}),Be.appendChild(Ve),u.appendChild(Be),u.addEventListener("click",()=>{Ft(e.id,s)}),u.addEventListener("keydown",ft=>{(ft.key==="Enter"||ft.key===" ")&&(ft.preventDefault(),Ft(e.id,s))}),{item:u,isGroup:l,block:e}},Yn=e=>{let t=document.createElement("div");return t.dataset.groupDropZone=e.id,t.className="ml-6 border-2 border-dashed border-slate-200 rounded-xl p-3 text-center text-xs text-slate-400 hover:border-violet-300 hover:bg-violet-50/50 transition-colors cursor-pointer",t.innerHTML='<span class="pointer-events-none">\u{1F4E6} Glissez un bloc ici ou cliquez pour ajouter</span>',t.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),t.classList.add("border-violet-400","bg-violet-50")}),t.addEventListener("dragleave",s=>{s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50")}),t.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),t.classList.remove("border-violet-400","bg-violet-50");let o=s.dataTransfer.getData("text/plain");o&&o!==e.id&&Xn(o,e.id)}),t.addEventListener("click",()=>{sa(e.id)}),t},Ct=e=>{if(!I)return;I.innerHTML="";let t=(e==null?void 0:e.blocks)||[];if(ce&&(ce.textContent=Gn(t.length)),t.length===0){I.classList.add("hidden"),re==null||re.classList.remove("hidden");return}I.classList.remove("hidden"),re==null||re.classList.add("hidden"),t.forEach(s=>{let{item:o,isGroup:i}=Fo(s,!1,null);if(I.appendChild(o),i){(s.children||[]).forEach(C=>{let{item:D}=Fo(C,!0,s.id);I.appendChild(D)});let u=Yn(s);I.appendChild(u)}})},Qn=e=>{if(!m||!e)return null;for(let t=0;t<m.blocks.length;t++){let s=m.blocks[t],o=((s==null?void 0:s.type)||"").toLowerCase();if(!(o==="groupe"||o==="group"||o==="sections"||o==="grid")||!Array.isArray(s.children))continue;let l=s.children.findIndex(u=>u.id===e);if(l!==-1)return{groupId:s.id,groupIndex:t,childIndex:l}}return null},No=e=>{if(!m||!e)return null;let t=m.blocks.findIndex(l=>l.id===e);if(t!==-1){let[l]=m.blocks.splice(t,1);return{block:l,from:{type:"root",index:t}}}let s=Qn(e);if(!s)return null;let o=m.blocks.find(l=>l.id===s.groupId);if(!o||!Array.isArray(o.children))return null;let[i]=o.children.splice(s.childIndex,1);return{block:i,from:{type:"group",groupId:s.groupId,index:s.childIndex}}},pr=(e,t)=>{if(!m||!e)return;let s=Math.min(Math.max(0,t!=null?t:m.blocks.length),m.blocks.length);m.blocks.splice(s,0,e)},gr=(e,t,s)=>{if(!m||!e||!t)return!1;let o=m.blocks.find(l=>l.id===t);if(!o)return!1;Array.isArray(o.children)||(o.children=[]);let i=Math.min(Math.max(0,s!=null?s:o.children.length),o.children.length);return o.children.splice(i,0,e),!0},Do=(e,t,s=1)=>typeof e!="number"||e<0?null:t==="before"?e:e+s,hr=(e=null,t=null,s=null)=>{Ct(m),savePageBlocks(),e&&Ft(e,t),s&&M(s)},Xn=(e,t)=>{var l,u,C;if(!m||!e||!t||e===t)return;let s=m.blocks.find(D=>D.id===t);if(!s)return;let o=No(e);if(!(o!=null&&o.block))return;let i=(o.block.type||"").toLowerCase();if(i==="groupe"||i==="group"){M("Impossible d'imbriquer des groupes","error"),((l=o.from)==null?void 0:l.type)==="root"?pr(o.block,o.from.index):((u=o.from)==null?void 0:u.type)==="group"&&gr(o.block,o.from.groupId,o.from.index);return}if(((C=o.from)==null?void 0:C.type)==="group"&&o.from.groupId===t){gr(o.block,o.from.groupId,o.from.index);return}Array.isArray(s.children)||(s.children=[]),s.children.push(o.block),hr(o.block.id,t,"Bloc ajout\xE9 au groupe")},ea=(e,t)=>{if(!m)return;let s=m.blocks.find(u=>u.id===e);if(!s||!s.children)return;let o=s.children.findIndex(u=>u.id===t);if(o===-1)return;let[i]=s.children.splice(o,1),l=m.blocks.findIndex(u=>u.id===e);m.blocks.splice(l+1,0,i),Ct(m),savePageBlocks(),M("Bloc sorti du groupe")},Yr=(e,t,s)=>{if(!m)return;let o=m.blocks.find(u=>u.id===e);if(!o||!Array.isArray(o.children))return;let i=o.children.findIndex(u=>u.id===t);if(i===-1)return;let[l]=o.children.splice(i,1);pr(l,s),hr(l.id,null,"Bloc sorti du groupe")},ta=(e,t,s,o)=>{if(!m)return;let i=m.blocks.find(ae=>ae.id===e);if(!i||!Array.isArray(i.children))return;let l=i.children.findIndex(ae=>ae.id===t),u=i.children.findIndex(ae=>ae.id===s);if(l===-1||u===-1||t===s)return;let[C]=i.children.splice(l,1),D=l<u?u-1:u,ne=o==="before"?D:D+1;i.children.splice(ne,0,C),hr(C.id,e,null)},Ho=(e,t,s,o)=>{var D,ne,ae,ve;if(!m||!e||!t)return;let i=No(e);if(!(i!=null&&i.block))return;let l=(i.block.type||"").toLowerCase();if(l==="groupe"||l==="group"){M("Impossible d'imbriquer des groupes","error"),((D=i.from)==null?void 0:D.type)==="root"?pr(i.block,i.from.index):((ne=i.from)==null?void 0:ne.type)==="group"&&gr(i.block,i.from.groupId,i.from.index);return}let u=m.blocks.find(Le=>Le.id===t);if(!u){((ae=i.from)==null?void 0:ae.type)==="root"?pr(i.block,i.from.index):((ve=i.from)==null?void 0:ve.type)==="group"&&gr(i.block,i.from.groupId,i.from.index);return}Array.isArray(u.children)||(u.children=[]);let C=u.children.length;if(s){let Le=u.children.findIndex(A=>A.id===s),ie=Do(Le,o,1);ie!==null&&(C=ie)}u.children.splice(C,0,i.block),hr(i.block.id,t,"Bloc ajout\xE9 au groupe")},Uo=(e,t,s)=>{if(!m)return;let o=m.blocks.find(C=>C.id===e);if(!o||!o.children)return;let i=o.children.findIndex(C=>C.id===t);if(i===-1)return;let l=i+s;if(l<0||l>=o.children.length)return;let[u]=o.children.splice(i,1);o.children.splice(l,0,u),Ct(m),savePageBlocks()},sa=e=>{Zt=e,openBlockPicker()},Zt=null,ra=e=>{!Lt||!e||(zs=e,To&&(To.textContent=e.title||e.id),Lt.classList.remove("hidden"),Lt.classList.add("flex"),qs(Lt,br))},br=()=>{Lt&&(Lt.classList.add("hidden"),Lt.classList.remove("flex"),zs=null,As(Lt))},oa=async()=>{if(!kt||!zs)return;let e=zs.id,t=zs.title||e;Jt&&(Jt.disabled=!0,Jt.textContent="Suppression...");try{let s=await fetch(`${kt}/${encodeURIComponent(e)}`,{method:"DELETE",credentials:"include"}),o=await s.json();if(!s.ok)throw new Error(o.message||"Erreur serveur");fe=fe.filter(i=>i.id!==e),He===e?fe.length>0?Tt(fe[0].id):(He=null,m=null,Kt(fe,null),Ct(null),xe==null||xe.classList.remove("hidden"),Re==null||Re.classList.add("hidden"),p&&(p.srcdoc=d())):Kt(fe,He),br(),M(`Page "${t}" supprim\xE9e`)}catch(s){console.error("[pages] delete failed",s),M(s.message||"Erreur suppression")}finally{Jt&&(Jt.disabled=!1,Jt.textContent="Supprimer")}},Kt=(e,t)=>{r.forEach(s=>{s.innerHTML="",e.forEach(o=>{var ae;let i=document.createElement("li");i.className="flex items-center gap-1";let l=document.createElement("button");l.type="button",l.dataset.pageId=o.id,l.className=["flex-1 flex items-center gap-3 px-3 py-2 text-left transition",t===o.id?"bg-[#9C6BFF]/10 text-slate-900 border border-[#9C6BFF]/40 rounded-xl shadow-sm":"text-slate-700 hover:bg-slate-50 rounded-xl"].join(" "),t===o.id?l.setAttribute("aria-current","page"):l.removeAttribute("aria-current");let u=o.name||o.title,D=((ae=o.accessibility)==null?void 0:ae.showInMainNav)===!1?'<span class="text-[10px] font-semibold text-amber-600">Masqu\xE9 du menu</span>':"";l.innerHTML=`
            <span class="flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6.5 4.5h7l4 4v11a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1v-14a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                <path d="M13.5 4.5v4a1 1 0 0 0 1 1h3" stroke="currentColor" stroke-width="1.4"/>
              </svg>
            </span>
            <div class="flex flex-col">
              <span class="text-sm font-semibold">${u}</span>
              <span class="text-xs text-slate-500">${o.slug}</span>
              ${D}
            </div>
          `,l.addEventListener("click",()=>{Tt(o.id),Qr()||Xr()}),i.appendChild(l);let ne=document.createElement("button");ne.type="button",ne.className="flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",ne.title="Supprimer cette page",ne.setAttribute("aria-label",`Supprimer ${u}`),ne.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6"/>
            </svg>
          `,ne.addEventListener("click",ve=>{ve.stopPropagation(),ra(o)}),i.appendChild(ne),s.appendChild(i)})})},ls=()=>{if(!m||!Array.isArray(m.blocks))return null;let e=m.blocks.find(t=>t.id===Ye);if(!e){for(let t of m.blocks)if(t.children&&(e=t.children.find(s=>s.id===Ye),e))break}return e||null},na=(e,t)=>{if(!e||!t)return!1;let s=o=>{for(let i of o||[])if(i&&(i.id===t||Array.isArray(i.children)&&s(i.children)))return!0;return!1};return s(e.blocks||[])},Ro=(e,t,s,o=null)=>{let i=!1,l=null,u=(D,ne=null)=>{let ae=!1;return{nodes:(D||[]).map(Le=>{if(!Le||!Le.id)return Le;if(Le.id===t&&(!o||o===ne))return i=!0,l=ne,ae=!0,s(Le);if(Array.isArray(Le.children)&&Le.children.length>0){let{nodes:ie,changed:A}=u(Le.children,Le.id);if(A)return ae=!0,{...Le,children:ie}}return Le}),changed:ae}};return{blocks:u(e,null).nodes,didUpdate:i,foundParentId:l}},cs=null,Ft=(e,t=null)=>{if(!m)return;if(!e){Ye=null,cs=null,Ct(m),fr(null),Vs(null);return}let s=null;if(s=m.blocks.find(o=>o.id===e),!s&&t){let o=m.blocks.find(i=>i.id===t);o&&o.children&&(s=o.children.find(i=>i.id===e))}if(!s){for(let o of m.blocks)if(o.children){let i=o.children.find(l=>l.id===e);if(i){s=i,t=o.id;break}}}s||(s=m.blocks[0]||null,t=null),Ye=(s==null?void 0:s.id)||null,cs=t,Ct(m),fr(s),Vs(Ye)},Ss=e=>{if(!m)return;let t={...m,blocks:e};ua(t)},yr=()=>window.matchMedia("(min-width: 1024px)").matches;function zo(e,t){if(!m||!e||!t)return;let s=[...m.blocks||[]],o=s.findIndex(u=>u.id===e);if(o<0)return;let i=o+t;if(i<0||i>=s.length)return;let[l]=s.splice(o,1);s.splice(i,0,l),Ss(s),Tt(m.id,{preserveBlock:!0}),Ft(l.id)}function $a(e,t){if(!m||!e||!t||e===t)return;let s=[...m.blocks||[]],o=s.findIndex(u=>u.id===e),i=s.findIndex(u=>u.id===t);if(o<0||i<0)return;let[l]=s.splice(o,1);s.splice(i,0,l),Ss(s),Tt(m.id,{preserveBlock:!0}),Ft(l.id)}function aa(e,t,s){if(!m||!e||!t||e===t)return;let o=[...m.blocks||[]],i=o.findIndex(D=>D.id===e),l=o.findIndex(D=>D.id===t);if(i<0||l<0)return;let[u]=o.splice(i,1);i<l&&l--;let C=s==="before"?l:l+1;o.splice(C,0,u),Ss(o),Tt(m.id,{preserveBlock:!0}),Ft(u.id)}function Vo(){if(!I)return;let e=yr();I.querySelectorAll("[data-block-item]").forEach(t=>{t.setAttribute("draggable",e?"true":"false")})}function Os(){pe&&(pe.classList.add("hidden"),Ls=!1,Zt=null)}function ia(){pe&&(pe.classList.remove("hidden"),Ls=!0)}function la(){Ls?Os():ia()}function ca(e){var l;if(!m||!e)return;let t=On[e];if(!t)return;let s=(m.blocks||[]).filter(u=>u.type===t.type).length+1,o=Kr(_r(m.id,e),`${t.label} ${s}`,t.type,t.status,t.description,t.props,t.settings||{});if((t.type||"").toLowerCase()==="collectiongrid"){let u=((l=Nt[0])==null?void 0:l.id)||"";o.collectionId=u,o.settings.collectionId=u,o.settings.limit=o.settings.limit||6}if(Zt){let u=m.blocks.find(C=>C.id===Zt);if(u){u.children||(u.children=[]),u.children.push(o),Zt=null,Ct(m),savePageBlocks(),Ft(o.id,u.id),Os(),M("Bloc ajout\xE9 au groupe");return}Zt=null}let i=[...m.blocks||[],o];Ss(i),Tt(m.id,{preserveBlock:!0}),Ft(o.id),Os(),M("Bloc ajout\xE9")}function Oo(e){var o,i;if(!m)return;let t=(m.blocks||[]).filter(l=>l.id!==e),s=e===Ye?((o=t[0])==null?void 0:o.id)||null:Ye||((i=t[0])==null?void 0:i.id)||null;Ss(t),Ye=s,Tt(m.id,{preserveBlock:!0}),Ye?Ft(Ye):(fr(null),Vs(null)),M("Bloc supprim\xE9")}function vr(){ge&&(ge.classList.add("hidden"),ge.classList.remove("flex"),wr=null,As(ge))}function da(e){if(!ge){Oo(e);return}wr=e,ge.classList.remove("hidden"),ge.classList.add("flex"),qs(ge,vr)}let ua=e=>{if(!e)return;let t=ds(e);fe=fe.map(s=>s.id===t.id?t:s),m=t,os(t)},Tt=(e,t={})=>{var i,l;let s=fe.find(u=>u.id===e)||fe[0]||null;m=s?ds(s):null,He=(s==null?void 0:s.id)||null,(!t.preserveBlock||!m||!na(m,Ye))&&(Ye=((l=(i=m==null?void 0:m.blocks)==null?void 0:i[0])==null?void 0:l.id)||null,cs=null),He&&Jn(He),Kt(fe,He),Po(m),ao(),Zn(m),O(m),Ct(m),fr(ls()),Vs(Ye),Vo(),Ls&&Os()},Qr=()=>window.matchMedia("(min-width: 1024px)").matches,Jo=()=>{Se&&(Qr()?(Se.classList.add("is-open"),ee==null||ee.classList.add("hidden"),document.body.classList.remove("overflow-hidden")):Se.classList.remove("is-open"))},ma=()=>{!Se||Qr()||(Se.classList.add("is-open"),ee==null||ee.classList.remove("hidden"),document.body.classList.add("overflow-hidden"))},Xr=()=>{Se&&(Se.classList.remove("is-open"),ee==null||ee.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))},fa=()=>{!De||!qe||(De.classList.remove("hidden"),qe.classList.add("hidden"),Ze&&(Ze.textContent=""),xr=!1,rt&&(rt.value="",rt.focus()),At&&(At.value=""),ht&&(ht.value=""))},Wo=()=>{!De||!qe||(De.classList.add("hidden"),qe.classList.remove("hidden"),Ze&&(Ze.textContent=""),xr=!1,De.reset())},pa=()=>{!rt||!ht||xr&&ht.value.trim().length>0||(ht.value=Bo(rt.value))},fe=[],He=null,xr=!1,m=null,Ye=null,Ls=!1,wr=null,eo="",to=!1,Js=null,Nt=[],ga=e=>{let t={...e,props:Array.isArray(e.props)?e.props:[],settings:{...e.settings||{}}};return(t.type||"").toLowerCase()==="collectiongrid"&&(t.collectionId=t.collectionId||t.settings.collectionId||"",t.settings.collectionId=t.collectionId,t.settings.limit=t.settings.limit||6),t},ds=e=>{var t,s,o,i,l;return{...e,blocks:(e.blocks||[]).map(u=>ga(u)),seo:{title:(((t=e.seo)==null?void 0:t.title)||"").trim(),description:(((s=e.seo)==null?void 0:s.description)||"").trim(),indexed:typeof((o=e.seo)==null?void 0:o.indexed)=="boolean"?e.seo.indexed:null},accessibility:{showInMainNav:((i=e.accessibility)==null?void 0:i.showInMainNav)!==!1,mainLabel:(((l=e.accessibility)==null?void 0:l.mainLabel)||"").trim()}}},ha=async()=>{if(!Io){Nt=[],Sr();return}try{let e=await fetch(Io,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Impossible de charger les collections.");let t=await e.json().catch(()=>[]);Nt=Array.isArray(t)?t:[];let s=(We==null?void 0:We.value)||"";Sr(s)}catch(e){console.error("[design] collections load",e),M("Collections indisponibles."),Nt=[],Sr()}},so=e=>{if(!zt)return;if(!e){zt.textContent=Nt.length?"S\xE9lectionnez une collection pour afficher ses informations.":"Aucune collection disponible. Ajoutez-en depuis l\u2019onglet Contenus.";return}let t=Nt.find(o=>o.id===e);if(!t){zt.textContent=`Collection ${e}`;return}let s=[];t.description&&s.push(t.description),t.type&&s.push(`Type\xA0: ${t.type}`),zt.textContent=s.join(" \xB7 ")||`Collection ${t.name||t.id}`},Sr=(e="")=>{if(We){if(We.innerHTML="",!Nt.length){We.disabled=!0;let t=document.createElement("option");t.value="",t.textContent="Aucune collection disponible",We.appendChild(t),so("");return}if(We.disabled=!1,e&&!Nt.some(t=>t.id===e)){let t=document.createElement("option");t.value=e,t.textContent=e,We.appendChild(t)}Nt.forEach(t=>{let s=document.createElement("option");s.value=t.id;let o=t.name||t.id;s.textContent=t.type?`${o} \xB7 ${t.type}`:o,s.dataset.description=t.description||"",We.appendChild(s)}),e&&(We.value=e),so(We.value||"")}};ha(),Jo(),je.forEach(e=>{e.addEventListener("click",ma)}),st.forEach(e=>{e.addEventListener("click",Xr)}),ee==null||ee.addEventListener("click",Xr),window.addEventListener("resize",()=>{Jo(),Vo()}),qe==null||qe.addEventListener("click",fa),bs==null||bs.addEventListener("click",Wo),rt==null||rt.addEventListener("input",pa),ht==null||ht.addEventListener("input",()=>{Ze&&(Ze.textContent=""),xr=!0}),De==null||De.addEventListener("submit",async e=>{if(e.preventDefault(),!kt){Ze&&(Ze.textContent="Aucun site s\xE9lectionn\xE9.");return}if(!rt||!ht)return;let t=rt.value.trim(),s=(At==null?void 0:At.value.trim())||t,o=Bo(ht.value.trim()||t);if(!t||!o){Ze&&(Ze.textContent="Nom et slug sont requis.");return}Ze&&(Ze.textContent=""),Vt&&(Vt.disabled=!0,Vt.textContent="Cr\xE9ation...");try{let i=await Vr({name:t,title:s,slug:o});if(!i||!i.id)throw new Error("R\xE9ponse invalide.");fe=[...fe,ds(i)],Wo(),M("Page cr\xE9\xE9e"),Tt(i.id)}catch(i){console.error("[design] create page failed",i),Ze&&(Ze.textContent=i.message||"Impossible de cr\xE9er la page.")}finally{Vt&&(Vt.disabled=!1,Vt.textContent="Cr\xE9er")}});let ro=()=>{bt&&(bt.value=""),Mt&&(Mt.classList.add("hidden"),Mt.textContent="")},Go=()=>{if(!bt)return null;let e=bt.value.trim();if(!e)return Mt&&Mt.classList.add("hidden"),null;try{let t=JSON.parse(e);return Mt&&Mt.classList.add("hidden"),t}catch(t){return Mt&&(Mt.classList.remove("hidden"),Mt.textContent=`\u274C JSON invalide : ${t.message}`),null}},ba=()=>{if(!bt)return;let e=bt.value.trim();if(e)try{let t=JSON.parse(e);bt.value=JSON.stringify(t,null,2),Go()}catch{}},Ws=()=>{if(ot)if(is==="upload")ot.disabled=Ot.length===0;else if(is==="paste"){let e=Go();ot.disabled=!e}else ot.disabled=!0},ya=()=>{lt&&(lt.classList.remove("hidden"),lt.classList.add("flex"),Ot=[],is="upload",no(),ro(),Ke&&Ke.classList.add("hidden"),_e&&(_e.innerHTML=""),Ws(),ws.forEach(e=>{e.dataset.importTab==="upload"?(e.classList.add("bg-[#9C6BFF]","text-white"),e.classList.remove("border","border-slate-200","text-slate-700")):(e.classList.remove("bg-[#9C6BFF]","text-white"),e.classList.add("border","border-slate-200","text-slate-700"))}),Rs.forEach(e=>{e.dataset.importPanel==="upload"?e.classList.remove("hidden"):e.classList.add("hidden")}),qs(lt,oo))},oo=()=>{lt&&(lt.classList.add("hidden"),lt.classList.remove("flex"),Ot=[],ro(),As(lt))},no=()=>{if(!(!xs||!Us)){if(Ot.length===0){xs.classList.add("hidden"),Ws();return}xs.classList.remove("hidden"),Us.innerHTML=Ot.map(e=>`<li class="flex items-center gap-2"><span class="text-lg">\u{1F4C4}</span>${e.name}</li>`).join(""),Ws()}},Zo=e=>{let t=Array.from(e).filter(s=>s.type==="application/json"||s.name.endsWith(".json"));if(t.length===0){M("Aucun fichier JSON valide.");return}Ot=t,no()},va=async()=>{var s,o,i,l,u,C,D,ne,ae,ve,Le;if(!kt)return;let e=[];if(console.log("[import] activeImportTab:",is),is==="paste"){let ie=(s=bt==null?void 0:bt.value)==null?void 0:s.trim();if(console.log("[import] paste text length:",ie==null?void 0:ie.length),!ie){M("Aucun JSON \xE0 importer."),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML='<p class="text-amber-600">\u26A0 Le champ de texte est vide.</p>');return}try{let A=JSON.parse(ie);console.log("[import] parsed JSON:",A),console.log("[import] parsed type:",typeof A,Array.isArray(A)?"array":"not array"),A&&!Array.isArray(A)&&A.pages?(console.log("[import] detected pages+collections format"),e=A):Array.isArray(A)?e.push(...A):e.push(A),console.log("[import] pagesData prepared:",e)}catch(A){let nt=A.message.match(/position (\d+)/),Be=A.message;if(nt){let be=parseInt(nt[1],10),Qe=ie.substring(0,be).split(`
`),yt=Qe.length,Ve=Qe[Qe.length-1].length+1;Be=`Ligne ${yt}, colonne ${Ve}: ${A.message}`}M(`Erreur JSON : ${Be}`,"error"),console.error("[import] paste parse error",A),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur de syntaxe JSON</p>
                <p class="text-xs mt-1">${Be}</p>
                <p class="text-xs mt-2 text-slate-500">V\xE9rifiez les virgules, guillemets et accolades.</p>
              </div>
            `);return}}else if(is==="upload"){if(Ot.length===0)return;let ie=[];for(let A of Ot){let nt=await A.text();try{let Be=JSON.parse(nt);Array.isArray(Be)?e.push(...Be):e.push(Be)}catch(Be){let be=Be.message.match(/position (\d+)/),Qe=Be.message;if(be){let yt=parseInt(be[1],10);Qe=`Ligne ${nt.substring(0,yt).split(`
`).length}: ${Be.message}`}ie.push({file:A.name,error:Qe}),console.error("[import] parse error",A.name,Be)}}if(ie.length>0){if(Ke&&_e){Ke.classList.remove("hidden");let A='<div class="text-rose-600"><p class="font-medium">\u2717 Erreurs de syntaxe JSON</p><ul class="ml-4 text-xs mt-1">';ie.forEach(nt=>{A+=`<li><strong>${nt.file}</strong>: ${nt.error}</li>`}),A+="</ul></div>",e.length>0&&(A+=`<p class="text-amber-600 mt-2 text-sm">\u26A0 ${e.length} page(s) valide(s) seront import\xE9e(s)</p>`),_e.innerHTML=A}if(e.length===0){M("Tous les fichiers contiennent des erreurs JSON","error");return}}}else return;let t=Array.isArray(e)?e.length>0:e&&(((o=e.pages)==null?void 0:o.length)>0||e.title);if(console.log("[import] hasData check:",t,"pagesData:",e),!t){M("Aucune page valide \xE0 importer."),Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
            <div class="text-amber-600">
              <p class="font-medium">\u26A0 Aucune page d\xE9tect\xE9e</p>
              <p class="text-xs mt-1">Le JSON doit contenir :</p>
              <ul class="text-xs ml-4 mt-1 list-disc">
                <li>Un objet page avec "title" : <code>{"title": "Ma page", ...}</code></li>
                <li>Un tableau de pages : <code>[{"title": "Page 1"}, {"title": "Page 2"}]</code></li>
                <li>Ou un objet combin\xE9 : <code>{"pages": [...], "collections": {...}}</code></li>
              </ul>
            </div>
          `);return}ot&&(ot.disabled=!0,ot.textContent="Import..."),console.log("[import] Sending to server:",JSON.stringify(e).substring(0,500));try{let ie=await fetch(`${kt}/import`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});console.log("[import] Server response status:",ie.status);let A=await ie.json();if(console.log("[import] Server response body:",A),!ie.ok)throw Ke&&_e&&(Ke.classList.remove("hidden"),_e.innerHTML=`
              <div class="text-rose-600">
                <p class="font-medium">\u2717 Erreur serveur</p>
                <p class="text-xs mt-1">${A.message||"Erreur inconnue"}</p>
                ${A.details?`<p class="text-xs mt-1 text-slate-500">${A.details}</p>`:""}
              </div>
            `),new Error(A.message||"Erreur serveur");if(Ke&&_e){Ke.classList.remove("hidden");let be="",Qe=((i=A.imported)==null?void 0:i.length)>0||((l=A.collectionsCreated)==null?void 0:l.length)>0,yt=((u=A.errors)==null?void 0:u.length)>0;Qe&&!yt?be+='<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-2"><p class="text-green-800 font-medium">\u2713 Import r\xE9ussi</p></div>':Qe&&yt?be+='<div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-2"><p class="text-amber-800 font-medium">\u26A0 Import partiel</p></div>':yt&&(be+='<div class="bg-rose-50 border border-rose-200 rounded-lg p-3 mb-2"><p class="text-rose-800 font-medium">\u2717 Import \xE9chou\xE9</p></div>'),A.collectionsCreated&&A.collectionsCreated.length>0&&(be+=`<p class="text-violet-700 mt-2">\u2713 ${A.collectionsCreated.length} collection(s) cr\xE9\xE9e(s)</p>`,be+='<ul class="ml-4 text-xs text-slate-600">',A.collectionsCreated.forEach(Ve=>{be+=`<li>${Ve.name} (${Ve.itemsCount} item${Ve.itemsCount>1?"s":""})</li>`}),be+="</ul>"),A.imported&&A.imported.length>0&&(be+=`<p class="text-green-700 mt-2">\u2713 ${A.imported.length} page(s) import\xE9e(s)</p>`,be+='<ul class="ml-4 text-xs text-slate-600">',A.imported.forEach(Ve=>{be+=`<li><strong>${Ve.title}</strong> \u2192 ${Ve.slug} (${Ve.action==="updated"?"mise \xE0 jour":"cr\xE9\xE9e"})</li>`}),be+="</ul>"),A.errors&&A.errors.length>0&&(be+=`<p class="text-rose-600 mt-3 font-medium">\u2717 ${A.errors.length} erreur(s)</p>`,be+='<ul class="ml-4 text-xs text-rose-600 space-y-1 mt-1">',A.errors.forEach(Ve=>{be+=`<li class="bg-rose-50 p-2 rounded"><strong>${Ve.title}</strong><br/><span class="text-rose-500">${Ve.error}</span></li>`}),be+="</ul>"),_e.innerHTML=be}let nt=((C=A.imported)==null?void 0:C.length)>0||((D=A.collectionsCreated)==null?void 0:D.length)>0,Be=((ne=A.errors)==null?void 0:ne.length)>0;if(A.imported&&A.imported.length>0&&(fe=await Ns(),Kt(fe,He),fe.length>0&&!He&&Tt(fe[0].id)),nt&&!Be){let be=(ae=A.collectionsCreated)!=null&&ae.length?` + ${A.collectionsCreated.length} collection(s)`:"";M(`\u2713 Import r\xE9ussi : ${((ve=A.imported)==null?void 0:ve.length)||0} page(s)${be}`,"success")}else nt&&Be?M(`\u26A0 Import partiel : ${((Le=A.imported)==null?void 0:Le.length)||0} page(s), ${A.errors.length} erreur(s)`,"warning"):Be&&M(`\u2717 Import \xE9chou\xE9 : ${A.errors.length} erreur(s)`,"error");Ot=[],no(),ro()}catch(ie){console.error("[import] failed",ie),M(ie.message||"Erreur import","error")}finally{ot&&(ot.disabled=!1,ot.textContent="Importer")}};ys==null||ys.addEventListener("click",ya),Hs.forEach(e=>e.addEventListener("click",oo)),lt==null||lt.addEventListener("click",e=>{e.target===lt&&oo()}),vs==null||vs.addEventListener("change",e=>{Zo(e.target.files)}),ct==null||ct.addEventListener("dragover",e=>{e.preventDefault(),ct.classList.add("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ct==null||ct.addEventListener("dragleave",e=>{e.preventDefault(),ct.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10")}),ct==null||ct.addEventListener("drop",e=>{e.preventDefault(),ct.classList.remove("border-[#9C6BFF]","bg-[#9C6BFF]/10"),Zo(e.dataTransfer.files)}),ot==null||ot.addEventListener("click",va),bt==null||bt.addEventListener("input",()=>{Ws()}),Gr==null||Gr.addEventListener("click",ba),ws.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.importTab;is=t,ws.forEach(s=>{s.dataset.importTab===t?(s.classList.add("bg-[#9C6BFF]","text-white"),s.classList.remove("border","border-slate-200","text-slate-700")):(s.classList.remove("bg-[#9C6BFF]","text-white"),s.classList.add("border","border-slate-200","text-slate-700"))}),Rs.forEach(s=>{s.dataset.importPanel===t?s.classList.remove("hidden"):s.classList.add("hidden")}),Ws()})}),Wr==null||Wr.addEventListener("click",async()=>{if(!qo)return;let e=qo.textContent||"";try{await navigator.clipboard.writeText(e),M("Template copi\xE9 !")}catch(t){console.error("[import] copy failed",t),M("Erreur copie")}}),Jr==null||Jr.addEventListener("click",async()=>{if(!Ao)return;let e=Ao.textContent||"";try{await navigator.clipboard.writeText(e),M("Prompt copi\xE9 !")}catch(t){console.error("[import] copy prompt failed",t),M("Erreur copie")}}),Zr==null||Zr.addEventListener("click",br),Jt==null||Jt.addEventListener("click",oa),Lt==null||Lt.addEventListener("click",e=>{e.target===Lt&&br()}),ye==null||ye.addEventListener("click",e=>{if(e.stopPropagation(),!Ls){let t=ls(),s=((t==null?void 0:t.type)||"").toLowerCase();s==="groupe"||s==="group"?Zt=t.id:Zt=null}la()}),document.addEventListener("click",e=>{Ls&&(pe!=null&&pe.contains(e.target)||ye!=null&&ye.contains(e.target)||Os())}),Ce.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let s=e.dataset.blockAdd;ca(s)})}),Ue==null||Ue.addEventListener("click",()=>{vr()}),Ne==null||Ne.addEventListener("click",()=>{wr&&Oo(wr),vr()}),ge==null||ge.addEventListener("click",e=>{e.target===ge&&vr()}),h==null||h.addEventListener("input",e=>{var o,i,l,u;let t=e.target;if(!t||!t.name)return;if(t.name==="group-columns-mobile"||t.name==="group-columns-desktop"){let C=((o=h.querySelector('[name="group-columns-mobile"]'))==null?void 0:o.value)||"1",D=((i=h.querySelector('[name="group-columns-desktop"]'))==null?void 0:i.value)||"3";ur(C,D)}if(t.name==="collection-columns-mobile"||t.name==="collection-columns-desktop"){let C=((l=h.querySelector('[name="collection-columns-mobile"]'))==null?void 0:l.value)||"1",D=((u=h.querySelector('[name="collection-columns-desktop"]'))==null?void 0:u.value)||"3";Fs(C,D)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let C=ls(),D=ns(C);if(C&&D){let ne=as(D);me(C.id,ne)}}}),h==null||h.addEventListener("change",e=>{var o,i;let t=e.target;if(!t||!t.name)return;if(t.hasAttribute("data-color-select")){let l=t.options[t.selectedIndex],u=((o=l==null?void 0:l.dataset)==null?void 0:o.color)||"#ffffff",C=(i=t.closest(".relative"))==null?void 0:i.querySelector("[data-color-preview]");C&&(u==="transparent"?C.style.background=es:C.style.background=u)}let s=t.closest("[data-block-panel]");if(s&&s.dataset.blockPanel==="appearance"){let l=ls(),u=ns(l);if(l&&u){let C=as(u);me(l.id,C)}}}),We==null||We.addEventListener("change",e=>{let t=e.target;so((t==null?void 0:t.value)||"")}),h==null||h.addEventListener("submit",we),rs==null||rs.addEventListener("click",e=>{e.preventDefault();let t=ls();t&&Ds(t)}),U.length>0&&(U.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.previewView||"desktop";Mo(t)})}),Mo("desktop")),p==null||p.addEventListener("load",()=>{var o;to=!0,qt("\xC0 jour"),Vs(Ye);let e=p==null?void 0:p.contentDocument;if(!e||!m||e.documentElement.dataset.rawditPreviewSelectBound==="true")return;if(e.documentElement.dataset.rawditPreviewSelectBound="true",!e.getElementById("rawdit-preview-select-style")){let i=e.createElement("style");i.id="rawdit-preview-select-style",i.textContent=`
	          [data-preview-block]{ cursor:pointer; }
	          [data-preview-block]:hover{ outline:2px solid var(--color-accent, #9C6BFF); outline-offset:2px; }
	        `,(o=e.head)==null||o.appendChild(i)}let t=i=>{let l=((i==null?void 0:i.type)||"").toLowerCase();return l==="groupe"||l==="group"||l==="sections"||l==="grid"},s=i=>{if(!m||!i||(m.blocks||[]).some(l=>l.id===i))return null;for(let l of m.blocks||[])if(!(!t(l)||!Array.isArray(l.children))&&l.children.some(u=>u.id===i))return l.id;return null};e.addEventListener("click",i=>{var ne,ae,ve;let l=i.target,u=(ne=l==null?void 0:l.closest)==null?void 0:ne.call(l,"[data-preview-block]"),C=((ae=u==null?void 0:u.getAttribute)==null?void 0:ae.call(u,"data-preview-block"))||"";if(!C)return;i.preventDefault(),i.stopPropagation(),(ve=i.stopImmediatePropagation)==null||ve.call(i);let D=s(C);Ft(C,D)},!0)}),se==null||se.addEventListener("click",()=>{let e=window.open("","_blank");if(!e)return;e.opener=null;let t=e.document;t.open(),t.write(eo||d()),t.close()});let Ko=e=>{var t,s,o;$&&(e?($.classList.remove("hidden"),m&&(R&&(R.value=((t=m.seo)==null?void 0:t.title)||""),k&&(k.value=((s=m.seo)==null?void 0:s.description)||""),L&&(L.checked=((o=m.seo)==null?void 0:o.indexed)!==!1))):$.classList.add("hidden"))},Lr=(e,t="muted")=>{if(!w)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";w.textContent=e||"",w.className=`text-sm ${s}`};T==null||T.addEventListener("click",()=>{let e=$&&!$.classList.contains("hidden");Ko(!e)}),F==null||F.addEventListener("click",()=>Ko(!1)),P==null||P.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){Lr("Aucune page active.","error");return}q&&(q.disabled=!0),Lr("");try{let s={title:((R==null?void 0:R.value)||"").trim(),description:((k==null?void 0:k.value)||"").trim(),indexed:(t=L==null?void 0:L.checked)!=null?t:!0},o={...m,seo:s},i=await os(o);i&&(m=i,Lr("SEO enregistr\xE9.","success"),M("SEO mis \xE0 jour"),O(m))}catch(s){console.error("[seo] save failed",s),Lr(s.message||"Erreur lors de la sauvegarde.","error")}finally{q&&(q.disabled=!1)}});let ao=()=>{var e,t;if(!(!Q&&!ke)){if(!m){Q&&(Q.checked=!0),ke&&(ke.value="");return}Q&&(Q.checked=((e=m.accessibility)==null?void 0:e.showInMainNav)!==!1),ke&&(ke.value=((t=m.accessibility)==null?void 0:t.mainLabel)||"")}},_o=e=>{H&&(e?(ao(),H.classList.remove("hidden")):H.classList.add("hidden"))},kr=(e,t="muted")=>{if(!Te)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";Te.textContent=e||"",Te.className=`text-sm ${s}`};E==null||E.addEventListener("click",()=>{let e=H&&!H.classList.contains("hidden");_o(!e)}),K==null||K.addEventListener("click",()=>_o(!1)),te==null||te.addEventListener("submit",async e=>{var t;if(e.preventDefault(),!m){kr("Aucune page active.","error");return}Ge&&(Ge.disabled=!0),kr("");try{let s={showInMainNav:(t=Q==null?void 0:Q.checked)!=null?t:!0,mainLabel:((ke==null?void 0:ke.value)||"").trim()},o={...m,accessibility:s},i=await os(o);i&&(m=i,ao(),kr("Accessibilit\xE9 enregistr\xE9e.","success"),M("Accessibilit\xE9 mise \xE0 jour"),Kt(fe,He),O(m))}catch(s){console.error("[accessibility] save failed",s),kr(s.message||"Erreur lors de la sauvegarde.","error")}finally{Ge&&(Ge.disabled=!1)}});let Yo=e=>{G&&(e?(G.classList.remove("hidden"),m&&(N&&(N.value=m.name||""),x&&(x.value=m.title||""),X&&(X.value=m.slug||""),J&&(J.value=m.description||""))):G.classList.add("hidden"))},ks=(e,t="muted")=>{if(!g)return;let s=t==="success"?"text-emerald-600":t==="error"?"text-rose-600":"text-slate-500";g.textContent=e||"",g.className=`text-sm ${s}`};Ee==null||Ee.addEventListener("click",()=>{let e=G&&!G.classList.contains("hidden");Yo(!e)}),Ie==null||Ie.addEventListener("click",()=>Yo(!1)),$e==null||$e.addEventListener("submit",async e=>{if(e.preventDefault(),!m){ks("Aucune page active.","error");return}z&&(z.disabled=!0),ks("");try{let t=((N==null?void 0:N.value)||"").trim(),s=((x==null?void 0:x.value)||"").trim(),o=((X==null?void 0:X.value)||"").trim(),i=((J==null?void 0:J.value)||"").trim();if(!s){ks("Le titre est requis.","error"),z&&(z.disabled=!1);return}if(!o||!o.startsWith("/")){ks("Le slug doit commencer par /.","error"),z&&(z.disabled=!1);return}let l={...m,name:t||s,title:s,slug:o,description:i},u=await os(l);u&&(m=u,fe=fe.map(C=>C.id===u.id?u:C),ks("Propri\xE9t\xE9s enregistr\xE9es.","success"),M("Page mise \xE0 jour"),Po(m),Kt(fe,He),O(m))}catch(t){console.error("[page-props] save failed",t),ks(t.message||"Erreur lors de la sauvegarde.","error")}finally{z&&(z.disabled=!1)}});let xa=e=>{let t=e.target.closest("[data-block-item]");if(!t||!yr()){e.preventDefault();return}if(Dt=t.dataset.blockId||null,Gs=t.dataset.parentBlockId||null,!Dt){e.preventDefault();return}e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",Dt),e.dataTransfer.setData("application/x-rawdit-parent",Gs||""),requestAnimationFrame(()=>{t.classList.add("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]")})},Qo=()=>{I==null||I.querySelectorAll("[data-block-item]").forEach(e=>{e.classList.remove("opacity-50","scale-[0.98]","shadow-lg","ring-2","ring-[#9C6BFF]","border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")})},wa=()=>{Dt=null,Gs=null,Qo()},Sa=e=>{if(!Dt||!yr())return;let t=e.target.closest("[data-block-item]");if(!t||t.dataset.blockId===Dt)return;e.preventDefault(),e.dataTransfer.dropEffect="move";let s=t.getBoundingClientRect(),o=s.top+s.height/2,i=e.clientY<o;I==null||I.querySelectorAll("[data-block-item]").forEach(l=>{l!==t&&l.dataset.blockId!==Dt&&l.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6")}),t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),i?t.classList.add("border-t-4","border-t-[#9C6BFF]","pt-6"):t.classList.add("border-b-4","border-b-[#9C6BFF]","pb-6"),t.dataset.dropPosition=i?"before":"after"},La=e=>{let t=e.target.closest("[data-block-item]");if(!t)return;let s=e.relatedTarget;s&&t.contains(s)||(t.classList.remove("border-t-4","border-b-4","border-t-[#9C6BFF]","border-b-[#9C6BFF]","pt-6","pb-6"),delete t.dataset.dropPosition)},ka=e=>{if(!Dt||!yr())return;e.preventDefault();let t=e.target.closest("[data-block-item]"),s=Dt,o=Gs,i=(t==null?void 0:t.dataset.dropPosition)||"after";Dt=null,Gs=null,Qo();let l=(t==null?void 0:t.dataset.blockId)||null;if(!m||!s)return;if(!l){o&&Yr(o,s,m.blocks.length);return}if(s===l)return;let u=(t==null?void 0:t.dataset.parentBlockId)||null;if(o){if(u){if(u===o){ta(o,s,l,i);return}Ho(s,u,l,i);return}let C=m.blocks.findIndex(ne=>ne.id===l);if(C===-1){Yr(o,s,m.blocks.length);return}let D=Do(C,i,1);Yr(o,s,D!=null?D:m.blocks.length);return}if(u){Ho(s,u,l,i);return}aa(s,l,i)},Dt=null,Gs=null;I==null||I.addEventListener("dragstart",xa),I==null||I.addEventListener("dragend",wa),I==null||I.addEventListener("dragover",Sa),I==null||I.addEventListener("dragleave",La),I==null||I.addEventListener("drop",ka),Or(),document.addEventListener("ai-page-updated",async e=>{var t;console.log("[design] Rafra\xEEchissement d\xE9clench\xE9 par IA",e.detail);try{let s=await Ns();if(fe=(Array.isArray(s)?s:[]).map(o=>ds(o)),(t=e.detail)!=null&&t.pageId){let o=fe.find(i=>i.id===e.detail.pageId);o&&(m=o,He=o.id,O(m),Ct(m),M("Page mise \xE0 jour par l'IA"))}else if(He){let o=fe.find(i=>i.id===He);o&&(m=o,O(m),Ct(m))}}catch(s){console.error("[design] Erreur rafra\xEEchissement IA:",s)}})}function kn(){var Ds,as,qt;let r=document.querySelector("[data-collection-list]");if(!r)return;let n={empty:document.querySelector('[data-content-view="empty"]'),header:document.querySelector('[data-content-view="header"]'),collection:document.querySelector('[data-content-view="collection"]'),footer:document.querySelector('[data-content-view="footer"]')},c=document.querySelectorAll("[data-content-section]"),f=document.querySelectorAll("[data-content-section-trigger]"),p=document.querySelector("[data-header-status]"),v=document.querySelector("[data-footer-status]"),V=document.querySelector("[data-collection-count]"),U=document.querySelector("[data-item-panel]"),W=document.querySelectorAll("[data-item-panel-close]"),se=document.querySelector("[data-collection-empty]"),_=document.querySelector("[data-collection-items-empty]"),S=document.querySelector("[data-item-table-wrapper]"),T=document.querySelector("[data-item-table-body]"),$=document.querySelector("[data-collection-title]"),F=document.querySelector("[data-collection-description]"),P=document.querySelector("[data-item-add]"),R=document.querySelector("[data-item-detail-empty]"),k=document.querySelector("[data-item-form]"),L=k?{title:k.querySelector('[name="item-title"]'),slug:k.querySelector('[name="item-slug"]'),excerpt:k.querySelector('[name="item-excerpt"]'),content:k.querySelector('[name="item-content"]'),image:k.querySelector('[name="item-image"]'),ctaText:k.querySelector('[name="item-cta-text"]'),ctaUrl:k.querySelector('[name="item-cta-url"]'),status:k.querySelector('[name="item-status"]')}:{},w=document.querySelector("[data-item-status-badge]"),q=document.querySelector("[data-item-delete]"),E=document.querySelector("[data-item-delete-modal]"),H=document.querySelector("[data-item-delete-cancel]"),K=document.querySelector("[data-item-delete-confirm]"),te=document.querySelector("[data-item-cancel]"),Q=document.querySelector("[data-item-save]"),ke="rounded-full px-3 py-1 text-xs font-semibold",Te=()=>window.matchMedia("(min-width: 1024px)").matches,Ge=a=>{if(!U||Te())return;let d=U.dataset.itemPanelHidden||"",b=U.dataset.itemPanelVisible||"";a?(Ht(U,b,"remove"),Ht(U,d,"add"),U.classList.add("pointer-events-none"),U.dataset.itemPanelOpen="false"):(Ht(U,d,"remove"),Ht(U,b,"add"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true")},Ee=()=>{if(U){if(Te()){let a=U.dataset.itemPanelHidden||"";Ht(U,a,"remove"),U.classList.remove("pointer-events-none"),U.dataset.itemPanelOpen="true";return}k!=null&&k.classList.contains("hidden")?Ge(!0):Ge(!1)}};window.addEventListener("resize",Ee),W.forEach(a=>{a.addEventListener("click",d=>{d.preventDefault(),!Te()&&Rt()})}),Ee();let G={logo:document.querySelector('[name="header-logo"]'),logoAlt:document.querySelector('[name="header-logo-alt"]'),logoUrl:document.querySelector('[name="header-logo-url"]'),ctaText:document.querySelector('[name="header-cta-text"]'),ctaUrl:document.querySelector('[name="header-cta-url"]'),ctaStyle:document.querySelector('[name="header-cta-style"]'),ctaTextColor:document.querySelector('[name="header-cta-text-color"]'),position:document.querySelector('[name="header-position"]'),bg:document.querySelector('[name="header-bg"]')},Ie=document.querySelector("[data-header-nav-order-list]"),$e=document.querySelector("[data-header-save]"),N=document.querySelector("[data-template-header-nav-item]"),x=document.querySelector("[data-header-pages-list]"),X=[],J=[],g={linkedin:document.querySelector('[name="footer-social-linkedin"]'),twitter:document.querySelector('[name="footer-social-twitter"]'),instagram:document.querySelector('[name="footer-social-instagram"]'),facebook:document.querySelector('[name="footer-social-facebook"]'),youtube:document.querySelector('[name="footer-social-youtube"]'),github:document.querySelector('[name="footer-social-github"]'),copyright:document.querySelector('[name="footer-copyright"]'),legalUrl:document.querySelector('[name="footer-legal-url"]'),privacyUrl:document.querySelector('[name="footer-privacy-url"]'),bg:document.querySelector('[name="footer-bg"]'),columnsCount:document.querySelector('[name="footer-columns-count"]')},z=document.querySelector("[data-footer-columns-list]"),I=document.querySelector("[data-footer-column-add]"),re=document.querySelector("[data-footer-save]"),ce=document.querySelector("[data-template-footer-column]"),ye=document.querySelector("[data-template-footer-link]"),pe=null,Ce={nav:[],logo:{},cta:{},style:{}},ge={columns:[],socials:{},copyright:"",legal:{},style:{}},Ne=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),Ue=Ne,xe=Ne?`/api/sites/${encodeURIComponent(Ne)}/layout`:null,Me=a=>{Object.entries(n).forEach(([d,b])=>{b&&b.classList.toggle("hidden",d!==a)}),c.forEach(d=>{d.dataset.contentSection===a?d.dataset.active="true":delete d.dataset.active}),pe=a};c.forEach(a=>{a.addEventListener("click",()=>{let d=a.dataset.contentSection;(d==="header"||d==="footer")&&Me(d)})}),f.forEach(a=>{a.addEventListener("click",()=>{let d=a.dataset.contentSectionTrigger;d&&Me(d)})});let Re=async()=>{if(!(!Ue||!x))try{let a=await fetch(`/api/sites/${Ue}/pages`,{credentials:"include"});if(!a.ok)throw new Error("Erreur chargement pages");X=await a.json(),B()}catch(a){console.error("[header] load pages error",a),x.innerHTML='<p class="text-xs text-red-500">Erreur chargement pages</p>'}},St=a=>{let d=(a||"").toString().trim();if(!d||d==="/"||d==="index")return"/";let b=d.toLowerCase();if(d.startsWith("#")||b.startsWith("mailto:")||b.startsWith("tel:")||/^[a-z]+:\/\//i.test(d))return d;if(d.startsWith("//")){let Y=d.slice(2);if(Y.includes("."))return d;let ue=Y.replace(/^\/+/,"").replace(/\/+$/,"");return ue?`/${ue}`:"/"}let j=d.replace(/^\/+/,"").replace(/\/+$/,"");return j?`/${j}`:"/"},y=(a,d="")=>{let b=(a||"").toString().trim();return b?St(b):d},B=()=>{if(x){if(x.innerHTML="",X.length===0){x.innerHTML='<p class="text-xs text-slate-400 italic">Aucune page disponible</p>';return}X.forEach(a=>{let d=a.slug||a.id||"",b=a.name||a.title||d,j=St(d),Y=J.some(O=>O.url===j),ue=document.createElement("label");ue.className="flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer transition-colors",ue.innerHTML=`
          <input type="checkbox" name="nav-page" value="${j}" data-page-title="${b}"
                 class="w-4 h-4 rounded border-slate-300 text-violet-600 focus:ring-violet-500"
                 ${Y?"checked":""}>
          <span class="flex-1 text-sm text-slate-700">${b}</span>
          <span class="text-xs text-slate-400">${j}</span>
        `;let me=ue.querySelector("input");me.addEventListener("change",()=>{if(me.checked){let O=J.findIndex(we=>we.url===j);O===-1?J.push({label:b,url:j}):J[O]={...J[O],label:b}}else J=J.filter(O=>O.url!==j);h()}),x.appendChild(ue)}),h()}},h=()=>{if(Ie){if(Ie.innerHTML="",!J||J.length===0){let a=document.createElement("p");a.className="text-xs text-slate-400 italic",a.textContent="Aucun lien de menu s\xE9lectionn\xE9.",Ie.appendChild(a);return}J.forEach((a,d)=>{let b=document.createElement("div");b.className="flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2",b.dataset.navUrl=a.url;let j=document.createElement("div");j.className="flex-1 min-w-0";let Y=document.createElement("p");Y.className="text-sm font-medium text-slate-800 truncate",Y.textContent=a.label||a.url;let ue=document.createElement("p");ue.className="text-[11px] text-slate-400 truncate",ue.textContent=a.url,j.appendChild(Y),j.appendChild(ue);let me=document.createElement("div");me.className="flex items-center gap-1";let O=document.createElement("button");O.type="button",O.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:hover:bg-transparent",O.textContent="\u2191",O.setAttribute("aria-label",`Monter ${a.label||a.url}`),O.disabled=d===0,O.addEventListener("click",()=>{if(d<=0)return;let ee=[...J],je=ee[d-1];ee[d-1]=ee[d],ee[d]=je,J=ee,h()});let we=document.createElement("button");we.type="button",we.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:hover:bg-transparent",we.textContent="\u2193",we.setAttribute("aria-label",`Descendre ${a.label||a.url}`),we.disabled=d===J.length-1,we.addEventListener("click",()=>{if(d>=J.length-1)return;let ee=[...J],je=ee[d+1];ee[d+1]=ee[d],ee[d]=je,J=ee,h()});let Se=document.createElement("button");Se.type="button",Se.className="rounded-lg border border-slate-200 px-2 py-1 text-xs font-semibold text-rose-700 hover:bg-rose-50",Se.textContent="\u2715",Se.setAttribute("aria-label",`Retirer ${a.label||a.url}`),Se.addEventListener("click",()=>{J=J.filter(je=>je.url!==a.url);let ee=x==null?void 0:x.querySelector(`input[name="nav-page"][value="${CSS.escape(a.url)}"]`);ee&&(ee.checked=!1),h()}),me.appendChild(O),me.appendChild(we),me.appendChild(Se),b.appendChild(j),b.appendChild(me),Ie.appendChild(b)})}},de=()=>{var d,b,j,Y,ue,me,O,we,Se,ee,je,st;let a=(J||[]).map(qe=>({label:(qe.label||qe.url||"").toString().trim(),url:St(qe.url)})).filter(qe=>qe.url);return{logo:{src:((b=(d=G.logo)==null?void 0:d.value)==null?void 0:b.trim())||"",alt:((Y=(j=G.logoAlt)==null?void 0:j.value)==null?void 0:Y.trim())||"",url:y((ue=G.logoUrl)==null?void 0:ue.value,"/")},nav:a,cta:{text:((O=(me=G.ctaText)==null?void 0:me.value)==null?void 0:O.trim())||"",url:y((we=G.ctaUrl)==null?void 0:we.value,""),style:((Se=G.ctaStyle)==null?void 0:Se.value)||"primary",textColor:((ee=G.ctaTextColor)==null?void 0:ee.value)||""},style:{position:((je=G.position)==null?void 0:je.value)||"static",bg:((st=G.bg)==null?void 0:st.value)||"bg-white"}}},Pt=async a=>{var b,j,Y,ue,me,O,we,Se,ee,je,st,qe;if(!a)return;G.logo&&(G.logo.value=((b=a.logo)==null?void 0:b.src)||""),G.logoAlt&&(G.logoAlt.value=((j=a.logo)==null?void 0:j.alt)||""),G.logoUrl&&(G.logoUrl.value=y((Y=a.logo)==null?void 0:Y.url,"/")),G.ctaText&&(G.ctaText.value=((ue=a.cta)==null?void 0:ue.text)||""),G.ctaUrl&&(G.ctaUrl.value=y((me=a.cta)==null?void 0:me.url,"")),G.ctaStyle&&(G.ctaStyle.value=((O=a.cta)==null?void 0:O.style)||"primary"),G.ctaTextColor&&(G.ctaTextColor.value=((we=a.cta)==null?void 0:we.textColor)||""),G.position&&(G.position.value=((Se=a.style)==null?void 0:Se.position)||"static"),G.bg&&(G.bg.value=((ee=a.style)==null?void 0:ee.bg)||"bg-white"),J=(a.nav||[]).map(De=>({...De,url:St(De.url)})),await Re();let d=((je=a.logo)==null?void 0:je.src)||((st=a.nav)==null?void 0:st.length)>0||((qe=a.cta)==null?void 0:qe.text);p&&(p.classList.toggle("bg-green-500",!!d),p.classList.toggle("bg-slate-300",!d),p.title=d?"Configur\xE9":"Non configur\xE9")};$e==null||$e.addEventListener("click",async()=>{if(xe){$e.disabled=!0,$e.textContent="Enregistrement...";try{let a=de();if(!(await fetch(`${xe}/header`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");Ce=a,Pt(a),M("Header enregistr\xE9")}catch(a){console.error("[header] save error",a),M("Erreur lors de l'enregistrement","error")}finally{$e.disabled=!1,$e.textContent="Enregistrer"}}});let ts=(a,d="",b="")=>{if(!ye||!a)return;let j=ye.content.cloneNode(!0),Y=j.querySelector("[data-footer-link]"),ue=j.querySelector('[name="link-label"]'),me=j.querySelector('[name="link-url"]'),O=j.querySelector("[data-link-remove]");ue&&(ue.value=d),me&&(me.value=b),O==null||O.addEventListener("click",()=>Y==null?void 0:Y.remove()),a.appendChild(j)},ar=(a="",d=[])=>{if(!ce||!z)return;let b=ce.content.cloneNode(!0),j=b.querySelector("[data-footer-column]"),Y=b.querySelector('[name="column-title"]'),ue=b.querySelector("[data-column-links]"),me=b.querySelector("[data-column-link-add]"),O=b.querySelector("[data-column-remove]");Y&&(Y.value=a),d.forEach(we=>ts(ue,we.label,we.url)),me==null||me.addEventListener("click",()=>ts(ue)),O==null||O.addEventListener("click",()=>j==null?void 0:j.remove()),z.appendChild(b)},Ur=()=>{var d,b,j,Y,ue,me,O,we,Se,ee,je,st,qe,De,rt,At,ht,bs,Ze,Vt;let a=[];return z==null||z.querySelectorAll("[data-footer-column]").forEach(ys=>{var ct,vs;let lt=((vs=(ct=ys.querySelector('[name="column-title"]'))==null?void 0:ct.value)==null?void 0:vs.trim())||"",Hs=[];ys.querySelectorAll("[data-footer-link]").forEach(xs=>{var _e,ot,ws,Rs;let Us=((ot=(_e=xs.querySelector('[name="link-label"]'))==null?void 0:_e.value)==null?void 0:ot.trim())||"",Ke=((Rs=(ws=xs.querySelector('[name="link-url"]'))==null?void 0:ws.value)==null?void 0:Rs.trim())||"";(Us||Ke)&&Hs.push({label:Us,url:Ke})}),(lt||Hs.length>0)&&a.push({title:lt,links:Hs})}),{columns:a,socials:{linkedin:((b=(d=g.linkedin)==null?void 0:d.value)==null?void 0:b.trim())||"",twitter:((Y=(j=g.twitter)==null?void 0:j.value)==null?void 0:Y.trim())||"",instagram:((me=(ue=g.instagram)==null?void 0:ue.value)==null?void 0:me.trim())||"",facebook:((we=(O=g.facebook)==null?void 0:O.value)==null?void 0:we.trim())||"",youtube:((ee=(Se=g.youtube)==null?void 0:Se.value)==null?void 0:ee.trim())||"",github:((st=(je=g.github)==null?void 0:je.value)==null?void 0:st.trim())||""},copyright:((De=(qe=g.copyright)==null?void 0:qe.value)==null?void 0:De.trim())||"",legal:{url:((At=(rt=g.legalUrl)==null?void 0:rt.value)==null?void 0:At.trim())||"",privacyUrl:((bs=(ht=g.privacyUrl)==null?void 0:ht.value)==null?void 0:bs.trim())||""},style:{bg:((Ze=g.bg)==null?void 0:Ze.value)||"bg-slate-900 text-white",columnsCount:((Vt=g.columnsCount)==null?void 0:Vt.value)||"4"}}},Ps=a=>{var b,j,Y,ue,me,O,we,Se,ee,je,st;if(!a)return;g.linkedin&&(g.linkedin.value=((b=a.socials)==null?void 0:b.linkedin)||""),g.twitter&&(g.twitter.value=((j=a.socials)==null?void 0:j.twitter)||""),g.instagram&&(g.instagram.value=((Y=a.socials)==null?void 0:Y.instagram)||""),g.facebook&&(g.facebook.value=((ue=a.socials)==null?void 0:ue.facebook)||""),g.youtube&&(g.youtube.value=((me=a.socials)==null?void 0:me.youtube)||""),g.github&&(g.github.value=((O=a.socials)==null?void 0:O.github)||""),g.copyright&&(g.copyright.value=a.copyright||""),g.legalUrl&&(g.legalUrl.value=((we=a.legal)==null?void 0:we.url)||""),g.privacyUrl&&(g.privacyUrl.value=((Se=a.legal)==null?void 0:Se.privacyUrl)||""),g.bg&&(g.bg.value=((ee=a.style)==null?void 0:ee.bg)||"bg-slate-900 text-white"),g.columnsCount&&(g.columnsCount.value=((je=a.style)==null?void 0:je.columnsCount)||"4"),z&&(z.innerHTML=""),(a.columns||[]).forEach(qe=>ar(qe.title,qe.links));let d=((st=a.columns)==null?void 0:st.length)>0||a.copyright||Object.values(a.socials||{}).some(qe=>qe);v&&(v.classList.toggle("bg-green-500",!!d),v.classList.toggle("bg-slate-300",!d),v.title=d?"Configur\xE9":"Non configur\xE9")};I==null||I.addEventListener("click",()=>ar()),re==null||re.addEventListener("click",async()=>{if(xe){re.disabled=!0,re.textContent="Enregistrement...";try{let a=Ur();if(!(await fetch(`${xe}/footer`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).ok)throw new Error("Erreur serveur");ge=a,Ps(a),M("Footer enregistr\xE9")}catch(a){console.error("[footer] save error",a),M("Erreur lors de l'enregistrement","error")}finally{re.disabled=!1,re.textContent="Enregistrer"}}}),(async()=>{if(xe)try{let a=await fetch(xe,{credentials:"include"});if(a.ok){let d=await a.json();d.header&&(Ce=d.header,Pt(d.header)),d.footer&&(ge=d.footer,Ps(d.footer))}}catch(a){console.error("[layout] load error",a)}})();let ir=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),ut=ir?`/api/sites/${encodeURIComponent(ir)}/collections`:null,jt=[],ze=[],Oe=null,Je=null,mt=!1,Wt=!1,Ut=null,js=a=>{let d=(a||"").trim();if(!d)return"";if(d==="/")return"/";let j=d.replace(/^\//,"").split("/").map(Y=>Xt(Y||"")).filter(Y=>Y.length>0);return j.length?`/${j.join("/")}`:""},Rr=a=>{if(!a)return"\u2014";let d=new Date(a);return Number.isNaN(d.getTime())?"\u2014":d.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Gt=()=>{let a=jt.find(d=>d.id===Oe);$&&($.textContent=(a==null?void 0:a.name)||"S\xE9lectionnez une collection"),F&&(F.textContent=(a==null?void 0:a.description)||"")},ss=a=>{_&&(_.textContent=a||(Oe?"Aucun item dans cette collection pour le moment.":"Choisissez une collection dans le panneau de gauche."))},Rt=()=>{k&&(k.classList.add("hidden"),k.dataset.itemId=""),R==null||R.classList.remove("hidden"),w&&(w.className=`hidden ${ke}`,w.textContent=""),q&&(q.disabled=!0),Ee()},We=()=>{k&&(k.classList.remove("hidden"),R==null||R.classList.add("hidden"),Ee())},zt=()=>{P&&(P.disabled=!Oe,P.disabled?P.classList.add("opacity-60","pointer-events-none"):P.classList.remove("opacity-60","pointer-events-none"))},rs=a=>{if(!w)return;if(!a){w.className=`hidden ${ke}`,w.textContent="";return}let d=a.toLowerCase(),b="bg-slate-100 text-slate-600 border border-slate-200";d==="publi\xE9"||d==="publie"?b="bg-emerald-50 text-emerald-700 border border-emerald-100":d==="brouillon"&&(b="bg-amber-50 text-amber-700 border border-amber-100"),w.className=`${ke} ${b}`,w.textContent=a},Ms=()=>{if(r.innerHTML="",V&&(V.textContent=jt.length),!jt.length){se==null||se.classList.remove("hidden");return}se==null||se.classList.add("hidden"),jt.forEach(a=>{let d=a.id===Oe,b=document.createElement("button");b.type="button",b.dataset.collectionId=a.id,b.className=["w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-[#9C6BFF]/40",d?"bg-[#F7F0FF] border-[#9C6BFF]/40 text-slate-900":"border-slate-200 text-slate-700 hover:border-[#9C6BFF]/40"].join(" "),b.setAttribute("role","option"),d?b.setAttribute("aria-current","true"):b.removeAttribute("aria-current"),b.innerHTML=`
          <div class="flex items-center justify-between gap-2">
            <div>
              <p class="text-sm font-semibold">${a.name||a.id}</p>
              <p class="text-xs text-slate-500">${a.description||""}</p>
            </div>
            <span class="text-[11px] uppercase tracking-wide text-slate-400">${a.type||""}</span>
          </div>
        `,b.addEventListener("click",()=>{Fs(a.id)}),r.appendChild(b)})},gt=()=>{if(T){if(T.innerHTML="",!ze.length||!Oe){_==null||_.classList.remove("hidden"),ss(),S==null||S.classList.add("hidden");return}_==null||_.classList.add("hidden"),S==null||S.classList.remove("hidden"),ze.forEach(a=>{let d=document.createElement("tr");d.dataset.itemId=a.id;let b=a.id===Je&&!mt;d.className=["cursor-pointer transition focus-within:bg-[#F7F0FF]/70 focus:outline-none",b?"bg-[#F7F0FF]/70":"hover:bg-slate-50"].join(" "),d.tabIndex=0,d.setAttribute("role","button"),b?d.setAttribute("aria-current","true"):d.removeAttribute("aria-current");let j=a.status||"Brouillon",Y=j.toLowerCase(),ue=Y==="publi\xE9"||Y==="publie"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-amber-50 text-amber-700 border border-amber-100";d.innerHTML=`
          <td class="px-4 py-3 align-top">
            <div class="flex flex-col">
              <span class="text-sm font-semibold text-slate-900">${a.title||"Sans titre"}</span>
              <span class="text-xs text-slate-500">${a.summary||a.excerpt||""}</span>
            </div>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-600">${a.slug||""}</td>
          <td class="px-4 py-3 align-top">
            <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ue}">
              ${j}
            </span>
          </td>
          <td class="px-4 py-3 align-top text-sm text-slate-500">${Rr(a.updatedAt||a.createdAt)}</td>
        `;let me=()=>{lr(a.id)};d.addEventListener("click",me),d.addEventListener("keydown",O=>{(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),me())}),T.appendChild(d)})}},lr=a=>{let d=ze.find(b=>b.id===a);d&&(Je=d.id,mt=!1,Wt=!0,gs(d),gt())},gs=a=>{var d,b;if(!k||!a){Rt();return}We(),k.dataset.itemId=a.id,L.title&&(L.title.value=a.title||""),L.slug&&(L.slug.value=a.slug||""),L.excerpt&&(L.excerpt.value=a.summary||a.excerpt||""),L.content&&(L.content.value=a.content||""),L.image&&(L.image.value=a.image||""),L.ctaText&&(L.ctaText.value=((d=a.cta)==null?void 0:d.text)||a.ctaText||""),L.ctaUrl&&(L.ctaUrl.value=((b=a.cta)==null?void 0:b.url)||a.ctaUrl||""),L.status&&(L.status.value=a.status||"Brouillon"),rs(a.status||"Brouillon"),q&&(q.disabled=!1)},cr=()=>{var a;k&&(mt=!0,Je=null,Wt=!1,k.dataset.itemId="",k.reset(),L.status&&(L.status.value="Brouillon"),L.slug&&(L.slug.value=""),rs("Brouillon"),We(),q&&(q.disabled=!0),(a=L.title)==null||a.focus())},zr=()=>{var Se,ee,je,st,qe,De,rt,At;let a=(((Se=L.title)==null?void 0:Se.value)||"").trim(),d=(((ee=L.slug)==null?void 0:ee.value)||"").trim(),b=(((je=L.excerpt)==null?void 0:je.value)||"").trim(),j=(((st=L.content)==null?void 0:st.value)||"").trim(),Y=(((qe=L.image)==null?void 0:qe.value)||"").trim(),ue=(((De=L.ctaText)==null?void 0:De.value)||"").trim(),me=(((rt=L.ctaUrl)==null?void 0:rt.value)||"").trim(),O=((At=L.status)==null?void 0:At.value)||"Brouillon",we=ue||me?{text:ue,url:me}:null;return{title:a,slug:js(d||a),summary:b,excerpt:b,content:j,image:Y,status:O,...we&&{cta:we}}},dr=a=>{Q&&(Q.disabled=a,Q.textContent=a?"Enregistrement\u2026":"Enregistrer"),q&&!mt&&Je&&(q.disabled=a)},ur=async a=>{if(!ut)return[];let d=await fetch(`${ut}/${encodeURIComponent(a)}/items`,{headers:{Accept:"application/json"}});if(!d.ok){let j=await d.json().catch(()=>({}));throw new Error(j.message||"Impossible de charger les items.")}let b=await d.json().catch(()=>({}));return Array.isArray(b.items)?b.items:[]},Fs=async a=>{if(a&&(Oe=a,Je=null,mt=!1,Wt=!1,Me("collection"),Gt(),zt(),Ms(),Rt(),ze=[],gt(),ss("Chargement des items\u2026"),_==null||_.classList.remove("hidden"),S==null||S.classList.add("hidden"),!!ut))try{ze=await ur(a),gt(),ze.length||ss()}catch(d){console.error("[content] items failed",d),M(d.message||"Impossible de charger les items."),ze=[],gt()}},Ns=async(a,d)=>{if(!ut)throw new Error("Site inconnu.");let b=await fetch(`${ut}/${encodeURIComponent(a)}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!b.ok){let j=await b.json().catch(()=>({}));throw new Error(j.message||"Impossible de cr\xE9er cet item.")}return b.json()},Vr=async(a,d,b)=>{if(!ut)throw new Error("Site inconnu.");let j=await fetch(`${ut}/${encodeURIComponent(a)}/items/${encodeURIComponent(d)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!j.ok){let Y=await j.json().catch(()=>({}));throw new Error(Y.message||"Impossible de sauvegarder cet item.")}return j.json()},os=async(a,d)=>{if(!ut)throw new Error("Site inconnu.");let b=await fetch(`${ut}/${encodeURIComponent(a)}/items/${encodeURIComponent(d)}`,{method:"DELETE"});if(!b.ok){let j=await b.json().catch(()=>({}));throw new Error(j.message||"Impossible de supprimer cet item.")}},Or=async()=>{var a;if(!ut){se==null||se.classList.remove("hidden"),Oe=null,ze=[],gt(),Gt(),zt();return}try{let d=await fetch(ut,{headers:{Accept:"application/json"}});if(!d.ok)throw new Error("Impossible de charger les collections.");let b=await d.json().catch(()=>[]);if(jt=Array.isArray(b)?b:[],Ms(),jt.length>0){let j=((a=jt.find(Y=>Y.id===Oe))==null?void 0:a.id)||jt[0].id;Fs(j)}else Oe=null,ze=[],Gt(),zt(),gt()}catch(d){console.error("[content] load collections",d),M(d.message||"Impossible de charger les collections.")}};P==null||P.addEventListener("click",()=>{if(!Oe){M("S\xE9lectionnez d\u2019abord une collection.");return}cr(),gt()}),te==null||te.addEventListener("click",a=>{if(a.preventDefault(),mt){mt=!1,Je=null,Rt(),gt();return}if(Je){let d=ze.find(b=>b.id===Je);gs(d)}else Rt()}),(Ds=L.status)==null||Ds.addEventListener("change",()=>{rs(L.status.value)}),(as=L.title)==null||as.addEventListener("input",()=>{!mt||!L.slug||Wt||(L.slug.value=js(L.title.value))}),(qt=L.slug)==null||qt.addEventListener("input",()=>{mt&&(Wt=!0)}),k==null||k.addEventListener("submit",async a=>{var b;if(a.preventDefault(),!Oe){M("S\xE9lectionnez une collection.");return}let d=zr();if(!d.title){M("Le titre est requis."),(b=L.title)==null||b.focus();return}dr(!0);try{let j;mt||!Je?(j=await Ns(Oe,d),ze=[...ze,j],M("Item cr\xE9\xE9")):(j=await Vr(Oe,Je,d),ze=ze.map(Y=>Y.id===j.id?j:Y),M("Item mis \xE0 jour")),mt=!1,Je=j.id,gs(j),gt()}catch(j){console.error("[content] save item failed",j),M(j.message||"Impossible de sauvegarder cet item.")}finally{dr(!1)}});let hs=()=>{E&&(E.classList.add("hidden"),E.classList.remove("flex"),Ut=null)},ns=()=>{!E||!Je||(Ut=Je,E.classList.remove("hidden"),E.classList.add("flex"))};q==null||q.addEventListener("click",a=>{a.preventDefault(),Je&&ns()}),H==null||H.addEventListener("click",()=>{hs()}),E==null||E.addEventListener("click",a=>{a.target===E&&hs()}),K==null||K.addEventListener("click",async()=>{if(!Ut||!Oe){hs();return}K.disabled=!0,K.textContent="Suppression\u2026";try{await os(Oe,Ut),ze=ze.filter(a=>a.id!==Ut),Je===Ut&&(Je=null,Rt()),M("Item supprim\xE9"),gt()}catch(a){console.error("[content] delete item failed",a),M(a.message||"Impossible de supprimer cet item.")}finally{K.disabled=!1,K.textContent="Supprimer",hs()}}),Gt(),zt(),Or()}function Cn(){let r=document.querySelector("[data-deploy-form]");if(!r)return;let n=document.querySelector("[data-deploy-protocol]"),c=document.querySelector("[data-deploy-host]"),f=document.querySelector("[data-deploy-port]"),p=document.querySelector("[data-deploy-user]"),v=document.querySelector("[data-deploy-password]"),V=document.querySelector("[data-deploy-show-password]"),U=document.querySelector("[data-deploy-remote-path]"),W=document.querySelector("[data-deploy-feedback]"),se=document.querySelector("[data-deploy-save]"),_=document.querySelector("[data-deploy-test]"),S=document.querySelector("[data-deploy-trigger]"),T=document.querySelector("[data-deploy-history]"),$=document.querySelector("[data-deploy-log]"),F=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),P=F?`/api/sites/${encodeURIComponent(F)}/deploy-config`:null,R=F?`/api/sites/${encodeURIComponent(F)}/deploy`:null,k=F?`/api/sites/${encodeURIComponent(F)}/deploy-log`:null,L=!1,w=null,q=N=>{let x=(N||"").trim();return x?x.startsWith("/")?x:`/${x}`:"/www"},E=(N,x="muted")=>{if(!W)return;let X="inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",J=x==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":x==="error"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-slate-50 text-slate-600 border border-slate-100";if(!N){W.textContent="",W.className="text-sm text-slate-500";return}let g=x==="success"?"\u2705":x==="error"?"\u274C":"\u2139\uFE0F";W.innerHTML=`<span class="${X} ${J}">${g}<span>${N}</span></span>`,W.className="text-sm"},H=(N=null)=>{w=N;let x=!!N,X='<svg class="h-4 w-4 animate-spin text-white" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>';se&&(se.disabled=x,se.innerHTML=N==="save"?`<span class="inline-flex items-center gap-2">${X}<span>Enregistrement\u2026</span></span>`:"Enregistrer"),_&&(_.disabled=x,_.innerHTML=N==="test"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-slate-200 border-t-slate-600"></span><span>Test en cours\u2026</span></span>':"Tester la connexion"),S&&(S.disabled=x&&N!==null,S.innerHTML=N==="deploy"?'<span class="inline-flex items-center gap-2"><span class="h-4 w-4 animate-spin rounded-full border-2 border-white/60 border-t-white"></span><span>D\xE9ploiement\u2026</span></span>':"D\xE9ployer maintenant")},K=N=>{n&&(n.value=N.protocol||"sftp"),c&&(c.value=N.host||""),f&&(f.value=N.port||""),p&&(p.value=N.user||""),U&&(U.value=N.remotePath||"/www"),L=!!N.hasPassword,v&&(v.value="",v.placeholder=L?"Non affich\xE9":"Mot de passe")},te=(N=[])=>{if(T){if(T.innerHTML="",!N.length){let x=document.createElement("li");x.className="text-slate-500",x.textContent="Aucun d\xE9ploiement pour le moment.",T.appendChild(x);return}N.forEach(x=>{let X=document.createElement("li");X.className="flex items-center justify-between gap-2 rounded-xl border border-slate-200 px-3 py-2";let J=x.status==="success"?'<span class="rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-semibold text-emerald-700">Succ\xE8s</span>':'<span class="rounded-full bg-rose-50 px-2 py-0.5 text-[11px] font-semibold text-rose-700">\xC9chec</span>',g=x.finishedAt||x.startedAt||"",z=x.durationMs&&Number(x.durationMs)>=0?`${Math.round(Number(x.durationMs)/1e3)}s`:"";X.innerHTML=`
          <div class="space-y-1">
            <div class="flex items-center gap-2">${J}<span class="text-xs text-slate-500">${g}</span></div>
            <p class="text-sm text-slate-800">${x.message||""}</p>
          </div>
          <div class="text-xs text-slate-500">${z}</div>
        `,X.dataset.deployId=x.id||"",X.addEventListener("click",()=>{x.logs&&$&&($.textContent=x.logs.join(`
`))}),T.appendChild(X)})}},Q=(N=[])=>{$&&($.textContent=N.length?N.join(`
`):"Aucun log pour le moment.")},ke=async()=>{var N;if(k)try{let x=await fetch(k,{headers:{Accept:"application/json"}});if(!x.ok){if(x.status===404){te([]),Q(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw new Error("Impossible de charger l\u2019historique.")}let X=await x.json().catch(()=>({})),J=Array.isArray(X.entries)?X.entries:[];te(J),(N=J[0])!=null&&N.logs&&Q(J[0].logs)}catch(x){console.error("[deploy] history failed",x)}},Te=async()=>{if(!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}H("load");try{let N=await fetch(P,{headers:{Accept:"application/json"}}),x=await N.json().catch(()=>({}));N.ok?(K(x||{}),E("Configuration charg\xE9e.","muted")):(K(x||{}),E(x.message||"Configuration par d\xE9faut charg\xE9e.","muted"))}catch(N){console.error("[deploy] load failed",N),E(N.message||"Erreur lors du chargement.","error")}finally{H(null)}},Ge=()=>{let N={protocol:(n==null?void 0:n.value)||"sftp",host:(c==null?void 0:c.value.trim())||"",port:Number(f==null?void 0:f.value)||void 0,user:(p==null?void 0:p.value.trim())||"",remotePath:q((U==null?void 0:U.value)||"/www")},x=(v==null?void 0:v.value)||"";return x.trim().length>0&&(N.password=x),N};r.addEventListener("submit",async N=>{if(N.preventDefault(),!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}let x=Ge();H("save");try{let X=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!X.ok){let g=await X.json().catch(()=>({}));throw new Error(g.message||"Sauvegarde impossible.")}let J=await X.json();K(J||{}),E("Configuration enregistr\xE9e.","success"),M("Configuration d\xE9ploiement sauvegard\xE9e")}catch(X){console.error("[deploy] save failed",X),E(X.message||"Erreur lors de la sauvegarde.","error")}finally{H(null)}}),_==null||_.addEventListener("click",async()=>{if(!P){E("Aucun site actif s\xE9lectionn\xE9.","error");return}let N=Ge();if(!N.host||!N.user||!N.remotePath){E("Remplissez les champs requis avant de tester.","error");return}H("test");try{let x=await fetch(`${P}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),X=await x.json().catch(()=>({}));if(!x.ok||X.success===!1){E(X.message||"Test de connexion \xE9chou\xE9.","error");return}E(X.message||"Connexion OK.","success"),M("Test de connexion r\xE9ussi")}catch(x){console.error("[deploy] test failed",x),E(x.message||"Test de connexion \xE9chou\xE9.","error")}finally{H(null)}}),S==null||S.addEventListener("click",async()=>{if(!R){E("Aucun site actif s\xE9lectionn\xE9.","error");return}H("deploy"),Q(["D\xE9ploiement en cours\u2026"]);try{let N=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge())}),x=await N.json().catch(()=>({}));if(!N.ok){if(N.status===404){E("API d\xE9ploiement indisponible (red\xE9marre le serveur).","error"),Q(["API d\xE9ploiement indisponible (red\xE9marre le serveur)."]);return}throw Q(x.logs||[]),new Error(x.message||"D\xE9ploiement \xE9chou\xE9.")}Q(x.logs||[]),await ke(),M("D\xE9ploiement termin\xE9")}catch(N){console.error("[deploy] run failed",N),E(N.message||"D\xE9ploiement \xE9chou\xE9.","error")}finally{H(null)}}),V==null||V.addEventListener("change",()=>{v&&(v.type=V.checked?"text":"password")});let Ee=document.querySelector("[data-download-build]"),G=document.querySelector("[data-download-feedback]"),Ie=F?`/api/sites/${encodeURIComponent(F)}/download`:null,$e=(N,x="muted")=>{if(!G)return;let X=x==="success"?"text-emerald-600":x==="error"?"text-rose-600":"text-slate-500";G.textContent=N||"",G.className=`text-sm ${X}`};Ee==null||Ee.addEventListener("click",async()=>{if(!Ie){$e("Aucun site actif s\xE9lectionn\xE9.","error");return}Ee.disabled=!0;let N=Ee.innerHTML;Ee.innerHTML=`
        <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span>Build en cours...</span>
      `,$e("G\xE9n\xE9ration du build en cours...","muted");try{let x=await fetch(Ie);if(!x.ok){let z=await x.json().catch(()=>({}));throw new Error(z.message||"Impossible de g\xE9n\xE9rer le ZIP.")}let X=await x.blob(),J=window.URL.createObjectURL(X),g=document.createElement("a");g.href=J,g.download=`${F}-build.zip`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(J),$e("T\xE9l\xE9chargement termin\xE9 !","success"),M("Build t\xE9l\xE9charg\xE9 avec succ\xE8s")}catch(x){console.error("[download] failed",x),$e(x.message||"Erreur lors du t\xE9l\xE9chargement.","error")}finally{Ee.disabled=!1,Ee.innerHTML=N}}),Te(),ke()}function En(){let r=document.querySelectorAll("[data-settings-tab]"),n=document.querySelectorAll("[data-settings-panel]"),c=document.querySelector("[data-admin-password-form]"),f=document.querySelector("[data-site-config-form]"),p=document.querySelector("[data-site-config-feedback]"),v=document.querySelector("[data-theme-form]"),V=S=>{r.forEach(T=>{let $=T.dataset.settingsTab===S;T.setAttribute("aria-selected",$?"true":"false"),T.classList.toggle("bg-[#9C6BFF]",$),T.classList.toggle("text-white",$)}),n.forEach(T=>{T.classList.toggle("hidden",T.dataset.settingsPanel!==S)})};if(r.forEach(S=>{S.addEventListener("click",()=>V(S.dataset.settingsTab||"account"))}),V("account"),c){let S=c.querySelector("[data-admin-password-feedback]"),T=c.querySelector("[data-admin-password-submit]"),$=(F,P="muted")=>{if(!S)return;let R=P==="success"?"text-emerald-600":P==="error"?"text-rose-600":"text-slate-500";S.textContent=F||"",S.className=`text-sm ${R}`};c.addEventListener("submit",async F=>{F.preventDefault();let P=new FormData(c),R=P.get("currentPassword")||"",k=P.get("newPassword")||"",L=P.get("confirmPassword")||"";if(!R||!k||!L){$("Compl\xE8te tous les champs.","error");return}T&&(T.disabled=!0),$("");try{let w=await fetch("/api/admin/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:R,newPassword:k,confirmPassword:L})}),q=await w.json().catch(()=>({}));if(!w.ok||q.success===!1)throw new Error(q.message||"Impossible de mettre \xE0 jour le mot de passe.");$(q.message||"Mot de passe mis \xE0 jour.","success"),c.reset()}catch(w){console.error("[settings] change password failed",w),$(w.message||"Erreur lors de la mise \xE0 jour.","error")}finally{T&&(T.disabled=!1)}})}if(f){let S=f.querySelector("[data-site-name]"),T=f.querySelector("[data-site-language]"),$=f.querySelector("[data-site-tagline]"),F=f.querySelector("[data-site-save]"),P=(w,q="muted")=>{if(!p)return;let E=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";p.textContent=w||"",p.className=`text-sm ${E}`},R=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),k=R?`/api/sites/${encodeURIComponent(R)}/config/site`:null,L=async()=>{if(k)try{let w=await fetch(k,{headers:{Accept:"application/json"}});if(!w.ok)return;let q=await w.json().catch(()=>({}));S&&(S.value=q.name||""),T&&(T.value=q.language||"fr"),$&&($.value=q.tagline||"")}catch(w){console.error("[settings] load site config failed",w)}};f.addEventListener("submit",async w=>{if(w.preventDefault(),!k){P("Aucun site actif.","error");return}if(!(S!=null&&S.value.trim())){P("Nom requis.","error");return}F&&(F.disabled=!0),P("");try{let q={name:(S==null?void 0:S.value)||"",language:(T==null?void 0:T.value)||"fr",tagline:($==null?void 0:$.value)||""},E=await fetch(k,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),H=await E.json().catch(()=>({}));if(!E.ok||H.success===!1)throw new Error(H.message||"Sauvegarde impossible.");P(H.message||"Param\xE8tres enregistr\xE9s.","success")}catch(q){console.error("[settings] save site config failed",q),P(q.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),L()}if(v){let S=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),T=S?`/api/sites/${encodeURIComponent(S)}/config/theme`:null,$={primary:v.querySelector("[data-theme-primary]"),secondary:v.querySelector("[data-theme-secondary]"),accent:v.querySelector("[data-theme-accent]"),background:v.querySelector("[data-theme-background]"),text:v.querySelector("[data-theme-text]")},F=v.querySelector("[data-theme-headings]"),P=v.querySelector("[data-theme-body]"),R=v.querySelector("[data-theme-radius-small]"),k=v.querySelector("[data-theme-radius-medium]"),L=v.querySelector("[data-theme-radius-large]"),w=v.querySelector("[data-theme-preview]"),q=v.querySelector("[data-theme-feedback]"),E=v.querySelector("[data-theme-apply]"),H={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"},K=g=>{if(!g)return null;if(g==="white")return"#ffffff";if(g==="black")return"#000000";if(g==="transparent")return"transparent";let[z,I]=g.split("-");if(!z||!I)return null;let re=H[z];if(!re)return null;let ce=Number(I)||500,ye=Math.min(Math.max((ce-50)/900,0),1),pe=xe=>xe.replace("#","").match(/[A-Fa-f0-9]{2}/g).map(Me=>parseInt(Me,16)),[Ce,ge,Ne]=pe(re),Ue=xe=>Math.round(255-(255-xe)*ye);return`rgb(${Ue(Ce)}, ${Ue(ge)}, ${Ue(Ne)})`},te=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],Q=["50","100","200","300","400","500","600","700","800","900"],ke=te.flatMap(g=>Q.map(z=>`${g}-${z}`)),Te=[{value:"white",label:"Blanc",color:"#ffffff",emoji:"\u2B1C"},{value:"transparent",label:"Transparent",color:"transparent",emoji:"\u2B1C"},{value:"black",label:"Noir",color:"#000000",emoji:"\u2B1B"}],Ge=(()=>{let g=[];return Te.forEach(({value:z,label:I,color:re,emoji:ce})=>{g.push({value:z,label:`${ce} ${I}`,color:re})}),ke.forEach(z=>{let[I,re]=z.split("-"),ce=K(z)||"#ffffff";g.push({value:z,label:`${I.charAt(0).toUpperCase()+I.slice(1)} ${re}`,color:ce})}),g})(),Ee=g=>typeof g=="string"?g.trim().toLowerCase():"",G=(g={})=>{Object.entries($).forEach(([z,I])=>{var ce;if(!I)return;let re=Ee(g[z]);I.innerHTML="",Ge.forEach(({value:ye,label:pe,color:Ce})=>{let ge=document.createElement("option");ge.value=ye,ge.textContent=pe,ge.dataset.color=Ce,re&&re===ye&&(ge.selected=!0),I.appendChild(ge)}),I.dataset.default=I.dataset.default||((ce=I.options[0])==null?void 0:ce.value)||"",!re&&I.dataset.default&&(I.value=I.dataset.default),sr(I)})},Ie=(g,z="muted")=>{if(!q)return;let I=z==="success"?"text-emerald-600":z==="error"?"text-rose-600":"text-slate-500";q.textContent=g||"",q.className=`text-sm ${I}`},$e=()=>{var z,I,re,ce,ye;if(!w)return;let g=pe=>{if(!pe)return null;if(pe==="white")return"#ffffff";if(pe==="black")return"#000000";if(pe==="transparent")return"transparent";let[Ce,ge]=pe.split("-");if(!Ce||!ge)return null;let Ue={slate:"#e2e8f0",gray:"#d1d5db",zinc:"#d4d4d8",neutral:"#d4d4d4",stone:"#d6d3d1",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"}[Ce];if(!Ue)return null;let xe=Number(ge)||500,Me=Math.min(Math.max((xe-50)/900,0),1),Re=de=>de.match(/[A-Fa-f0-9]{2}/g).map(Pt=>parseInt(Pt,16)),[St,y,B]=Re(Ue.replace("#","")),h=de=>Math.round(255-(255-de)*Me);return`rgb(${h(St)}, ${h(y)}, ${h(B)})`};w.style.setProperty("--color-primary",K((z=$.primary)==null?void 0:z.value)||"#9C6BFF"),w.style.setProperty("--color-secondary",K((I=$.secondary)==null?void 0:I.value)||"#0EA5E9"),w.style.setProperty("--color-accent",K((re=$.accent)==null?void 0:re.value)||"#F97316"),w.style.setProperty("--color-background",K((ce=$.background)==null?void 0:ce.value)||"#FFFFFF"),w.style.setProperty("--color-text",K((ye=$.text)==null?void 0:ye.value)||"#0F172A"),w.style.setProperty("--font-headings",(F==null?void 0:F.value)||"Inter, sans-serif"),w.style.setProperty("--font-body",(P==null?void 0:P.value)||"Inter, sans-serif"),w.style.setProperty("--radius-small",(R==null?void 0:R.value)||"8px"),w.style.setProperty("--radius-medium",(k==null?void 0:k.value)||"16px"),w.style.setProperty("--radius-large",(L==null?void 0:L.value)||"24px"),w.style.borderRadius=(k==null?void 0:k.value)||"16px"},N=(g,z)=>{if(g){if(z==="transparent"){g.style.background="repeating-conic-gradient(#ccc 0% 25%, white 0% 50%) 50% / 8px 8px",g.style.borderColor="#cbd5f5",g.style.boxShadow="";return}g.style.background=z,g.style.borderColor=z,g.style.boxShadow="0 0 0 1px rgba(15,23,42,0.15)"}},x=g=>{var ye,pe,Ce;if(!g)return;let z=g.options[g.selectedIndex],I=((ye=z==null?void 0:z.dataset)==null?void 0:ye.color)||"#ffffff",re=(pe=g.closest(".relative"))==null?void 0:pe.querySelector("[data-color-preview]");re&&(I==="transparent"?re.style.background=es:re.style.background=I);let ce=(Ce=g.closest(".relative"))==null?void 0:Ce.querySelector("[data-theme-color-chip]");N(ce,I)},X=()=>{Object.values($).forEach(g=>{g&&(sr(g),x(g),g.addEventListener("change",()=>x(g)))})};Object.keys($).forEach(g=>{var z;(z=$[g])==null||z.addEventListener("change",$e)}),[F,P,R,k,L].forEach(g=>{g==null||g.addEventListener("change",$e)});let J=async()=>{var g,z,I,re,ce;if(T)try{let ye=await fetch(T,{headers:{Accept:"application/json"},credentials:"include"});if(!ye.ok)return;let pe=await ye.json().catch(()=>({})),Ce=pe.colors||{};G(Ce),Object.entries($).forEach(([ge,Ne])=>{if(!Ne)return;let Ue=Ce[ge],xe=Ee(Ue);xe?Ne.value=xe:Ue?Ne.value=Ue:Ne.dataset.default&&(Ne.value=Ne.dataset.default),x(Ne)}),F&&(F.value=((g=pe.typography)==null?void 0:g.headings)||"Inter, sans-serif"),P&&(P.value=((z=pe.typography)==null?void 0:z.body)||"Inter, sans-serif"),R&&(R.value=((I=pe.radius)==null?void 0:I.small)||"8px"),k&&(k.value=((re=pe.radius)==null?void 0:re.medium)||"16px"),L&&(L.value=((ce=pe.radius)==null?void 0:ce.large)||"24px"),$e()}catch(ye){console.error("[settings] load theme failed",ye)}};E==null||E.addEventListener("click",async g=>{var I,re,ce,ye,pe;if(g.preventDefault(),!T){Ie("Aucun site actif.","error");return}let z={colors:{primary:((I=$.primary)==null?void 0:I.value)||"violet-500",secondary:((re=$.secondary)==null?void 0:re.value)||"indigo-400",accent:((ce=$.accent)==null?void 0:ce.value)||"emerald-500",background:((ye=$.background)==null?void 0:ye.value)||"slate-50",text:((pe=$.text)==null?void 0:pe.value)||"slate-900"},typography:{headings:(F==null?void 0:F.value)||"Inter, sans-serif",body:(P==null?void 0:P.value)||"Inter, sans-serif"},radius:{small:(R==null?void 0:R.value)||"8px",medium:(k==null?void 0:k.value)||"16px",large:(L==null?void 0:L.value)||"24px"}};E.disabled=!0,Ie("");try{let Ce=await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(z)}),ge=await Ce.json().catch(()=>({}));if(!Ce.ok||ge.success===!1)throw new Error(ge.message||"Application du th\xE8me \xE9chou\xE9e.");await J(),Ie(ge.message||"Th\xE8me appliqu\xE9.","success")}catch(Ce){console.error("[settings] apply theme failed",Ce),Ie(Ce.message||"Erreur lors de l\u2019application du th\xE8me.","error")}finally{E.disabled=!1}}),G(),X(),J(),$e(),document.addEventListener("ai-theme-updated",()=>{J(),Ie("Th\xE8me mis \xE0 jour.","success")})}let U=document.querySelector("[data-seo-config-form]");if(U){let S=U.querySelector("[data-seo-index-all]"),T=U.querySelector("[data-seo-config-feedback]"),$=U.querySelector("[data-seo-save]"),F=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),P=F?`/api/sites/${encodeURIComponent(F)}/config/site`:null,R=(L,w="muted")=>{if(!T)return;let q=w==="success"?"text-emerald-600":w==="error"?"text-rose-600":"text-slate-500";T.textContent=L||"",T.className=`text-sm ${q}`},k=async()=>{var L;if(P)try{let w=await fetch(P,{headers:{Accept:"application/json"}});if(!w.ok)return;let E=((L=(await w.json().catch(()=>({}))).seo)==null?void 0:L.indexAllPagesByDefault)!==!1;S&&(S.checked=E)}catch(w){console.error("[settings] load seo config failed",w)}};U.addEventListener("submit",async L=>{var w;if(L.preventDefault(),!P){R("Aucun site actif.","error");return}$&&($.disabled=!0),R("");try{let q=await fetch(P,{headers:{Accept:"application/json"}}),E=q.ok?await q.json().catch(()=>({})):{},H={...E,seo:{...E.seo||{},indexAllPagesByDefault:(w=S==null?void 0:S.checked)!=null?w:!0}},K=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),te=await K.json().catch(()=>({}));if(!K.ok||te.success===!1)throw new Error(te.message||"Sauvegarde impossible.");R(te.message||"Param\xE8tres SEO enregistr\xE9s.","success")}catch(q){console.error("[settings] save seo config failed",q),R(q.message||"Erreur lors de la sauvegarde.","error")}finally{$&&($.disabled=!1)}}),k()}let W=document.querySelector("[data-analytics-form]");if(W){let S=W.querySelector("[data-analytics-head]"),T=W.querySelector("[data-analytics-body]"),$=W.querySelector("[data-analytics-feedback]"),F=W.querySelector("[data-analytics-save]"),P=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),R=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,k=(w,q="muted")=>{if(!$)return;let E=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";$.textContent=w||"",$.className=`text-sm ${E}`},L=async()=>{var w,q;if(R)try{let E=await fetch(R,{headers:{Accept:"application/json"}});if(!E.ok)return;let H=await E.json().catch(()=>({}));S&&(S.value=((w=H.analytics)==null?void 0:w.headCode)||""),T&&(T.value=((q=H.analytics)==null?void 0:q.bodyEndCode)||"")}catch(E){console.error("[settings] load analytics config failed",E)}};W.addEventListener("submit",async w=>{if(w.preventDefault(),!R){k("Aucun site actif.","error");return}F&&(F.disabled=!0),k("");try{let q=await fetch(R,{headers:{Accept:"application/json"}}),H={...q.ok?await q.json().catch(()=>({})):{},analytics:{headCode:(S==null?void 0:S.value)||"",bodyEndCode:(T==null?void 0:T.value)||""}},K=await fetch(R,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),te=await K.json().catch(()=>({}));if(!K.ok||te.success===!1)throw new Error(te.message||"Sauvegarde impossible.");k(te.message||"Scripts enregistr\xE9s.","success")}catch(q){console.error("[settings] save analytics config failed",q),k(q.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),L()}let se=document.querySelector("[data-accessibility-form]");if(se){let S=se.querySelector("[data-accessibility-animations]"),T=se.querySelector("[data-accessibility-contrast]"),$=se.querySelector("[data-accessibility-feedback]"),F=se.querySelector("[data-accessibility-save]"),P=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),R=P?`/api/sites/${encodeURIComponent(P)}/config/site`:null,k=(w,q="muted")=>{if(!$)return;let E=q==="success"?"text-emerald-600":q==="error"?"text-rose-600":"text-slate-500";$.textContent=w||"",$.className=`text-sm ${E}`},L=async()=>{var w,q;if(R)try{let E=await fetch(R,{headers:{Accept:"application/json"}});if(!E.ok)return;let H=await E.json().catch(()=>({}));S&&(S.checked=((w=H.accessibility)==null?void 0:w.animationsEnabled)!==!1),T&&(T.checked=((q=H.accessibility)==null?void 0:q.highContrast)===!0)}catch(E){console.error("[settings] load accessibility config failed",E)}};se.addEventListener("submit",async w=>{var q,E;if(w.preventDefault(),!R){k("Aucun site actif.","error");return}F&&(F.disabled=!0),k("");try{let H=await fetch(R,{headers:{Accept:"application/json"}}),te={...H.ok?await H.json().catch(()=>({})):{},accessibility:{animationsEnabled:(q=S==null?void 0:S.checked)!=null?q:!0,highContrast:(E=T==null?void 0:T.checked)!=null?E:!1}},Q=await fetch(R,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)}),ke=await Q.json().catch(()=>({}));if(!Q.ok||ke.success===!1)throw new Error(ke.message||"Sauvegarde impossible.");k(ke.message||"Pr\xE9f\xE9rences mises \xE0 jour.","success")}catch(H){console.error("[settings] save accessibility config failed",H),k(H.message||"Erreur lors de la sauvegarde.","error")}finally{F&&(F.disabled=!1)}}),L()}let _=document.querySelector("[data-ai-config-form]");if(_){let S=_.querySelector("[data-ai-api-key]"),T=_.querySelector("[data-ai-model]"),$=_.querySelector("[data-ai-project-prompt]"),F=_.querySelector("[data-ai-enabled]"),P=_.querySelector("[data-ai-feedback]"),R=_.querySelector("[data-ai-save]"),k=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),L=k?`/api/sites/${encodeURIComponent(k)}/config/ai`:null,w=(E,H="muted")=>{if(!P)return;let K=H==="success"?"text-emerald-600":H==="error"?"text-rose-600":"text-slate-500";P.textContent=E||"",P.className=`text-sm ${K}`},q=async()=>{if(L)try{let E=await fetch(L,{headers:{Accept:"application/json"}});if(!E.ok)return;let H=await E.json().catch(()=>({}));S&&(S.value="",S.placeholder=H.hasApiKey?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Cl\xE9 API Gemini"),T&&(T.value=H.model||"gemini-2.5-flash"),$&&($.value=H.projectPrompt||""),F&&(F.checked=H.enabled!==!1)}catch(E){console.error("[settings] load AI config failed",E)}};_.addEventListener("submit",async E=>{var H,K;if(E.preventDefault(),!L){w("Aucun site actif.","error");return}R&&(R.disabled=!0),w("");try{let te={model:(T==null?void 0:T.value)||"gemini-2.5-flash",projectPrompt:($==null?void 0:$.value)||"",enabled:(H=F==null?void 0:F.checked)!=null?H:!0},Q=(K=S==null?void 0:S.value)==null?void 0:K.trim();Q&&(te.apiKey=Q);let ke=await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)}),Te=await ke.json().catch(()=>({}));if(!ke.ok||Te.success===!1)throw new Error(Te.message||"Sauvegarde impossible.");w(Te.message||"Configuration IA enregistr\xE9e.","success"),S&&(S.value="",S.placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022")}catch(te){console.error("[settings] save AI config failed",te),w(te.message||"Erreur lors de la sauvegarde.","error")}finally{R&&(R.disabled=!1)}}),q()}}function qn(){let r=document.querySelector("[data-media-grid]");if(!r)return;let n=document.querySelector("[data-media-empty]"),c=document.querySelector("[data-media-count]"),f=document.querySelector("[data-media-filter-type]"),p=document.querySelector("[data-media-detail-empty]"),v=document.querySelector("[data-media-detail]"),V=document.querySelector("[data-media-detail-preview]"),U=document.querySelector("[data-media-detail-name]"),W=document.querySelector("[data-media-detail-type]"),se=document.querySelector("[data-media-detail-size]"),_=document.querySelector("[data-media-detail-path]"),S=document.querySelector("[data-media-detail-used]"),T=document.querySelector("[data-media-alt-edit]"),$=document.querySelector("[data-media-save]"),F=document.querySelector("[data-media-delete]"),P=document.querySelector("[data-media-delete-modal]"),R=document.querySelector("[data-media-delete-cancel]"),k=document.querySelector("[data-media-delete-confirm]"),L=document.querySelector("[data-media-upload-open]"),w=document.querySelector("[data-media-file-input]"),q=document.querySelector("[data-media-upload-status]"),E=Pe((Z==null?void 0:Z.slugValue)||oe.slug||""),H=E?`/api/sites/${encodeURIComponent(E)}/media`:null,K=[],te=[],Q=null,ke=null,Te=null,Ge=!1,Ee=!1,G=!1,Ie=null,$e=y=>{let B=(y.type||"").toLowerCase(),h=(y.filename||"").toLowerCase();return B.includes("image")||/\.(png|jpe?g|webp|svg|gif)$/i.test(h)?"image":B.includes("pdf")||B.includes("doc")||/\.(pdf|docx?)$/i.test(h)?"document":B.includes("video")||/\.(mp4|mov|webm)$/i.test(h)?"video":"other"},N=y=>$e(y)==="image",x=y=>{if(y.type)return y.type.toUpperCase();let B=(y.filename||"").split(".").pop();return B?B.toUpperCase():"FILE"},X=y=>!y||y<=0?"\u2014":y<1024?`${y} o`:y<1024*1024?`${(y/1024).toFixed(1)} ko`:`${(y/(1024*1024)).toFixed(1)} Mo`,J=()=>{v==null||v.classList.add("hidden"),p==null||p.classList.remove("hidden"),g(),Q=null,Ee=!1,ce(!1),V&&(V.innerHTML='<span class="text-slate-400 text-sm">Aucun m\xE9dia s\xE9lectionn\xE9</span>'),U&&(U.textContent=""),W&&(W.textContent=""),se&&(se.textContent=""),T&&(T.value=""),_&&(_.textContent=""),S&&(S.innerHTML="")},g=()=>{Te=null,G=!1,Ge=!1,Ie&&(URL.revokeObjectURL(Ie),Ie=null),q&&(q.textContent="Aucun fichier s\xE9lectionn\xE9."),w&&(w.value="")},z=()=>{c&&(te.length?te.length===1?c.textContent="1 m\xE9dia":c.textContent=`${te.length} m\xE9dias`:c.textContent="0 m\xE9dia")},I=()=>{if(r.innerHTML="",!te.length){n==null||n.classList.remove("hidden"),J();return}n==null||n.classList.add("hidden"),te.forEach(y=>{let B=document.createElement("button");B.type="button",B.dataset.mediaId=y.id;let h=y.id===Q;B.className=["group relative flex flex-col rounded-2xl border px-3 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9C6BFF]",h?"border-[#9C6BFF] bg-[#F7F0FF]/60 shadow-sm":"border-slate-200 hover:border-[#9C6BFF]/40"].join(" ");let de=N(y)?`<img src="${y.path}" alt="${y.alt||y.filename}" class="h-full w-full object-cover" />`:'<div class="flex h-full w-full items-center justify-center text-3xl text-slate-400">\u{1F4C4}</div>';B.innerHTML=`
          <div class="relative aspect-[4/3] overflow-hidden rounded-xl bg-slate-100">
            ${de}
          </div>
          <div class="mt-2 space-y-1">
            <p class="text-sm font-semibold text-slate-900 truncate">${y.filename}</p>
            <p class="text-xs text-slate-500">
              ${x(y)} \xB7 ${X(y.size)}
            </p>
          </div>
        `,y.id===ke&&(B.classList.add("ring-2","ring-[#9C6BFF]"),window.setTimeout(()=>{B.classList.remove("ring-2","ring-[#9C6BFF]")},1600)),B.addEventListener("click",()=>ye(y.id)),r.appendChild(B)}),ke=null},re=y=>{if(S){if(S.innerHTML="",!y.usedIn||y.usedIn.length===0){let B=document.createElement("li");B.textContent="Non utilis\xE9",B.className="text-xs text-slate-400",S.appendChild(B);return}y.usedIn.forEach(B=>{let h=document.createElement("li");h.textContent=B,h.className="text-xs text-slate-600",S.appendChild(h)})}},ce=y=>{if($){if(G){$.textContent=y?"T\xE9l\xE9versement\u2026":"T\xE9l\xE9verser",$.disabled=y||!Te,F&&F.classList.add("hidden");return}$.textContent=y?"Enregistrement\u2026":"Enregistrer",$.disabled=y||!Ee,F&&(F.classList.remove("hidden"),F.disabled=!Q)}},ye=y=>{let B=K.find(h=>h.id===y);if(!B){J(),I();return}g(),Q=B.id,Ee=!1,ce(!1),I(),p==null||p.classList.add("hidden"),v==null||v.classList.remove("hidden"),V&&(N(B)?V.innerHTML=`<img src="${B.path}" alt="${B.alt||B.filename}" class="h-full w-full rounded-2xl object-cover" />`:V.innerHTML='<div class="flex h-full w-full flex-col items-center justify-center gap-1 text-slate-400"><span class="text-3xl">\u{1F4C4}</span><span class="text-xs font-semibold">Document</span></div>'),U&&(U.textContent=B.filename||"Fichier"),W&&(W.textContent=x(B)),se&&(se.textContent=X(B.size)),T&&(T.value=B.alt||""),_&&(_.textContent=B.path||"\u2014"),re(B)},pe=y=>{if(y){if(G=!0,Ee=!1,Q=null,p==null||p.classList.add("hidden"),v==null||v.classList.remove("hidden"),Ie&&URL.revokeObjectURL(Ie),Ie=URL.createObjectURL(y),V&&(V.innerHTML=`<img src="${Ie}" alt="${y.name}" class="h-full w-full rounded-2xl object-cover" />`),U&&(U.textContent=y.name),W&&(W.textContent=x({type:y.type,filename:y.name})),se&&(se.textContent=X(y.size)),T&&!T.value.trim()&&(T.value=y.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ")),_&&(_.textContent="En attente de t\xE9l\xE9versement"),S){S.innerHTML="";let B=document.createElement("li");B.textContent="Non utilis\xE9",B.className="text-xs text-slate-400",S.appendChild(B)}ce(!1)}},Ce=()=>{let y=(f==null?void 0:f.value)||"all";y==="all"?te=[...K]:te=K.filter(B=>B.groupType===y),te.some(B=>B.id===Q)||J(),z(),I()},ge=async()=>{if(!H){n==null||n.classList.remove("hidden");return}try{let y=await fetch(H,{headers:{Accept:"application/json"}});if(!y.ok)throw new Error("Impossible de charger les m\xE9dias.");let B=await y.json().catch(()=>({items:[]}));K=Array.isArray(B.items)?B.items.map(h=>({...h,groupType:$e(h)})):[],Ce()}catch(y){console.error("[media] load failed",y),M(y.message||"Impossible de charger les m\xE9dias."),K=[],Ce()}};f==null||f.addEventListener("change",()=>{Ce()}),T==null||T.addEventListener("input",()=>{if(G){ce(!1);return}Q&&(Ee=!0,ce(!1))});let Ne=y=>{if(y){if(!y.type.startsWith("image/")){M("Seules les images sont accept\xE9es pour le moment.");return}if(y.size>4*1024*1024){M("Fichier trop volumineux (4 Mo max).");return}Te=y,pe(y),q&&(q.textContent=`${y.name} \xB7 ${X(y.size)}`)}},Ue=y=>new Promise((B,h)=>{let de=new FileReader;de.onload=()=>{let Pt=de.result||"",[,ts=""]=String(Pt).split(",");B(ts)},de.onerror=()=>h(new Error("Impossible de lire ce fichier.")),de.readAsDataURL(y)}),xe=async()=>{if(!(!Te||!H)){Ge=!0,ce(!0);try{let y=await Ue(Te),B={filename:Te.name,type:Te.type,size:Te.size,alt:(T==null?void 0:T.value)||"",data:y},h=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!h.ok){let Pt=await h.json().catch(()=>({}));throw new Error(Pt.message||"Upload impossible.")}let de=await h.json();de.groupType=$e(de),K=[...K,de],ke=de.id,Ce(),ye(de.id),M("M\xE9dia ajout\xE9"),g()}catch(y){console.error("[media] upload failed",y),M(y.message||"Impossible de t\xE9l\xE9verser ce m\xE9dia.")}finally{Ge=!1,Te=null,ce(!1)}}};L==null||L.addEventListener("click",()=>w==null?void 0:w.click()),w==null||w.addEventListener("change",()=>{w.files&&w.files[0]&&Ne(w.files[0])});let Me=()=>{P&&(P.classList.add("hidden"),P.classList.remove("flex"))},Re=()=>{if(!(!Q||G)){if(P){P.classList.remove("hidden"),P.classList.add("flex");return}window.confirm("Supprimer ce m\xE9dia ?")&&St()}},St=async()=>{if(!Q||!H){Me();return}let y=()=>{F&&(F.disabled=!0),k&&(k.disabled=!0,k.textContent="Suppression\u2026")},B=()=>{F&&(F.disabled=!1),k&&(k.disabled=!1,k.textContent="Supprimer")};y();try{let h=await fetch(`${H}/${encodeURIComponent(Q)}`,{method:"DELETE"});if(!h.ok){let de=await h.json().catch(()=>({}));throw new Error(de.message||"Suppression impossible.")}K=K.filter(de=>de.id!==Q),te=te.filter(de=>de.id!==Q),M("M\xE9dia supprim\xE9"),J(),z(),I()}catch(h){console.error("[media] delete failed",h),M(h.message||"Impossible de supprimer ce m\xE9dia.")}finally{B(),Me()}};R==null||R.addEventListener("click",Me),P==null||P.addEventListener("click",y=>{y.target===P&&Me()}),k==null||k.addEventListener("click",()=>St()),F==null||F.addEventListener("click",Re),$==null||$.addEventListener("click",async()=>{if(G){xe();return}if(!(!Q||!H||!T)){ce(!0);try{let y={alt:T.value||""},B=await fetch(`${H}/${encodeURIComponent(Q)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!B.ok){let de=await B.json().catch(()=>({}));throw new Error(de.message||"Impossible de mettre \xE0 jour ce m\xE9dia.")}let h=await B.json();K=K.map(de=>de.id===Q?{...de,...h}:de),te=te.map(de=>de.id===Q?{...de,...h}:de),Ee=!1,ce(!1),M("M\xE9dia mis \xE0 jour")}catch(y){console.error("[media] update failed",y),M(y.message||"\xC9chec de la mise \xE0 jour."),ce(!1)}}}),ge()}let Mr=document.getElementById("ai-chat-toggle"),ps=document.getElementById("ai-chat-panel"),it=document.getElementById("ai-chat-overlay"),Fr=document.getElementById("ai-chat-close"),Nr=document.getElementById("ai-chat-clear"),Dr=document.getElementById("ai-chat-form"),Bt=document.getElementById("ai-chat-input"),Ae=document.getElementById("ai-chat-messages"),Ta=document.getElementById("ai-chat-status"),wt=document.getElementById("ai-chat-no-api"),An=document.querySelectorAll("[data-ai-quick]"),rr=!1,Hr=!1,wo=!1,Tn=!1;function In(){ps&&(rr=!0,ps.classList.remove("translate-x-full"),ps.setAttribute("aria-hidden","false"),it==null||it.classList.remove("opacity-0","pointer-events-none"),it==null||it.classList.add("opacity-100"),document.body.classList.add("overflow-hidden"),Bt==null||Bt.focus(),wo||$n())}function or(){ps&&(rr=!1,ps.classList.add("translate-x-full"),ps.setAttribute("aria-hidden","true"),it==null||it.classList.add("opacity-0","pointer-events-none"),it==null||it.classList.remove("opacity-100"),document.body.classList.remove("overflow-hidden"))}async function $n(){let r=Pe(oe.slug||"");if(!r){wt==null||wt.classList.remove("hidden");return}try{let n=await fetch(`/api/sites/${encodeURIComponent(r)}/config/ai`);if(!n.ok)throw new Error("Config check failed");let c=await n.json();wo=!0,Tn=c.hasApiKey,!c.enabled||!c.hasApiKey?wt==null||wt.classList.remove("hidden"):(wt==null||wt.classList.add("hidden"),Bn())}catch(n){console.error("[AI] Config check failed:",n),wt==null||wt.classList.remove("hidden")}}async function Bn(){let r=Pe(oe.slug||"");if(!(!r||!Ae))try{let n=await fetch(`/api/sites/${encodeURIComponent(r)}/ai/history`);if(!n.ok)return;let c=await n.json();if(c.messages&&c.messages.length>0){let f=Ae.querySelector("[data-ai-welcome]");f&&f.remove(),c.messages.forEach(p=>{nr(p.content,p.role==="user"?"user":"assistant")}),Ae.scrollTop=Ae.scrollHeight}}catch(n){console.error("[AI] History load failed:",n)}}function nr(r,n="assistant"){if(!Ae)return;let c=document.createElement("div");if(c.className="flex gap-3",n==="user")c.innerHTML=`
        <div class="flex-1"></div>
        <div class="max-w-[80%] bg-violet-600 text-white rounded-2xl rounded-tr-none p-3">
          <p class="text-sm whitespace-pre-wrap">${pt(r)}</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
      `;else{let f=jn(r);c.innerHTML=`
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
        </div>
        <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3 overflow-x-auto">
          <div class="text-sm text-slate-700 prose prose-sm max-w-none [&>pre]:bg-slate-800 [&>pre]:text-slate-100 [&>pre]:rounded-lg [&>pre]:p-3 [&>pre]:overflow-x-auto [&>code]:bg-slate-200 [&>code]:px-1 [&>code]:rounded">${f}</div>
        </div>
      `}Ae.appendChild(c),Ae.scrollTop=Ae.scrollHeight}function Pn(){if(!Ae)return;let r=document.createElement("div");r.className="flex gap-3",r.id="ai-loading-indicator",r.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
      </div>
      <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
          <div class="w-2 h-2 bg-violet-400 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
        </div>
      </div>
    `,Ae.appendChild(r),Ae.scrollTop=Ae.scrollHeight}function So(){let r=document.getElementById("ai-loading-indicator");r==null||r.remove()}function jn(r){if(!r)return"";let n=pt(r);return n=n.replace(/```(\w*)\n([\s\S]*?)```/g,(c,f,p)=>`<pre class="language-${f||"text"}"><code>${p.trim()}</code></pre>`),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=n.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),n=n.replace(/\*([^*]+)\*/g,"<em>$1</em>"),n=n.replace(/^### (.+)$/gm,'<h4 class="font-semibold text-slate-900 mt-3 mb-1">$1</h4>'),n=n.replace(/^## (.+)$/gm,'<h3 class="font-semibold text-slate-900 mt-3 mb-1">$1</h3>'),n=n.replace(/^# (.+)$/gm,'<h2 class="font-bold text-slate-900 mt-3 mb-2">$1</h2>'),n=n.replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>'),n=n.replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>'),n=n.replace(/\n\n/g,'</p><p class="mb-2">'),n='<p class="mb-2">'+n+"</p>",n=n.replace(/<p class="mb-2"><\/p>/g,""),n}function pt(r){let n=document.createElement("div");return n.textContent=r,n.innerHTML}async function Lo(r){let n=Pe(oe.slug||"");if(!r||!n||Hr)return;Hr=!0,Bt.disabled=!0;let c=Ae==null?void 0:Ae.querySelector("[data-ai-welcome]");c&&c.remove(),nr(r,"user"),Pn();try{let f=await fetch(`/api/sites/${encodeURIComponent(n)}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r})});if(So(),!f.ok){let v=await f.json().catch(()=>({}));throw new Error(v.message||"Erreur de communication")}let p=await f.json();p.response&&nr(p.response,"assistant"),p.editProposal&&Mn(p.editProposal),p.themeProposal&&Fn(p.themeProposal)}catch(f){So(),nr(`\u274C Erreur: ${f.message}`,"assistant")}finally{Hr=!1,Bt.disabled=!1,Bt.focus()}}function Mn(r){var f,p;if(!Ae||!r)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=r.proposalId;let c="";if(r.changes&&(r.changes.title&&(c+=`<li>Titre \u2192 <strong>${pt(r.changes.title)}</strong></li>`),r.changes.description&&(c+=`<li>Description \u2192 ${pt(r.changes.description.substring(0,80))}...</li>`),r.changes.seo&&(r.changes.seo.metaTitle&&(c+=`<li>Meta title \u2192 ${pt(r.changes.seo.metaTitle)}</li>`),r.changes.seo.metaDescription&&(c+=`<li>Meta description \u2192 ${pt(r.changes.seo.metaDescription.substring(0,60))}...</li>`)),r.changes.blockUpdate&&(c+=`<li>Bloc "${r.changes.blockUpdate.blockId}" modifi\xE9</li>`,r.changes.blockUpdate.settings))){let v=r.changes.blockUpdate.settings;v.title&&(c+=`<li class="ml-4">\u2192 title: ${pt(v.title)}</li>`),v.content&&(c+='<li class="ml-4">\u2192 content modifi\xE9</li>')}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-amber-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
        </svg>
      </div>
      <div class="flex-1 bg-amber-50 border border-amber-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-amber-700 bg-amber-100 px-2 py-0.5 rounded">Proposition d'\xE9dition</span>
        </div>
        <p class="text-sm font-medium text-slate-800 mb-1">Page : ${pt(r.pageTitle||r.pageId)}</p>
        ${r.reason?`<p class="text-sm text-slate-600 mb-2">${pt(r.reason)}</p>`:""}
        <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">
          ${c||"<li>Modifications propos\xE9es</li>"}
        </ul>
        <div class="flex gap-2">
          <button 
            class="ai-apply-edit px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${r.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-edit px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${r.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Ae.appendChild(n),Ae.scrollTop=Ae.scrollHeight,(f=n.querySelector(".ai-apply-edit"))==null||f.addEventListener("click",Hn),(p=n.querySelector(".ai-reject-edit"))==null||p.addEventListener("click",ko)}function Fn(r){var p,v,V,U;if(!Ae||!r)return;let n=document.createElement("div");n.className="flex gap-3 mt-2",n.dataset.proposalId=r.proposalId;let c="";if((p=r.changes)!=null&&p.colors){let W=r.changes.colors;for(let[se,_]of Object.entries(W))c+=`<li class="flex items-center gap-2">
          <span class="w-4 h-4 rounded border border-slate-300" style="background: ${Nn(_)}"></span>
          <span>${se}: <strong>${pt(_)}</strong></span>
        </li>`}let f="";if((v=r.changes)!=null&&v.typography){let W=r.changes.typography;W.headings&&(f+=`<li>Titres \u2192 <strong>${pt(W.headings)}</strong></li>`),W.body&&(f+=`<li>Textes \u2192 <strong>${pt(W.body)}</strong></li>`)}n.innerHTML=`
      <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
        </svg>
      </div>
      <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded">Modification du th\xE8me</span>
        </div>
        ${r.reason?`<p class="text-sm text-slate-600 mb-3">${pt(r.reason)}</p>`:""}
        ${c?`
          <p class="text-xs font-medium text-slate-700 mb-1">Couleurs :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3">${c}</ul>
        `:""}
        ${f?`
          <p class="text-xs font-medium text-slate-700 mb-1">Typographies :</p>
          <ul class="text-xs text-slate-600 space-y-1 mb-3 list-disc ml-4">${f}</ul>
        `:""}
        <div class="flex gap-2">
          <button 
            class="ai-apply-theme px-3 py-1.5 text-xs font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${r.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Appliquer
          </button>
          <button 
            class="ai-reject-theme px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors flex items-center gap-1"
            data-proposal-id="${r.proposalId}"
          >
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Rejeter
          </button>
        </div>
      </div>
    `,Ae.appendChild(n),Ae.scrollTop=Ae.scrollHeight,(V=n.querySelector(".ai-apply-theme"))==null||V.addEventListener("click",Dn),(U=n.querySelector(".ai-reject-theme"))==null||U.addEventListener("click",ko)}function Nn(r){return{white:"#ffffff",black:"#000000",transparent:"transparent","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d"}[r]||"#9C6BFF"}async function Dn(r){var p;let n=(p=r.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,c=Pe(oe.slug||"");if(!n||!c)return;let f=r.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let v=await fetch(`/api/sites/${encodeURIComponent(c)}/ai/apply-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),V=await v.json();if(v.ok&&V.success){let U=document.querySelector(`[data-proposal-id="${n}"]`);U&&(U.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-purple-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-purple-50 border border-purple-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-purple-700">\u2705 Th\xE8me mis \xE0 jour avec succ\xE8s !</p>
              <p class="text-xs text-purple-600 mt-1">Rechargez la preview pour voir les changements.</p>
            </div>
          `),M("Th\xE8me mis \xE0 jour !"),document.dispatchEvent(new CustomEvent("ai-theme-updated",{detail:{updatedTheme:V.updatedTheme}}))}else throw new Error(V.message||"Erreur lors de l'application")}catch(v){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${v.message}`)}}async function Hn(r){var p,v;let n=(p=r.target.closest("[data-proposal-id]"))==null?void 0:p.dataset.proposalId,c=Pe(oe.slug||"");if(!n||!c)return;let f=r.target.closest("button");f.disabled=!0,f.innerHTML='<span class="animate-spin">\u23F3</span> Application...';try{let V=await fetch(`/api/sites/${encodeURIComponent(c)}/ai/apply-edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:n})}),U=await V.json();if(V.ok&&U.success){let W=document.querySelector(`[data-proposal-id="${n}"]`);W&&(W.innerHTML=`
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex-shrink-0 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="flex-1 bg-emerald-50 border border-emerald-200 rounded-2xl rounded-tl-none p-3">
              <p class="text-sm text-emerald-700">\u2705 Modifications appliqu\xE9es avec succ\xE8s !</p>
              <p class="text-xs text-emerald-600 mt-1">La preview se met \xE0 jour automatiquement.</p>
            </div>
          `),M("Modifications appliqu\xE9es !");let se=((v=U.updatedPage)==null?void 0:v.id)||null;document.dispatchEvent(new CustomEvent("ai-page-updated",{detail:{pageId:se,updatedPage:U.updatedPage}}))}else throw new Error(U.message||"Erreur lors de l'application")}catch(V){f.disabled=!1,f.innerHTML='<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> R\xE9essayer',M(`Erreur: ${V.message}`)}}async function ko(r){var f;let n=(f=r.target.closest("[data-proposal-id]"))==null?void 0:f.dataset.proposalId,c=Pe(oe.slug||"");if(!(!n||!c))try{await fetch(`/api/sites/${encodeURIComponent(c)}/ai/proposal/${n}`,{method:"DELETE"});let p=document.querySelector(`[data-proposal-id="${n}"]`);p&&(p.innerHTML=`
          <div class="w-8 h-8 rounded-full bg-slate-400 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-100 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-500">Proposition rejet\xE9e.</p>
          </div>
        `)}catch(p){console.error("[AI] Reject edit error:",p)}}async function Un(){let r=Pe(oe.slug||"");if(!(!r||!Ae))try{await fetch(`/api/sites/${encodeURIComponent(r)}/ai/history`,{method:"DELETE"}),Ae.innerHTML="",Ae.innerHTML=`
        <div class="flex gap-3" data-ai-welcome>
          <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-600 flex-shrink-0 flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <div class="flex-1 bg-slate-50 rounded-2xl rounded-tl-none p-3">
            <p class="text-sm text-slate-700">
              Salut ! \u{1F44B} Je suis ton assistant IA pour ce site. Je peux t'aider \xE0 :
            </p>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
              <li>\u{1F3A8} Sugg\xE9rer des palettes de couleurs</li>
              <li>\u270D\uFE0F G\xE9n\xE9rer du contenu pour tes blocs</li>
              <li>\u{1F4C4} Cr\xE9er des structures de pages</li>
              <li>\u{1F50D} Am\xE9liorer ton SEO</li>
              <li>\u270F\uFE0F <strong>Analyser et modifier tes pages</strong> (avec validation)</li>
            </ul>
          </div>
        </div>
      `,M("Historique effac\xE9")}catch(n){console.error("[AI] Clear history failed:",n),M("Erreur lors de l'effacement")}}let Rn={colors:"Sugg\xE8re-moi 3 palettes de couleurs harmonieuses pour mon site. Pour chaque palette, donne les couleurs Tailwind: primary, secondary, accent, et background.",hero:"G\xE9n\xE8re un bloc Hero en JSON avec un titre accrocheur, un sous-titre engageant et un CTA.",seo:"Analyse mon site et sugg\xE8re des am\xE9liorations SEO pour le meta title et la meta description de ma page d'accueil.",landing:"G\xE9n\xE8re la structure JSON d'une landing page compl\xE8te avec: Hero, 3 sections de contenu, et un CTA final.",analyze:"Analyse le contenu de toutes mes pages et propose des am\xE9liorations concr\xE8tes. Pour chaque suggestion d'am\xE9lioration de texte ou de structure, utilise le format propose-edit pour que je puisse valider.",improveHome:"Analyse ma page d'accueil et propose une am\xE9lioration du titre ou du Hero pour le rendre plus impactant. Utilise le format propose-edit."};Mr==null||Mr.addEventListener("click",()=>{rr?or():In()}),Fr==null||Fr.addEventListener("click",or),it==null||it.addEventListener("click",or),Nr==null||Nr.addEventListener("click",()=>{confirm("Effacer tout l'historique de conversation ?")&&Un()}),Dr==null||Dr.addEventListener("submit",r=>{var c;r.preventDefault();let n=(c=Bt==null?void 0:Bt.value)==null?void 0:c.trim();n&&(Bt.value="",Lo(n))}),An.forEach(r=>{r.addEventListener("click",()=>{let n=r.dataset.aiQuick,c=Rn[n];c&&Lo(c)})}),document.addEventListener("keydown",r=>{r.key==="Escape"&&rr&&or()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vY29yZS9zY3JpcHRzL2FkbWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnW2FkbWluXSBBdGVsaWVyIGNoYXJnXHUwMEU5Jyk7XG4gIGNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxvZ291dF0nKTtcbiAgaWYgKGxvZ291dEJ1dHRvbikge1xuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ291dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbYWRtaW5dIEltcG9zc2libGUgZGUgc2UgZFx1MDBFOWNvbm5lY3RlcicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vaW5kZXguaHRtbCc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRtaW4tc2lkZWJhcl0nKTtcbiAgY29uc3Qgc2lkZWJhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1zaWRlYmFyLW92ZXJsYXldJyk7XG4gIGNvbnN0IHNpZGViYXJUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWRtaW4tc2lkZWJhci10b2dnbGVdJyk7XG4gIGNvbnN0IHNpZGViYXJDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hZG1pbi1zaWRlYmFyLWNsb3NlXScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgbGV0IHNpZGViYXJPcGVuID0gZmFsc2U7XG5cbiAgY29uc3QgYXBwbHlTaWRlYmFyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFzaWRlYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzRGVza3RvcCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBpZiAoaXNEZXNrdG9wKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNpZGViYXJPcGVuKSB7XG4gICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2lkZWJhck92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNpZGViYXJPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xuICAgIHNpZGViYXJPcGVuID0gdHJ1ZTtcbiAgICBhcHBseVNpZGViYXJTdGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xuICAgIGFwcGx5U2lkZWJhclN0YXRlKCk7XG4gIH07XG5cbiAgaWYgKHNpZGViYXIgJiYgc2lkZWJhclRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIHNpZGViYXJUb2dnbGVzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVNpZGViYXIpO1xuICAgIH0pO1xuICAgIHNpZGViYXJPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlU2lkZWJhcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGFwcGx5U2lkZWJhclN0YXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgc2lkZWJhck9wZW4pIHtcbiAgICAgICAgY2xvc2VTaWRlYmFyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwbHlTaWRlYmFyU3RhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IEFDVElWRV9TSVRFX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGUnO1xuICBjb25zdCBBQ1RJVkVfU0lURV9OQU1FX0tFWSA9ICdjbG93ZXI6Y3VycmVudFNpdGVOYW1lJztcbiAgY29uc3Qgc3RvcmVkU2l0ZSA9IHsgc2x1ZzogbnVsbCwgbmFtZTogJycgfTtcbiAgY29uc3QgbG9hZFN0b3JlZFNpdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1NsdWcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NJVEVfS0VZKTtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IHJhd1NsdWcgPyBlbnN1cmVMZWFkaW5nU2xhc2goc3RyaXBMZWFkaW5nU2xhc2gocmF3U2x1ZykpIDogbnVsbDtcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBQ1RJVkVfU0lURV9OQU1FX0tFWSkgfHwgJyc7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdG9yZWRTaXRlLnNsdWcgPSBudWxsO1xuICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gJyc7XG4gICAgfVxuICB9O1xuICBsb2FkU3RvcmVkU2l0ZSgpO1xuXG4gIGNvbnN0IHNpdGVDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpdGUtY2FyZF0nKTtcbiAgY29uc3Qgc2l0ZVNlbGVjdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLXNlbGVjdF0nKTtcbiAgY29uc3Qgc2l0ZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1cnJlbnQtc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VTaXRlTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS13b3Jrc3BhY2Utc2l0ZS1uYW1lXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW5hbWVdJyk7XG4gIGNvbnN0IHdvcmtzcGFjZUJhY2tNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLW1vZGFsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLWJhY2stY2FuY2VsXScpO1xuICBjb25zdCB3b3Jrc3BhY2VCYWNrQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdvcmtzcGFjZS1iYWNrLWNvbmZpcm1dJyk7XG4gIGNvbnN0IHdvcmtzcGFjZU5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtd29ya3NwYWNlLXRhYl0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS10b2FzdF0nKTtcbiAgY29uc3Qgc2l0ZVRvYXN0TWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtdG9hc3QtbWVzc2FnZV0nKTtcbiAgY29uc3Qgc2l0ZUNyZWF0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaXRlLWNyZWF0ZV0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1tb2RhbF0nKTtcbiAgY29uc3Qgc2l0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWZvcm1dJyk7XG4gIC8vIFVzZSBtb3JlIHNwZWNpZmljIHNlbGVjdG9ycyB0byBnZXQgaW5wdXRzIElOU0lERSB0aGUgZm9ybSwgbm90IHNpdGUgY2FyZHNcbiAgY29uc3Qgc2l0ZU5hbWVJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZU5hbWVcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdJbnB1dCA9IHNpdGVGb3JtPy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2l0ZVNsdWdcIl0nKTtcbiAgY29uc3Qgc2l0ZVNsdWdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtc2x1Zy1lcnJvcl0nKTtcbiAgY29uc3Qgc2l0ZU1vZGFsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW1vZGFsLWVycm9yXScpO1xuICBjb25zdCBzaXRlTW9kYWxDYW5jZWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2l0ZS1tb2RhbC1jYW5jZWxdJyk7XG4gIGNvbnN0IHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbW9kYWwtc3VibWl0XScpO1xuICBjb25zdCB3b3Jrc3BhY2VDb250ZXh0ID0gZ2V0V29ya3NwYWNlQ29udGV4dCgpO1xuICBsZXQgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gIGxldCB0b2FzdFRpbWVvdXRJZCA9IG51bGw7XG5cbiAgY29uc3QgZm9jdXNhYmxlU2VsZWN0b3IgPVxuICAgICdhW2hyZWZdLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYSwgaW5wdXQsIHNlbGVjdCwgW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pJztcbiAgY29uc3QgbW9kYWxTdGFjayA9IFtdO1xuICBjb25zdCBnZXRGb2N1c2FibGVFbGVtZW50cyA9IChtb2RhbCkgPT5cbiAgICBBcnJheS5mcm9tKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5maWx0ZXIoXG4gICAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICApO1xuICBjb25zdCBoYW5kbGVNb2RhbEtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1vZGFsU3RhY2subGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB7IG1vZGFsLCBvbkNsb3NlIH0gPSBjdXJyZW50RW50cnk7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsb3NlPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhtb2RhbCk7XG4gICAgaWYgKCFmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcbiAgICBjb25zdCBsYXN0ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3QpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlTW9kYWxLZXlkb3duKTtcbiAgY29uc3QgYWN0aXZhdGVNb2RhbCA9IChtb2RhbCwgb25DbG9zZSkgPT4ge1xuICAgIGlmICghbW9kYWwpIHJldHVybjtcbiAgICBtb2RhbFN0YWNrLnB1c2goe1xuICAgICAgbW9kYWwsXG4gICAgICBvbkNsb3NlLFxuICAgICAgdHJpZ2dlcjogZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgZm9jdXNhYmxlID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMobW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIChmb2N1c2FibGVbMF0gfHwgbW9kYWwpLmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgZGVhY3RpdmF0ZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtb2RhbFN0YWNrLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm1vZGFsID09PSBtb2RhbCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBbZW50cnldID0gbW9kYWxTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGVudHJ5LnRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgfTtcbiAgY29uc3QgbW9iaWxlUGFuZWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1vdmVybGF5XScpO1xuICBjb25zdCBtb2JpbGVQYW5lbExheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVscy1sYXllcl0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxzID0ge1xuICAgIGxlZnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1wYW5lbD1cImxlZnRcIl0nKSxcbiAgICByaWdodDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9iaWxlLXBhbmVsPVwicmlnaHRcIl0nKSxcbiAgfTtcbiAgbGV0IG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlciA9IG51bGw7XG4gIGlmIChtb2JpbGVQYW5lbExheWVyPy5wYXJlbnRFbGVtZW50KSB7XG4gICAgbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnbW9iaWxlLXBhbmVscy1sYXllci1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXIucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyLCBtb2JpbGVQYW5lbExheWVyKTtcbiAgfVxuICBsZXQgcmlnaHRQYW5lbFBsYWNlaG9sZGVyID0gbnVsbDtcbiAgaWYgKG1vYmlsZVBhbmVscy5yaWdodD8ucGFyZW50RWxlbWVudCkge1xuICAgIHJpZ2h0UGFuZWxQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21vYmlsZS1wYW5lbC1yaWdodC1wbGFjZWhvbGRlcicpO1xuICAgIG1vYmlsZVBhbmVscy5yaWdodC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyaWdodFBhbmVsUGxhY2Vob2xkZXIsIG1vYmlsZVBhbmVscy5yaWdodCk7XG4gIH1cbiAgY29uc3QgbW9iaWxlUGFuZWxUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLXBhbmVsLXRvZ2dsZV0nKTtcbiAgY29uc3QgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2JpbGUtcGFuZWwtY2xvc2VdJyk7XG4gIGNvbnN0IG1vYmlsZVBhbmVsVHJpZ2dlcnMgPSB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH07XG4gIGxldCBhY3RpdmVNb2JpbGVQYW5lbCA9IG51bGw7XG4gIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICBjb25zdCBlbnN1cmVNb2JpbGVQYW5lbExheWVyUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGlmICghbW9iaWxlUGFuZWxMYXllciB8fCAhbW9iaWxlUGFuZWxMYXllclBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSBtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IHRhcmdldFBhcmVudCkge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gbW9iaWxlUGFuZWxMYXllcikge1xuICAgICAgICB0YXJnZXRQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vYmlsZVBhbmVsTGF5ZXIsIG1vYmlsZVBhbmVsTGF5ZXJQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxMYXllcik7XG4gICAgICBtb2JpbGVQYW5lbExheWVyLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnb3ZlcmxheSc7XG4gICAgfVxuICB9O1xuICBjb25zdCBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsID0gbW9iaWxlUGFuZWxzLnJpZ2h0O1xuICAgIGlmICghcGFuZWwgfHwgIXJpZ2h0UGFuZWxQbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gcmlnaHRQYW5lbFBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICBpZiAoIXRhcmdldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFuZWwucGFyZW50RWxlbWVudCAhPT0gdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgIHRhcmdldFBhcmVudC5pbnNlcnRCZWZvcmUocGFuZWwsIHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0UGFuZWxQbGFjZWhvbGRlci5uZXh0U2libGluZyAhPT0gcGFuZWwpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50Lmluc2VydEJlZm9yZShwYW5lbCwgcmlnaHRQYW5lbFBsYWNlaG9sZGVyLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxQbGFjZW1lbnQgPSAnc2lkZWJhcic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICBjb25zdCBsZWZ0UGFuZWwgPSBtb2JpbGVQYW5lbHMubGVmdDtcbiAgICAgIGlmIChsZWZ0UGFuZWwgJiYgbGVmdFBhbmVsLnBhcmVudEVsZW1lbnQgPT09IG1vYmlsZVBhbmVsTGF5ZXIpIHtcbiAgICAgICAgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IG1vYmlsZVBhbmVsTGF5ZXIgfHwgcGFuZWwucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0UGFuZWwpIHtcbiAgICAgICAgICBtb2JpbGVQYW5lbExheWVyLmluc2VydEJlZm9yZShwYW5lbCwgbGVmdFBhbmVsLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYW5lbC5wYXJlbnRFbGVtZW50ICE9PSBtb2JpbGVQYW5lbExheWVyKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgfVxuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9IGVsc2UgaWYgKHBhbmVsLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFBsYWNlbWVudCA9ICdvdmVybGF5JztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgIGVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICBlbnN1cmVSaWdodFBhbmVsUGxhY2VtZW50KCk7XG4gIH07XG4gIGVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50KCk7XG4gIGNvbnN0IHBhbmVsRGVmYXVsdFogPSB7fTtcbiAgT2JqZWN0LmVudHJpZXMobW9iaWxlUGFuZWxzKS5mb3JFYWNoKChbc2lkZSwgcGFuZWxdKSA9PiB7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFogPSBOdW1iZXIod2luZG93LmdldENvbXB1dGVkU3R5bGUocGFuZWwpLnpJbmRleCkgfHwgMDtcbiAgICBwYW5lbERlZmF1bHRaW3NpZGVdID0gY29tcHV0ZWRaO1xuICB9KTtcbiAgY29uc3QgbWF4RGVmYXVsdFogPVxuICAgIE9iamVjdC52YWx1ZXMocGFuZWxEZWZhdWx0WikucmVkdWNlKChtYXgsIHZhbHVlKSA9PiBNYXRoLm1heChtYXgsIHZhbHVlIHx8IDApLCAwKSB8fCAxNTA7XG4gIGNvbnN0IGFjdGl2ZVBhbmVsWiA9IG1heERlZmF1bHRaICsgNTtcbiAgY29uc3Qgc2V0UGFuZWxaU3RhdGUgPSAoc2lkZSwgaXNBY3RpdmUpID0+IHtcbiAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHBhbmVsLnN0eWxlLnpJbmRleCA9IFN0cmluZyhhY3RpdmVQYW5lbFopO1xuICAgIH0gZWxzZSBpZiAocGFuZWxEZWZhdWx0WltzaWRlXSkge1xuICAgICAgcGFuZWwuc3R5bGUuekluZGV4ID0gU3RyaW5nKHBhbmVsRGVmYXVsdFpbc2lkZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXBwbHlQYW5lbENsYXNzZXMgPSAocGFuZWwsIGNsYXNzZXMsIG1ldGhvZCkgPT4ge1xuICAgIGlmICghcGFuZWwgfHwgIWNsYXNzZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xhc3Nlc1xuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoKGNscykgPT4gY2xzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5mb3JFYWNoKChjbHMpID0+IHBhbmVsLmNsYXNzTGlzdFttZXRob2RdKGNscykpO1xuICB9O1xuICBjb25zdCBzZXRQYW5lbEhpZGRlblN0YXRlID0gKHBhbmVsLCBoaWRkZW4pID0+IHtcbiAgICBpZiAoIXBhbmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlbkNsYXNzZXMgPSBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgIGNvbnN0IHZpc2libGVDbGFzc2VzID0gcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbFZpc2libGUgfHwgJ3RyYW5zbGF0ZS14LTAnO1xuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKHBhbmVsLCB2aXNpYmxlQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIGhpZGRlbkNsYXNzZXMsICdhZGQnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLWF1dG8nKTtcbiAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgcGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gPSAnZmFsc2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBseVBhbmVsQ2xhc3NlcyhwYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgYXBwbHlQYW5lbENsYXNzZXMocGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICBwYW5lbC5kYXRhc2V0Lm1vYmlsZVBhbmVsT3BlbiA9ICd0cnVlJztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlTW9iaWxlUGFuZWwgPSAoc2lkZSA9IGFjdGl2ZU1vYmlsZVBhbmVsKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxIaWRkZW5TdGF0ZShwYW5lbCwgdHJ1ZSk7XG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSBudWxsO1xuICAgIGlmIChhY3RpdmVNb2JpbGVQYW5lbCA9PT0gc2lkZSkge1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIHRyaWdnZXI/LmZvY3VzPy4oKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW5Nb2JpbGVQYW5lbCA9IChzaWRlLCB0cmlnZ2VyKSA9PiB7XG4gICAgaWYgKCFzaWRlIHx8IGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFuZWwgPSBtb2JpbGVQYW5lbHNbc2lkZV07XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWN0aXZlTW9iaWxlUGFuZWwgJiYgYWN0aXZlTW9iaWxlUGFuZWwgIT09IHNpZGUpIHtcbiAgICAgIGNsb3NlTW9iaWxlUGFuZWwoYWN0aXZlTW9iaWxlUGFuZWwpO1xuICAgIH1cbiAgICBzZXRQYW5lbEhpZGRlblN0YXRlKHBhbmVsLCBmYWxzZSk7XG4gICAgc2V0UGFuZWxaU3RhdGUoc2lkZSwgdHJ1ZSk7XG4gICAgYWN0aXZlTW9iaWxlUGFuZWwgPSBzaWRlO1xuICAgIG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV0gPSB0cmlnZ2VyIHx8IG51bGw7XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gcGFuZWwucXVlcnlTZWxlY3Rvcihmb2N1c2FibGVTZWxlY3Rvcik7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9jdXNUYXJnZXQ/LmZvY3VzPy4oKTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3Qgc3luY01vYmlsZVBhbmVsc1dpdGhWaWV3cG9ydCA9ICgpID0+IHtcbiAgICBlbnN1cmVNb2JpbGVQYW5lbFBsYWNlbWVudCgpO1xuICAgIGlmIChpc0Rlc2t0b3BWaWV3cG9ydCgpKSB7XG4gICAgICBtb2JpbGVQYW5lbE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgbW9iaWxlUGFuZWxMYXllcj8uY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgIGFjdGl2ZU1vYmlsZVBhbmVsID0gbnVsbDtcbiAgICAgIE9iamVjdC5rZXlzKG1vYmlsZVBhbmVscykuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgICBjb25zdCBwYW5lbCA9IG1vYmlsZVBhbmVsc1tzaWRlXTtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYW5lbFpTdGF0ZShzaWRlLCBmYWxzZSk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtYXV0bycpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHBhbmVsLmRhdGFzZXQubW9iaWxlUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVBhbmVsVHJpZ2dlcnNbc2lkZV07XG4gICAgICAgIHRyaWdnZXI/LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtb2JpbGVQYW5lbFRyaWdnZXJzW3NpZGVdID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZW50cmllcyhtb2JpbGVQYW5lbHMpLmZvckVhY2goKFtzaWRlLCBwYW5lbF0pID0+IHtcbiAgICAgICAgaWYgKCFwYW5lbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFuZWwuZGF0YXNldC5tb2JpbGVQYW5lbE9wZW4gIT09ICd0cnVlJykge1xuICAgICAgICAgIHNldFBhbmVsSGlkZGVuU3RhdGUocGFuZWwsIHRydWUpO1xuICAgICAgICAgIHNldFBhbmVsWlN0YXRlKHNpZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFjdGl2ZU1vYmlsZVBhbmVsKSB7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgICAgbW9iaWxlUGFuZWxPdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1vYmlsZVBhbmVsTGF5ZXI/LmNsYXNzTGlzdC5hZGQoJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGlmIChtb2JpbGVQYW5lbFRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgIG1vYmlsZVBhbmVsVG9nZ2xlcy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGNvbnN0IHNpZGUgPSBidXR0b24uZGF0YXNldC5tb2JpbGVQYW5lbFRvZ2dsZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZU1vYmlsZVBhbmVsID09PSBzaWRlKSB7XG4gICAgICAgICAgY2xvc2VNb2JpbGVQYW5lbChzaWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuTW9iaWxlUGFuZWwoc2lkZSwgYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbW9iaWxlUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBjb25zdCBzaWRlID0gYnV0dG9uLmRhdGFzZXQubW9iaWxlUGFuZWxDbG9zZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9iaWxlUGFuZWwoc2lkZSkpO1xuICAgIH0pO1xuICAgIG1vYmlsZVBhbmVsT3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjbG9zZU1vYmlsZVBhbmVsKCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBhY3RpdmVNb2JpbGVQYW5lbCAmJiAhaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICBjbG9zZU1vYmlsZVBhbmVsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQpO1xuICAgIHN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQoKTtcbiAgfVxuXG4gIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFzaXRlVG9hc3QgfHwgIXNpdGVUb2FzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVRvYXN0TWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgc2l0ZVRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmICh0b2FzdFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRvYXN0VGltZW91dElkKTtcbiAgICB9XG4gICAgdG9hc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVUb2FzdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9LCAyNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVMZWFkaW5nU2xhc2goc2x1Zykge1xuICAgIGlmICghc2x1Zykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCB0cmltbWVkID0gYCR7c2x1Z31gLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2l0aG91dExlYWRpbmcgPSB0cmltbWVkLnJlcGxhY2UoL15cXC8rLywgJycpO1xuICAgIGlmICghd2l0aG91dExlYWRpbmcpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIHJldHVybiBgLyR7d2l0aG91dExlYWRpbmd9YDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHNsdWcpIHtcbiAgICBpZiAoIXNsdWcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3NsdWd9YC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgfVxuXG4gIGNvbnN0IHBlcnNpc3RTaXRlU3RhdGUgPSAoc2x1ZywgbmFtZSkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gc2x1ZyA/IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKSA6IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub3JtYWxpemVkU2x1Zykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQUNUSVZFX1NJVEVfS0VZLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TSVRFX05BTUVfS0VZLCBuYW1lKTtcbiAgICAgICAgc3RvcmVkU2l0ZS5uYW1lID0gbmFtZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHN0b3JlZFNpdGUuc2x1ZyA9IG5vcm1hbGl6ZWRTbHVnIHx8IHN0b3JlZFNpdGUuc2x1ZztcbiAgICAgIHN0b3JlZFNpdGUubmFtZSA9IG5hbWUgfHwgc3RvcmVkU2l0ZS5uYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVTaXRlTGFiZWxzID0gKG5hbWUpID0+IHtcbiAgICBpZiAoc2l0ZU5hbWVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICBzaXRlTmFtZUxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9XG4gICAgaWYgKHdvcmtzcGFjZVNpdGVMYWJlbCAmJiBuYW1lKSB7XG4gICAgICB3b3Jrc3BhY2VTaXRlTGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgICBpZiAod29ya3NwYWNlQmFja05hbWUgJiYgbmFtZSkge1xuICAgICAgd29ya3NwYWNlQmFja05hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyA9IChzbHVnKSA9PiB7XG4gICAgd29ya3NwYWNlTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgY29uc3QgdGFiID0gbGluay5kYXRhc2V0LndvcmtzcGFjZVRhYjtcbiAgICAgIGlmICghdGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc2x1Zykge1xuICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScsICdvcGFjaXR5LTUwJywgJ3RleHQtc2xhdGUtNDAwJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goc2x1ZykpO1xuICAgICAgbGluay5ocmVmID0gYC9hZG1pbi9zaXRlLyR7c2x1Z1BhdGh9LyR7dGFifWA7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCAnb3BhY2l0eS01MCcsICd0ZXh0LXNsYXRlLTQwMCcpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhcHBseUFjdGl2ZVNpdGUgPSAoc2x1Zywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFzbHVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKHNsdWcpO1xuICAgIGxldCBhY3RpdmVTaXRlTmFtZSA9XG4gICAgICBvcHRpb25zLnNpdGVOYW1lIHx8IHN0b3JlZFNpdGUubmFtZSB8fCBzaXRlTmFtZUxhYmVsPy5kYXRhc2V0LmRlZmF1bHRTaXRlTmFtZSB8fCAnJztcbiAgICBzaXRlQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goY2FyZC5kYXRhc2V0LnNpdGVDYXJkIHx8ICcnKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2FyZFNsdWcgPT09IG5vcm1hbGl6ZWRTbHVnO1xuICAgICAgY29uc3QgYmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtYWN0aXZlLWJhZGdlXScpO1xuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLVsjOUM2QkZGXScsICdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nLCAnc2hhZG93LW1kJyk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXNsYXRlLTIwMCcpO1xuICAgICAgICBiYWRnZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGFjdGl2ZVNpdGVOYW1lID0gY2FyZC5kYXRhc2V0LnNpdGVOYW1lIHx8IGFjdGl2ZVNpdGVOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScsICdzaGFkb3ctbWQnKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdib3JkZXItc2xhdGUtMjAwJyk7XG4gICAgICAgIGJhZGdlPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wZXJzaXN0ICE9PSBmYWxzZSkge1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShub3JtYWxpemVkU2x1Zywgb3B0aW9ucy5zaXRlTmFtZSB8fCBhY3RpdmVTaXRlTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsTmFtZSA9IG9wdGlvbnMuc2l0ZU5hbWUgfHwgYWN0aXZlU2l0ZU5hbWU7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhmaW5hbE5hbWUpO1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKG5vcm1hbGl6ZWRTbHVnKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RTaXRlID0gYXN5bmMgKHNsdWcsIG5hbWUpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkU2x1ZyA9IGVuc3VyZUxlYWRpbmdTbGFzaChzbHVnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zaXRlcy9zZWxlY3QnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzbHVnOiBub3JtYWxpemVkU2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBzaG93VG9hc3QocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGNlIHNpdGUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zdCBmaW5hbFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2gocGF5bG9hZC5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IHBheWxvYWQubmFtZSB8fCBuYW1lO1xuICAgICAgcGVyc2lzdFNpdGVTdGF0ZShmaW5hbFNsdWcsIGZpbmFsTmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoZmluYWxTbHVnLCB7IHNpdGVOYW1lOiBmaW5hbE5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgY29uc3Qgc2x1Z1BhdGggPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaXBMZWFkaW5nU2xhc2goZmluYWxTbHVnKSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW4vc2l0ZS8ke3NsdWdQYXRofS9kZXNpZ25gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkbWluXSBJbXBvc3NpYmxlIGRlIHNcdTAwRTlsZWN0aW9ubmVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2hvd1RvYXN0KCdFcnJldXIgaW5hdHRlbmR1ZSBsb3JzIGRlIGxhIHNcdTAwRTlsZWN0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzeW5jQWN0aXZlU2l0ZUZyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMvY3VycmVudCcsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCAmJiB3b3Jrc3BhY2VDb250ZXh0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3NpdGVzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBlbnN1cmVMZWFkaW5nU2xhc2goc2l0ZS5zbHVnKTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUobm9ybWFsaXplZFNsdWcsIHNpdGUubmFtZSk7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUobm9ybWFsaXplZFNsdWcsIHsgc2l0ZU5hbWU6IHNpdGUubmFtZSwgcGVyc2lzdDogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSByXHUwMEU5Y3VwXHUwMEU5cmVyIGxlIHNpdGUgYWN0aWYnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoaWdobGlnaHRGcm9tU3RvcmFnZU9yRGVmYXVsdCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmVkU2l0ZS5zbHVnKSB7XG4gICAgICBhcHBseUFjdGl2ZVNpdGUoc3RvcmVkU2l0ZS5zbHVnLCB7IHNpdGVOYW1lOiBzdG9yZWRTaXRlLm5hbWUsIHBlcnNpc3Q6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtY2FyZF1bZGF0YS1zaXRlLWRlZmF1bHQ9XCJ0cnVlXCJdJykgfHwgc2l0ZUNhcmRzWzBdO1xuICAgIGlmIChkZWZhdWx0Q2FyZCkge1xuICAgICAgYXBwbHlBY3RpdmVTaXRlKGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZUNhcmQsIHtcbiAgICAgICAgc2l0ZU5hbWU6IGRlZmF1bHRDYXJkLmRhdGFzZXQuc2l0ZU5hbWUgfHwgJycsXG4gICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGhpZ2hsaWdodEZyb21TdG9yYWdlT3JEZWZhdWx0KCk7XG4gIHN5bmNBY3RpdmVTaXRlRnJvbVNlcnZlcigpO1xuICBpZiAod29ya3NwYWNlQ29udGV4dCkge1xuICAgIHVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzKHdvcmtzcGFjZUNvbnRleHQuc2x1Z1ZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdG9yZWRTaXRlLnNsdWcpIHtcbiAgICB1cGRhdGVXb3Jrc3BhY2VOYXZMaW5rcyhzdG9yZWRTaXRlLnNsdWcpO1xuICB9XG5cbiAgc2l0ZVNlbGVjdEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzbHVnID0gYnV0dG9uLmRhdGFzZXQuc2l0ZVNlbGVjdDtcbiAgICAgIGNvbnN0IG5hbWUgPSBidXR0b24uZGF0YXNldC5zaXRlU2VsZWN0TmFtZSB8fCAnQ2Ugc2l0ZSc7XG4gICAgICBpZiAoIXNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdFNpdGUoc2x1ZywgbmFtZSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHdvcmtzcGFjZVNsdWdpZnkgPSAodmFsdWUpID0+XG4gICAgKHZhbHVlIHx8ICcnKVxuICAgICAgLm5vcm1hbGl6ZSgnTkZEJylcbiAgICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplU2x1Z1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUgfHwgJycpO1xuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gYC8ke2Jhc2V9YDtcbiAgfTtcblxuICBjb25zdCBvcGVuU2l0ZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICghc2l0ZU1vZGFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBzaXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIHNpdGVGb3JtPy5yZXNldCgpO1xuICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIGlmIChzaXRlU2x1Z0lucHV0ICYmIHNpdGVOYW1lSW5wdXQpIHtcbiAgICAgIHNpdGVTbHVnSW5wdXQudmFsdWUgPSB3b3Jrc3BhY2VTbHVnaWZ5KHNpdGVOYW1lSW5wdXQudmFsdWUpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCwgY2xvc2VTaXRlTW9kYWwpO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNpdGVOYW1lSW5wdXQ/LmZvY3VzKCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTaXRlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKCFzaXRlTW9kYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHNpdGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgc2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgc2l0ZUZvcm0/LnJlc2V0KCk7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgZGVhY3RpdmF0ZU1vZGFsKHNpdGVNb2RhbCk7XG4gIH07XG5cbiAgc2l0ZUNyZWF0ZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpdGVNb2RhbCk7XG4gIH0pO1xuXG4gIHNpdGVNb2RhbENhbmNlbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VTaXRlTW9kYWwpO1xuICB9KTtcblxuICBzaXRlTW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gc2l0ZU1vZGFsKSB7XG4gICAgICBjbG9zZVNpdGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2l0ZU5hbWVJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2x1Z01hbnVhbGx5RWRpdGVkIHx8IHNpdGVTbHVnSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHdvcmtzcGFjZVNsdWdpZnkoc2l0ZU5hbWVJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIC8vIENsZWFyIGVycm9ycyB3aGVuIHVzZXIgdHlwZXNcbiAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgfSk7XG5cbiAgc2l0ZVNsdWdJbnB1dD8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgLy8gQXV0by1maWxsIHNsdWcgZnJvbSBuYW1lIGlmIGVtcHR5IHdoZW4gdXNlciBmb2N1c2VzIHRoZSBzbHVnIGZpZWxkXG4gICAgY29uc3Qgc2x1Z1ZhbCA9IHNpdGVTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgIGNvbnN0IG5hbWVWYWwgPSBzaXRlTmFtZUlucHV0Py52YWx1ZSB8fCAnJztcbiAgICBpZiAoIXNsdWdWYWwudHJpbSgpICYmIG5hbWVWYWwudHJpbSgpKSB7XG4gICAgICBzaXRlU2x1Z0lucHV0LnZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNpdGVTbHVnSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldFNsdWdTZXQgPSAoKSA9PlxuICAgIG5ldyBTZXQoQXJyYXkuZnJvbShzaXRlQ2FyZHMpLm1hcCgoY2FyZCkgPT4gZW5zdXJlTGVhZGluZ1NsYXNoKGNhcmQuZGF0YXNldC5zaXRlQ2FyZCB8fCAnJykpKTtcblxuICBzaXRlRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBGb3JtIHN1Ym1pdCAtIHNpdGVOYW1lSW5wdXQ6Jywgc2l0ZU5hbWVJbnB1dCwgJ3NpdGVTbHVnSW5wdXQ6Jywgc2l0ZVNsdWdJbnB1dCk7XG4gICAgXG4gICAgaWYgKCFzaXRlTmFtZUlucHV0IHx8ICFzaXRlU2x1Z0lucHV0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBNaXNzaW5nIGlucHV0cywgYWJvcnRpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmFtZVZhbHVlID0gKHNpdGVOYW1lSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgc2x1Z1ZhbHVlID0gKHNpdGVTbHVnSW5wdXQudmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBuYW1lVmFsdWU6JywgbmFtZVZhbHVlLCAnc2x1Z1ZhbHVlOicsIHNsdWdWYWx1ZSk7XG4gICAgXG4gICAgLy8gQXV0by1nZW5lcmF0ZSBzbHVnIGZyb20gbmFtZSBpZiBlbXB0eVxuICAgIGlmICghc2x1Z1ZhbHVlICYmIG5hbWVWYWx1ZSkge1xuICAgICAgc2x1Z1ZhbHVlID0gd29ya3NwYWNlU2x1Z2lmeShuYW1lVmFsdWUpO1xuICAgICAgc2l0ZVNsdWdJbnB1dC52YWx1ZSA9IHNsdWdWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIEF1dG8tZ2VuZXJhdGVkIHNsdWc6Jywgc2x1Z1ZhbHVlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgbm9ybWFsaXplZFNsdWcgPSBub3JtYWxpemVTbHVnVmFsdWUoc2x1Z1ZhbHVlKTtcbiAgICBjb25zb2xlLmxvZygnW2FkbWluXSBub3JtYWxpemVkU2x1ZzonLCBub3JtYWxpemVkU2x1Zyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2FkbWluXSBOYW1lIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgbm9tIGR1IHNpdGUgZXN0IHJlcXVpcy4nKTtcbiAgICAgIHNpdGVOYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgc2x1Z1xuICAgIGlmICghbm9ybWFsaXplZFNsdWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbYWRtaW5dIFNsdWcgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIHNpdGVTbHVnRXJyb3IgJiYgKHNpdGVTbHVnRXJyb3IudGV4dENvbnRlbnQgPSAnTGUgc2x1ZyBuZSBwZXV0IHBhcyBcdTAwRUF0cmUgdmlkZSBvdSBjb250ZW5pciB1bmlxdWVtZW50IGRlcyBjYXJhY3RcdTAwRThyZXMgc3BcdTAwRTljaWF1eC4nKTtcbiAgICAgIHNpdGVTbHVnSW5wdXQuZm9jdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdTbHVncyA9IGdldFNsdWdTZXQoKTtcbiAgICBpZiAoZXhpc3RpbmdTbHVncy5oYXMobm9ybWFsaXplZFNsdWcpKSB7XG4gICAgICBzaXRlU2x1Z0Vycm9yICYmIChzaXRlU2x1Z0Vycm9yLnRleHRDb250ZW50ID0gJ0NlIHNsdWcgZXN0IGRcdTAwRTlqXHUwMEUwIHV0aWxpc1x1MDBFOS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICBzaXRlTW9kYWxFcnJvciAmJiAoc2l0ZU1vZGFsRXJyb3IudGV4dENvbnRlbnQgPSAnJyk7XG4gICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWF0aW9uLi4uJztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2l0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lVmFsdWUsIHNsdWc6IG5vcm1hbGl6ZWRTbHVnIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZSBzaXRlLic7XG4gICAgICAgIHNpdGVNb2RhbEVycm9yICYmIChzaXRlTW9kYWxFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICBpZiAocGF5bG9hZC5maWVsZCA9PT0gJ3NsdWcnKSB7XG4gICAgICAgICAgc2l0ZVNsdWdFcnJvciAmJiAoc2l0ZVNsdWdFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNyZWF0ZWRTaXRlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgZmluYWxTbHVnID0gZW5zdXJlTGVhZGluZ1NsYXNoKGNyZWF0ZWRTaXRlPy5zbHVnIHx8IG5vcm1hbGl6ZWRTbHVnKTtcbiAgICAgIGNvbnN0IGZpbmFsTmFtZSA9IGNyZWF0ZWRTaXRlPy5uYW1lIHx8IG5hbWVWYWx1ZTtcbiAgICAgIHBlcnNpc3RTaXRlU3RhdGUoZmluYWxTbHVnLCBmaW5hbE5hbWUpO1xuICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIGNvbnN0IHNsdWdQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwTGVhZGluZ1NsYXNoKGZpbmFsU2x1ZykpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluL3NpdGUvJHtzbHVnUGF0aH0vZGVzaWduYDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1thZG1pbl0gSW1wb3NzaWJsZSBkZSBjclx1MDBFOWVyIGxlIHNpdGUnLCBlcnIpO1xuICAgICAgc2l0ZU1vZGFsRXJyb3IgJiYgKHNpdGVNb2RhbEVycm9yLnRleHRDb250ZW50ID0gJ0VycmV1ciBpbmF0dGVuZHVlLiBSXHUwMEU5ZXNzYWllIGRhbnMgdW4gaW5zdGFudC4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNpdGVNb2RhbFN1Ym1pdEJ1dHRvbikge1xuICAgICAgICBzaXRlTW9kYWxTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc2l0ZU1vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5ZXInO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgaWYgKHNpdGVNb2RhbCAmJiAhc2l0ZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgY2xvc2VTaXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh3b3Jrc3BhY2VCYWNrTW9kYWwgJiYgIXdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlV29ya3NwYWNlQmFja01vZGFsKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tEZWxldGVNb2RhbCAmJiAhYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFdvcmtzcGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cXC9hZG1pblxcL3NpdGVcXC8oW14vXSspKD86XFwvKFteL10rKSk/Lyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzbHVnUGFydDogZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSxcbiAgICAgIHNsdWdWYWx1ZTogZW5zdXJlTGVhZGluZ1NsYXNoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLFxuICAgICAgc2VjdGlvbjogbWF0Y2hbMl0gfHwgJ2Rlc2lnbicsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdFdvcmtzcGFjZVNlY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtbGlzdF0nKSkge1xuICAgICAgcmV0dXJuICdkZXNpZ24nO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1saXN0XScpKSB7XG4gICAgICByZXR1cm4gJ2NvbnRlbnQnO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZ3JpZF0nKSkge1xuICAgICAgcmV0dXJuICdtZWRpYSc7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktZm9ybV0nKSkge1xuICAgICAgcmV0dXJuICdkZXBsb3knO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwoKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2VCYWNrTW9kYWwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hZG1pbi9zaXRlcyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdvcmtzcGFjZUJhY2tNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgIGFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCgpIHtcbiAgICBpZiAoIXdvcmtzcGFjZUJhY2tNb2RhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3b3Jrc3BhY2VCYWNrTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgd29ya3NwYWNlQmFja01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcbiAgICBkZWFjdGl2YXRlTW9kYWwod29ya3NwYWNlQmFja01vZGFsKTtcbiAgfVxuXG4gIHdvcmtzcGFjZUJhY2tCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Xb3Jrc3BhY2VCYWNrTW9kYWwpO1xuICB9KTtcbiAgd29ya3NwYWNlQmFja0NhbmNlbC5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdvcmtzcGFjZUJhY2tNb2RhbCk7XG4gIH0pO1xuICB3b3Jrc3BhY2VCYWNrQ29uZmlybT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vc2l0ZXMnO1xuICB9KTtcblxuICBjb25zdCBUUkFOU1BBUkVOVF9QQVRURVJOID1cbiAgICAncmVwZWF0aW5nLWNvbmljLWdyYWRpZW50KCNjY2MgMCUgMjUlLCB3aGl0ZSAwJSA1MCUpIDUwJSAvIDhweCA4cHgnO1xuICBjb25zdCBwYXJzZUNzc0NvbG9yVG9SZ2IgPSAodmFsdWUpID0+IHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcmdiTWF0Y2ggPSBub3JtYWxpemVkLm1hdGNoKFxuICAgICAgL15yZ2JcXFxcKFxcXFxzKihcXFxcZHsxLDN9KVxcXFxzKixcXFxccyooXFxcXGR7MSwzfSlcXFxccyosXFxcXHMqKFxcXFxkezEsM30pXFxcXHMqXFxcXCkkLyxcbiAgICApO1xuICAgIGlmIChyZ2JNYXRjaCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBOdW1iZXIocmdiTWF0Y2hbMV0pKSksXG4gICAgICAgIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTnVtYmVyKHJnYk1hdGNoWzJdKSkpLFxuICAgICAgICBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE51bWJlcihyZ2JNYXRjaFszXSkpKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IGhleE1hdGNoID0gbm9ybWFsaXplZC5tYXRjaCgvXiMoW2EtZjAtOV17M318W2EtZjAtOV17Nn0pJC8pO1xuICAgIGlmIChoZXhNYXRjaCkge1xuICAgICAgY29uc3QgaGV4ID0gaGV4TWF0Y2hbMV07XG4gICAgICBjb25zdCBub3JtYWxpemVkSGV4ID1cbiAgICAgICAgaGV4Lmxlbmd0aCA9PT0gMyA/IGhleC5zcGxpdCgnJykubWFwKChjKSA9PiBgJHtjfSR7Y31gKS5qb2luKCcnKSA6IGhleDtcbiAgICAgIGNvbnN0IHIgPSBwYXJzZUludChub3JtYWxpemVkSGV4LnNsaWNlKDAsIDIpLCAxNik7XG4gICAgICBjb25zdCBnID0gcGFyc2VJbnQobm9ybWFsaXplZEhleC5zbGljZSgyLCA0KSwgMTYpO1xuICAgICAgY29uc3QgYiA9IHBhcnNlSW50KG5vcm1hbGl6ZWRIZXguc2xpY2UoNCwgNiksIDE2KTtcbiAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBjb25zdCBnZXRSZWFkYWJsZVRleHRDb2xvciA9IChiYWNrZ3JvdW5kQ29sb3IpID0+IHtcbiAgICBjb25zdCByZ2IgPSBwYXJzZUNzc0NvbG9yVG9SZ2IoYmFja2dyb3VuZENvbG9yKTtcbiAgICBpZiAoIXJnYikgcmV0dXJuICcjMGYxNzJhJztcbiAgICBjb25zdCBbciwgZywgYl0gPSByZ2I7XG4gICAgY29uc3QgbHVtaW5hbmNlID0gKDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYikgLyAyNTU7XG4gICAgcmV0dXJuIGx1bWluYW5jZSA+IDAuNjIgPyAnIzBmMTcyYScgOiAnI2ZmZmZmZic7XG4gIH07XG4gIGNvbnN0IHN0eWxlU2VsZWN0T3B0aW9ucyA9IChzZWxlY3QpID0+IHtcbiAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgIEFycmF5LmZyb20oc2VsZWN0Lm9wdGlvbnMpLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uQ29sb3IgPSBvcHRpb24uZGF0YXNldD8uY29sb3I7XG4gICAgICBpZiAoIW9wdGlvbkNvbG9yKSByZXR1cm47XG4gICAgICBpZiAob3B0aW9uQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gb3B0aW9uQ29sb3I7XG4gICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcihvcHRpb25Db2xvcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHdvcmtzcGFjZUNvbnRleHQ/LnNlY3Rpb24gfHwgZGV0ZWN0V29ya3NwYWNlU2VjdGlvbigpO1xuXG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVzaWduJykge1xuICAgIGluaXREZXNpZ25Xb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgaW5pdENvbnRlbnRXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ21lZGlhJykge1xuICAgIGluaXRNZWRpYVdvcmtzcGFjZSgpO1xuICB9XG4gIGlmIChhY3RpdmVTZWN0aW9uID09PSAnZGVwbG95Jykge1xuICAgIGluaXREZXBsb3lXb3Jrc3BhY2UoKTtcbiAgfVxuICBpZiAoYWN0aXZlU2VjdGlvbiA9PT0gJ3NldHRpbmdzJykge1xuICAgIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpO1xuICB9XG5cbiAgaWYgKHdvcmtzcGFjZUNvbnRleHQgJiYgc3RvcmVkU2l0ZS5uYW1lKSB7XG4gICAgdXBkYXRlU2l0ZUxhYmVscyhzdG9yZWRTaXRlLm5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlc2lnbldvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBwYWdlTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYWdlLWxpc3RdJyk7XG4gICAgaWYgKHBhZ2VMaXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmUtcGFnZS10aXRsZV0nKTtcbiAgICBjb25zdCBhY3RpdmVTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBwcmV2aWV3VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy10YWdzXScpO1xuICAgIGNvbnN0IHByZXZpZXdGcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2UtcHJldmlldy1mcmFtZV0nKTtcbiAgICBjb25zdCBwcmV2aWV3RnJhbWVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LWZyYW1lLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgcHJldmlld1NoZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcmV2aWV3LXNoZWxsXScpO1xuICAgIGNvbnN0IHByZXZpZXdWaWV3QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByZXZpZXctdmlldy1idXR0b25dJyk7XG4gICAgY29uc3QgcHJldmlld0N1cnJlbnRWaWV3TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByZXZpZXctY3VycmVudC12aWV3XScpO1xuICAgIGNvbnN0IHByZXZpZXdPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlldy1vcGVuXScpO1xuICAgIGNvbnN0IHByZXZpZXdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmV2aWV3LXN0YXR1c10nKTtcbiAgICBjb25zdCBwcmV2aWV3SGlnaGxpZ2h0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZXZpZXctaGlnaGxpZ2h0XScpO1xuICAgIC8vIFNFTyBwYW5lbCBlbGVtZW50c1xuICAgIGNvbnN0IHNlb1RvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby10b2dnbGVdJyk7XG4gICAgY29uc3Qgc2VvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tcGFuZWxdJyk7XG4gICAgY29uc3Qgc2VvQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY2xvc2VdJyk7XG4gICAgY29uc3Qgc2VvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mb3JtXScpO1xuICAgIGNvbnN0IHNlb1RpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tdGl0bGVdJyk7XG4gICAgY29uc3Qgc2VvRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1kZXNjcmlwdGlvbl0nKTtcbiAgICBjb25zdCBzZW9JbmRleGVkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8taW5kZXhlZF0nKTtcbiAgICBjb25zdCBzZW9GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1mZWVkYmFja10nKTtcbiAgICBjb25zdCBzZW9TYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS10b2dnbGVdJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktcGFuZWxdJyk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LWNsb3NlXScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU5hdkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktbmF2XScsXG4gICAgKTtcbiAgICBjb25zdCBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnW2RhdGEtcGFnZS1hY2Nlc3NpYmlsaXR5LW1haW5dJyxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJ1tkYXRhLXBhZ2UtYWNjZXNzaWJpbGl0eS1mZWVkYmFja10nLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1wYWdlLWFjY2Vzc2liaWxpdHktc2F2ZV0nLFxuICAgICk7XG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGVsZW1lbnRzXG4gICAgY29uc3QgcGFnZVByb3BzVG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy10b2dnbGVdJyk7XG4gICAgY29uc3QgcGFnZVByb3BzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXByb3BzLXBhbmVsXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0Nsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1jbG9zZV0nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mb3JtXScpO1xuICAgIGNvbnN0IHBhZ2VOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLW5hbWVdJyk7XG4gICAgY29uc3QgcGFnZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXRpdGxlLWlucHV0XScpO1xuICAgIGNvbnN0IHBhZ2VTbHVnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLXNsdWctaW5wdXRdJyk7XG4gICAgY29uc3QgcGFnZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IHBhZ2VQcm9wc0ZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1mZWVkYmFja10nKTtcbiAgICBjb25zdCBwYWdlUHJvcHNTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1wcm9wcy1zYXZlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2Nrcy1saXN0XScpO1xuICAgIGNvbnN0IGJsb2NrTGlzdEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tzLWVtcHR5XScpO1xuICAgIGNvbnN0IGJsb2NrQ291bnRCYWRnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWNvdW50XScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnktdG9nZ2xlXScpO1xuICAgIGNvbnN0IGJsb2NrTGlicmFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWxpYnJhcnldJyk7XG4gICAgY29uc3QgYmxvY2tBZGRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stYWRkXScpO1xuICAgIGNvbnN0IGJsb2NrRGVsZXRlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgYmxvY2tEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZWxldGUtY2FuY2VsXScpO1xuICAgIGNvbnN0IGJsb2NrRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtZW1wdHldJyk7XG4gICAgY29uc3QgYmxvY2tEZXRhaWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1kZXRhaWwtc3RhdHVzXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yXScpO1xuICAgIGNvbnN0IGJsb2NrRWRpdG9yVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stbmFtZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1lZGl0b3ItYmxvY2stdHlwZV0nKTtcbiAgICBjb25zdCBibG9ja0VkaXRvclVuc3VwcG9ydGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2stZWRpdG9yLXVuc3VwcG9ydGVkXScpO1xuICAgIGNvbnN0IGJsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm1dJyk7XG4gICAgY29uc3Qgc3R5bGVDb2xvckNoaXAgPSAoY2hpcCwgY29sb3IpID0+IHtcbiAgICAgIGlmICghY2hpcCkgcmV0dXJuO1xuICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIGNoaXAuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2NiZDVmNSc7XG4gICAgICAgIGNoaXAuc3R5bGUuYm94U2hhZG93ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yO1xuICAgICAgY2hpcC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDAgMXB4IHJnYmEoMTUsMjMsNDIsMC4xNSknO1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24gPSAoc2VsZWN0LCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QgfHwgIXZhbHVlKSByZXR1cm47XG4gICAgICBpZiAoQXJyYXkuZnJvbShzZWxlY3Qub3B0aW9ucykuc29tZSgob3B0KSA9PiBvcHQudmFsdWUgPT09IHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gJ0NvdWxldXIgcGVyc29ubmFsaXNcdTAwRTllJztcbiAgICAgIG9wdGlvbi5kYXRhc2V0LmNvbG9yID0gdmFsdWU7XG4gICAgICBpZiAodmFsdWUgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSAnIzQ3NTU2OSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IHZhbHVlO1xuICAgICAgICBvcHRpb24uc3R5bGUuY29sb3IgPSBnZXRSZWFkYWJsZVRleHRDb2xvcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29sb3JTZWxlY3RQcmV2aWV3ID0gKHNlbGVjdCkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgY29uc3QgY29sb3IgPSBzZWxlY3RlZE9wdGlvbj8uZGF0YXNldD8uY29sb3IgfHwgJyNmZmZmZmYnO1xuICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgY29sb3JDaGlwID0gc2VsZWN0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1jb2xvci1jaGlwXScpO1xuICAgICAgc3R5bGVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHRoZW1lQ29sb3JTZWxlY3RzID0gYmxvY2tGb3JtXG4gICAgICA/IEFycmF5LmZyb20oYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRoZW1lLWNvbG9yLXNlbGVjdF0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gc2VsZWN0Py5nZXRBdHRyaWJ1dGU/LignbmFtZScpIHx8ICcnO1xuICAgICAgcmV0dXJuIG5hbWUuZW5kc1dpdGgoJy1iZycpO1xuICAgIH07XG4gICAgY29uc3QgdGhlbWVDb2xvclByZXNldHMgPSBbXG4gICAgICB7IGxhYmVsOiAnQ291bGV1ciBwcmltYWlyZScsIHZhbHVlOiAndGhlbWUtcHJpbWFyeScsIGNzc1ZhcjogJy0tY29sb3ItcHJpbWFyeScgfSxcbiAgICAgIHsgbGFiZWw6ICdDb3VsZXVyIHNlY29uZGFpcmUnLCB2YWx1ZTogJ3RoZW1lLXNlY29uZGFyeScsIGNzc1ZhcjogJy0tY29sb3Itc2Vjb25kYXJ5JyB9LFxuICAgICAgeyBsYWJlbDogJ0NvdWxldXIgYWNjZW50JywgdmFsdWU6ICd0aGVtZS1hY2NlbnQnLCBjc3NWYXI6ICctLWNvbG9yLWFjY2VudCcgfSxcbiAgICAgIHsgbGFiZWw6ICdGb25kJywgdmFsdWU6ICd0aGVtZS1iYWNrZ3JvdW5kJywgY3NzVmFyOiAnLS1jb2xvci1iYWNrZ3JvdW5kJyB9LFxuICAgICAgeyBsYWJlbDogJ1RleHRlJywgdmFsdWU6ICd0aGVtZS10ZXh0JywgY3NzVmFyOiAnLS1jb2xvci10ZXh0JyB9LFxuICAgIF07XG4gICAgY29uc3QgZ2V0Q29tcHV0ZWRUaGVtZUNvbG9yVmFsdWUgPSAoY3NzVmFyLCBmYWxsYmFjayA9ICcjZmZmZmZmJykgPT4ge1xuICAgICAgaWYgKCFjc3NWYXIpIHJldHVybiBmYWxsYmFjaztcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzVmFyKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCA/IGNvbXB1dGVkLnRyaW0oKSA6IGZhbGxiYWNrO1xuICAgIH07XG4gICAgY29uc3QgZmlsbFRoZW1lQ29sb3JTZWxlY3QgPSAoc2VsZWN0KSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdCkgcmV0dXJuO1xuICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgdGhlbWVDb2xvclByZXNldHMuZm9yRWFjaCgoeyBsYWJlbCwgdmFsdWUsIGNzc1ZhciB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IGdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlKGNzc1Zhcik7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICBvcHRpb24uZGF0YXNldC5jb2xvciA9IGNvbG9yVmFsdWU7XG4gICAgICAgIGlmIChjb2xvclZhbHVlID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgb3B0aW9uLnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9ICcjNDc1NTY5JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JWYWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi5zdHlsZS5jb2xvciA9IGdldFJlYWRhYmxlVGV4dENvbG9yKGNvbG9yVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdC52YWx1ZSA9IHRoZW1lQ29sb3JQcmVzZXRzWzBdLnZhbHVlO1xuICAgICAgICBzZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICBpZiAoaXNCYWNrZ3JvdW5kVGhlbWVTZWxlY3Qoc2VsZWN0KSkge1xuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWxlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyhzZWxlY3QpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyA9ICgpID0+IHRoZW1lQ29sb3JTZWxlY3RzLmZvckVhY2goZmlsbFRoZW1lQ29sb3JTZWxlY3QpO1xuICAgICAgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhaS10aGVtZS11cGRhdGVkJywgcmVmcmVzaFRoZW1lQ29sb3JTZWxlY3RzKTtcbiAgICBjb25zdCBibG9ja0Zvcm1TZWN0aW9ucyA9IGJsb2NrRm9ybVxuICAgICAgPyBBcnJheS5mcm9tKGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0b3Itc2VjdGlvbl0nKSlcbiAgICAgIDogW107XG4gICAgY29uc3QgZ2V0QmxvY2tFZGl0b3JTZWN0aW9uRWxlbWVudCA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWc/LnNlY3Rpb24pIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIGJsb2NrRm9ybS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1lZGl0b3Itc2VjdGlvbj1cIiR7Y29uZmlnLnNlY3Rpb259XCJdYCk7XG4gICAgfTtcbiAgICAvLyBPbmdsZXRzIENvbnRlbnUgLyBBcHBhcmVuY2VcbiAgICBjb25zdCBibG9ja1RhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ibG9jay10YWJdJyk7XG4gICAgbGV0IGFjdGl2ZUJsb2NrVGFiID0gJ2NvbnRlbnQnO1xuXG4gICAgLy8gT25nbGV0cyBwYW5uZWF1IGdhdWNoZSAoQmxvY3MgLyBQYWdlcylcbiAgICBjb25zdCBsZWZ0UGFuZWxUYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbGVmdC10YWJdJyk7XG4gICAgY29uc3QgbGVmdFBhbmVsQmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cImJsb2Nrc1wiXScpO1xuICAgIGNvbnN0IGxlZnRQYW5lbFBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGVmdC1wYW5lbD1cInBhZ2VzXCJdJyk7XG4gICAgbGV0IGFjdGl2ZUxlZnRUYWIgPSAnYmxvY2tzJztcblxuICAgIC8vIEZvbmN0aW9uIHBvdXIgc3dpdGNoZXIgZW50cmUgbGVzIG9uZ2xldHMgQmxvY3MvUGFnZXMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBjb25zdCBzd2l0Y2hMZWZ0VGFiID0gKHRhYk5hbWUpID0+IHtcbiAgICAgIGFjdGl2ZUxlZnRUYWIgPSB0YWJOYW1lO1xuICAgICAgbGVmdFBhbmVsVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5sZWZ0VGFiID09PSB0YWJOYW1lO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ3RleHQtWyM5QzZCRkZdJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2xhdGUtNTAwJywgJ2hvdmVyOnRleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FmdGVyOmFic29sdXRlJywgJ2FmdGVyOmJvdHRvbS0wJywgJ2FmdGVyOmxlZnQtMCcsICdhZnRlcjpyaWdodC0wJywgJ2FmdGVyOmgtMC41JywgJ2FmdGVyOmJnLVsjOUM2QkZGXScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBBZmZpY2hlci9tYXNxdWVyIGxlcyBwYW5lbHNcbiAgICAgIGlmIChsZWZ0UGFuZWxCbG9ja3MpIHtcbiAgICAgICAgbGVmdFBhbmVsQmxvY2tzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIHRhYk5hbWUgIT09ICdibG9ja3MnKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0UGFuZWxQYWdlcykge1xuICAgICAgICBsZWZ0UGFuZWxQYWdlcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCB0YWJOYW1lICE9PSAncGFnZXMnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzIHBvdXIgbGVzIG9uZ2xldHMgZHUgcGFubmVhdSBnYXVjaGVcbiAgICBsZWZ0UGFuZWxUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hMZWZ0VGFiKHRhYi5kYXRhc2V0LmxlZnRUYWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRFx1MDBFOWNsYXJhdGlvbnMgZGVzIFx1MDBFOWxcdTAwRTltZW50cyBkJ2FjdGlvbnMgZHUgZm9ybXVsYWlyZSAoYXZhbnQgc3dpdGNoQmxvY2tUYWIpXG4gICAgY29uc3QgYmxvY2tGb3JtQWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYWN0aW9uc10nKTtcbiAgICBjb25zdCBibG9ja0Zvcm1BdXRvc2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrLWZvcm0tYXV0b3NhdmVdJyk7XG5cbiAgICAvLyBGb25jdGlvbiBwb3VyIHN3aXRjaGVyIGVudHJlIGxlcyBvbmdsZXRzIENvbnRlbnUvQXBwYXJlbmNlXG4gICAgY29uc3Qgc3dpdGNoQmxvY2tUYWIgPSAodGFiTmFtZSkgPT4ge1xuICAgICAgYWN0aXZlQmxvY2tUYWIgPSB0YWJOYW1lO1xuICAgICAgLy8gTWV0dHJlIFx1MDBFMCBqb3VyIGxlcyBzdHlsZXMgZGVzIGJvdXRvbnMgZCdvbmdsZXRcbiAgICAgIGJsb2NrVGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0YWIuZGF0YXNldC5ibG9ja1RhYiA9PT0gdGFiTmFtZTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCd0ZXh0LVsjOUM2QkZGXScpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNsYXRlLTUwMCcsICdob3Zlcjp0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhZnRlcjphYnNvbHV0ZScsICdhZnRlcjpib3R0b20tMCcsICdhZnRlcjpsZWZ0LTAnLCAnYWZ0ZXI6cmlnaHQtMCcsICdhZnRlcjpoLTAuNScsICdhZnRlcjpiZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgndGV4dC1zbGF0ZS01MDAnLCAnaG92ZXI6dGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXI6YWJzb2x1dGUnLCAnYWZ0ZXI6Ym90dG9tLTAnLCAnYWZ0ZXI6bGVmdC0wJywgJ2FmdGVyOnJpZ2h0LTAnLCAnYWZ0ZXI6aC0wLjUnLCAnYWZ0ZXI6YmctWyM5QzZCRkZdJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgcGFuZWxzIGRhbnMgbGEgc2VjdGlvbiBhY3RpdmVcbiAgICAgIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVkaXRvci1zZWN0aW9uXTpub3QoLmhpZGRlbiknKTtcbiAgICAgIGlmIChhY3RpdmVTZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IGFjdGl2ZVNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2stcGFuZWxdJyk7XG4gICAgICAgIHBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICAgIGlmIChwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09IHRhYk5hbWUpIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gQWZmaWNoZXIvbWFzcXVlciBsZXMgYm91dG9ucyBzZWxvbiBsJ29uZ2xldFxuICAgICAgLy8gQ29udGVudSBcdTIxOTIgYm91dG9ucyBFbnJlZ2lzdHJlci9Bbm51bGVyXG4gICAgICAvLyBBcHBhcmVuY2UgXHUyMTkyIGluZGljYXRldXIgYXV0by1zYXZlXG4gICAgICBpZiAoYmxvY2tGb3JtQWN0aW9ucyAmJiBibG9ja0Zvcm1BdXRvc2F2ZSkge1xuICAgICAgICBpZiAodGFiTmFtZSA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgYmxvY2tGb3JtQWN0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0Zvcm1BdXRvc2F2ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja0Zvcm1BY3Rpb25zLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIGJsb2NrRm9ybUF1dG9zYXZlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEV2ZW50IGxpc3RlbmVycyBwb3VyIGxlcyBvbmdsZXRzXG4gICAgYmxvY2tUYWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzd2l0Y2hCbG9ja1RhYih0YWIuZGF0YXNldC5ibG9ja1RhYik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbGxlY3Rpb25TZWxlY3QgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb25cIl0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcihcbiAgICAgICdbZGF0YS1jb2xsZWN0aW9uLXNlbGVjdGlvbi1pbmZvXScsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja0Zvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9jay1mb3JtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBncm91cFByZXZpZXdNb2JpbGUgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctbW9iaWxlXScpO1xuICAgIGNvbnN0IGdyb3VwUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdyb3VwLXByZXZpZXctZGVza3RvcF0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld01vYmlsZSA9IGJsb2NrRm9ybT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1wcmV2aWV3LW1vYmlsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AgPSBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tcHJldmlldy1kZXNrdG9wXScpO1xuICAgIGNvbnN0IGJsb2NrVHlwZUZvcm1zID0ge1xuICAgICAgaGVybzoge1xuICAgICAgICBzZWN0aW9uOiAnaGVybycsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdzdWJ0aXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnaGVyby10aXRsZScsXG4gICAgICAgICAgc3VidGl0bGU6ICdoZXJvLXN1YnRpdGxlJyxcbiAgICAgICAgICBjdGFMYWJlbDogJ2hlcm8tY3RhLWxhYmVsJyxcbiAgICAgICAgICBjdGFVcmw6ICdoZXJvLWN0YS11cmwnLFxuICAgICAgICAgIGN0YVRleHRDb2xvcjogJ2hlcm8tY3RhLXRleHQtY29sb3InLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGltYWdlOiAnaGVyby1pbWFnZScsXG4gICAgICAgICAgbGF5b3V0OiAnaGVyby1sYXlvdXQnLFxuICAgICAgICAgIGltYWdlV2lkdGg6ICdoZXJvLWltYWdlLXdpZHRoJyxcbiAgICAgICAgICBpbWFnZUhlaWdodDogJ2hlcm8taW1hZ2UtaGVpZ2h0JyxcbiAgICAgICAgICBpbWFnZU9iamVjdEZpdDogJ2hlcm8taW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgaGVpZ2h0OiAnaGVyby1oZWlnaHQnLFxuICAgICAgICAgIGNvbnRlbnRBbGlnbjogJ2hlcm8tY29udGVudC1hbGlnbicsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiAnaGVyby1ob3Jpem9udGFsLWFsaWduJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdoZXJvLXRleHQtYWxpZ24nLFxuICAgICAgICAgIG92ZXJsYXk6ICdoZXJvLW92ZXJsYXknLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ2hlcm8tdGl0bGUtc2l6ZScsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaGVyby1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaGVyby1ib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICBzaGFkb3c6ICdoZXJvLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAnaGVyby1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaGU6IHtcbiAgICAgICAgc2VjdGlvbjogJ3BhcmFncmFwaCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdjb250ZW50JyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdGl0bGU6ICdwYXJhZ3JhcGgtdGl0bGUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgtY29udGVudCcsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgYWxpZ246ICdwYXJhZ3JhcGgtYWxpZ24nLFxuICAgICAgICAgIHRpdGxlU2l6ZTogJ3BhcmFncmFwaC10aXRsZS1zaXplJyxcbiAgICAgICAgICB0ZXh0U2l6ZTogJ3BhcmFncmFwaC10ZXh0LXNpemUnLFxuICAgICAgICAgIHNwYWNpbmc6ICdwYXJhZ3JhcGgtc3BhY2luZycsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAncGFyYWdyYXBoLWJnJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICdwYXJhZ3JhcGgtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAncGFyYWdyYXBoLXNoYWRvdycsXG4gICAgICAgICAgYm9yZGVyOiAncGFyYWdyYXBoLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgaW1hZ2U6IHtcbiAgICAgICAgc2VjdGlvbjogJ2ltYWdlJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2FsdCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogJ2ltYWdlLXNyYycsXG4gICAgICAgICAgYWx0OiAnaW1hZ2UtYWx0JyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogJ2ltYWdlLWNhcHRpb24tdG9nZ2xlJyxcbiAgICAgICAgICBjYXB0aW9uOiAnaW1hZ2UtY2FwdGlvbicsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgcm91bmRlZDogJ2ltYWdlLXJvdW5kZWQnLFxuICAgICAgICAgIHNoYWRvdzogJ2ltYWdlLXNoYWRvdycsXG4gICAgICAgICAgbWF4V2lkdGg6ICdpbWFnZS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGhlaWdodDogJ2ltYWdlLWhlaWdodCcsXG4gICAgICAgICAgb2JqZWN0Rml0OiAnaW1hZ2Utb2JqZWN0LWZpdCcsXG4gICAgICAgICAgYWxpZ246ICdpbWFnZS1hbGlnbicsXG4gICAgICAgICAgLy8gQ2FyZCBzdHlsZVxuICAgICAgICAgIGJnOiAnaW1hZ2UtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2ltYWdlLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIGJvcmRlcjogJ2ltYWdlLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXBlOiB7XG4gICAgICAgIHNlY3Rpb246ICdncm91cCcsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIGNvbHVtbnNNb2JpbGU6ICdncm91cC1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnLFxuICAgICAgICAgIGdhcDogJ2dyb3VwLWdhcCcsXG4gICAgICAgICAgaXRlbXNBbGlnbjogJ2dyb3VwLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdncm91cC1tb2JpbGUtbGF5b3V0JyxcbiAgICAgICAgICAvLyBDYXJkIHN0eWxlXG4gICAgICAgICAgYmc6ICdncm91cC1iZycsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnZ3JvdXAtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZ3JvdXAtc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICdncm91cC1ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHNlY3Rpb246ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnY29sbGVjdGlvbi1ncmlkLWNvbGxlY3Rpb24nLFxuICAgICAgICAgIGxpbWl0OiAnY29sbGVjdGlvbi1ncmlkLWxpbWl0JyxcbiAgICAgICAgICAvLyBBcHBhcmVuY2VcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnY29sbGVjdGlvbi1jb2x1bW5zLW1vYmlsZScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICdjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcCcsXG4gICAgICAgICAgZ2FwOiAnY29sbGVjdGlvbi1nYXAnLFxuICAgICAgICAgIGl0ZW1zQWxpZ246ICdjb2xsZWN0aW9uLWl0ZW1zLWFsaWduJyxcbiAgICAgICAgICBjYXJkUm91bmRlZDogJ2NvbGxlY3Rpb24tY2FyZC1yb3VuZGVkJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdjb2xsZWN0aW9uLW1vYmlsZS1sYXlvdXQnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2NvbGxlY3Rpb24tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2NvbGxlY3Rpb24tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnY29sbGVjdGlvbi1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2NvbGxlY3Rpb24tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmb3JtOiB7XG4gICAgICAgIHNlY3Rpb246ICdmb3JtJyxcbiAgICAgICAgbGFiZWxGaWVsZDogJ2Zvcm1UaXRsZScsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm1UaXRsZTogJ2Zvcm0tdGl0bGUnLFxuICAgICAgICAgIGFjdGlvblVybDogJ2Zvcm0tYWN0aW9uLXVybCcsXG4gICAgICAgICAgbWV0aG9kOiAnZm9ybS1tZXRob2QnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnZm9ybS1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIHN1Ym1pdExhYmVsOiAnZm9ybS1zdWJtaXQtbGFiZWwnLFxuICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnZm9ybS1zdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgICAgIC8vIEFwcGFyZW5jZVxuICAgICAgICAgIG1heFdpZHRoOiAnZm9ybS1tYXgtd2lkdGgnLFxuICAgICAgICAgIGFsaWduOiAnZm9ybS1hbGlnbicsXG4gICAgICAgICAgYnV0dG9uUm91bmRlZDogJ2Zvcm0tYnV0dG9uLXJvdW5kZWQnLFxuICAgICAgICAgIHNwYWNpbmc6ICdmb3JtLXNwYWNpbmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2Zvcm0tYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2Zvcm0tYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnZm9ybS1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2Zvcm0tYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgc2VjdGlvbjogJ25ld3NsZXR0ZXInLFxuICAgICAgICBsYWJlbEZpZWxkOiAndGl0bGUnLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0aXRsZTogJ25ld3NsZXR0ZXItdGl0bGUnLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnbmV3c2xldHRlci1zZXJ2aWNlLW5hbWUnLFxuICAgICAgICAgIGVtYmVkQ29kZTogJ25ld3NsZXR0ZXItZW1iZWQtY29kZScsXG4gICAgICAgICAgLy8gQXBwYXJlbmNlXG4gICAgICAgICAgbWF4V2lkdGg6ICduZXdzbGV0dGVyLW1heC13aWR0aCcsXG4gICAgICAgICAgYWxpZ246ICduZXdzbGV0dGVyLWFsaWduJyxcbiAgICAgICAgICBwYWRkaW5nOiAnbmV3c2xldHRlci1wYWRkaW5nJyxcbiAgICAgICAgICBiZzogJ25ld3NsZXR0ZXItYmcnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICduZXdzbGV0dGVyLWJvcmRlci1yYWRpdXMnLFxuICAgICAgICAgIHNoYWRvdzogJ25ld3NsZXR0ZXItc2hhZG93JyxcbiAgICAgICAgICBib3JkZXI6ICduZXdzbGV0dGVyLWJvcmRlcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY2FyZDoge1xuICAgICAgICBzZWN0aW9uOiAnY2FyZCcsXG4gICAgICAgIGxhYmVsRmllbGQ6ICd0aXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uRmllbGQ6ICdkZXNjcmlwdGlvbicsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRpdGxlOiAnY2FyZC10aXRsZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdjYXJkLWRlc2NyaXB0aW9uJyxcbiAgICAgICAgICBpbWFnZTogJ2NhcmQtaW1hZ2UnLFxuICAgICAgICAgIGN0YVRleHQ6ICdjYXJkLWN0YS10ZXh0JyxcbiAgICAgICAgICBjdGFVcmw6ICdjYXJkLWN0YS11cmwnLFxuICAgICAgICAgIC8vIENhcmQgc3R5bGVcbiAgICAgICAgICBiZzogJ2NhcmQtYmcnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ2NhcmQtYm9yZGVyLXJhZGl1cycsXG4gICAgICAgICAgc2hhZG93OiAnY2FyZC1zaGFkb3cnLFxuICAgICAgICAgIGJvcmRlcjogJ2NhcmQtYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBibG9ja1R5cGVBbGlhc2VzID0ge1xuICAgICAgdGV4dGU6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHBhcmFncmFwaDogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoczogJ3BhcmFncmFwaGUnLFxuICAgICAgcGFyYWdyYXBoZXM6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIHRleHQ6ICdwYXJhZ3JhcGhlJyxcbiAgICAgIGhlcm86ICdoZXJvJyxcbiAgICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgICAgZ3JvdXBlOiAnZ3JvdXBlJyxcbiAgICAgIGdyb3VwOiAnZ3JvdXBlJyxcbiAgICAgIGNhcmQ6ICdjYXJkJyxcbiAgICAgIGNhcnRlOiAnY2FyZCcsXG4gICAgICBjb2xsZWN0aW9uOiAnY29sbGVjdGlvbmdyaWQnLFxuICAgICAgY29sbGVjdGlvbmdyaWQ6ICdjb2xsZWN0aW9uZ3JpZCcsXG4gICAgICAnY29sbGVjdGlvbi1ncmlkJzogJ2NvbGxlY3Rpb25ncmlkJyxcbiAgICAgIGZvcm06ICdmb3JtJyxcbiAgICAgIGZvcm11bGFpcmU6ICdmb3JtJyxcbiAgICAgIGNvbnRhY3Q6ICdmb3JtJyxcbiAgICAgIG5ld3NsZXR0ZXJlbWJlZDogJ25ld3NsZXR0ZXJlbWJlZCcsXG4gICAgICBuZXdzbGV0dGVyOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICAgIGVtYmVkOiAnbmV3c2xldHRlcmVtYmVkJyxcbiAgICB9O1xuICAgIGNvbnN0IGFuaW1hdGlvbkZpZWxkTWFwID0ge1xuICAgICAgYW5pbWF0aW9uOiAnYW5pbS10eXBlJyxcbiAgICAgIGFuaW1hdGlvbkRlbGF5OiAnYW5pbS1kZWxheScsXG4gICAgICBhbmltYXRpb25EdXJhdGlvbjogJ2FuaW0tZHVyYXRpb24nLFxuICAgIH07XG4gICAgT2JqZWN0LnZhbHVlcyhibG9ja1R5cGVGb3JtcykuZm9yRWFjaCgoY29uZmlnKSA9PiB7XG4gICAgICBjb25maWcuZmllbGRzID0geyAuLi5jb25maWcuZmllbGRzLCAuLi5hbmltYXRpb25GaWVsZE1hcCB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHVwZGF0ZUdyb3VwTWluaVByZXZpZXcgPSAobW9iaWxlVmFsdWUsIGRlc2t0b3BWYWx1ZSkgPT4ge1xuICAgICAgaWYgKCFncm91cFByZXZpZXdNb2JpbGUgfHwgIWdyb3VwUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMzAwXCI+PC9zcGFuPicpXG4gICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgZ3JvdXBQcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGdyb3VwUHJldmlld0Rlc2t0b3AuaW5uZXJIVE1MID0gcmVuZGVyQm94ZXMoZGVza3RvcFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyA9IChtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlIHx8ICFjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyQm94ZXMgPSAoY291bnQpID0+XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IE51bWJlcihjb3VudCkgfHwgMSB9KVxuICAgICAgICAgIC5tYXAoKCkgPT4gJzxzcGFuIGNsYXNzPVwiYmxvY2sgaC0yIHctZnVsbCByb3VuZGVkLWZ1bGwgYmctdmlvbGV0LTMwMFwiPjwvc3Bhbj4nKVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3TW9iaWxlLmlubmVySFRNTCA9IHJlbmRlckJveGVzKG1vYmlsZVZhbHVlKTtcbiAgICAgIGNvbGxlY3Rpb25QcmV2aWV3RGVza3RvcC5pbm5lckhUTUwgPSByZW5kZXJCb3hlcyhkZXNrdG9wVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhZ2VzQXBpQmFzZSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBwYWdlcy4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gW10pO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW107XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVQYWdlT25TZXJ2ZXIgPSBhc3luYyAoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGFnZXNBcGlCYXNlLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGF5bG9hZC5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNyXHUwMEU5ZXIgbGEgcGFnZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlUGFnZVRvU2VydmVyID0gYXN5bmMgKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlPy5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZS5pZCl9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBzYXV2ZWdhcmRlciBsYSBwYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoc2F2ZWQ/LmlkKSB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhZ2VEYXRhKHNhdmVkKTtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgoZW50cnkpID0+IChlbnRyeS5pZCA9PT0gbm9ybWFsaXplZC5pZCA/IG5vcm1hbGl6ZWQgOiBlbnRyeSkpO1xuICAgICAgICAgIGlmIChjdXJyZW50UGFnZT8uaWQgPT09IG5vcm1hbGl6ZWQuaWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhdmVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIFNhdmUgcGFnZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxvYWRQYWdlc0Zyb21TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkge1xuICAgICAgICBwYWdlcyA9IFtdO1xuICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KG51bGwpO1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWN0aXZlUGFnZUlkID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBhY3RpdmVQYWdlSWQpO1xuICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICBibG9ja0RldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBibG9ja0VkaXRvcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQYWdlSWQgPSBnZXRTdG9yZWRBY3RpdmVQYWdlKHBhZ2VzKTtcbiAgICAgICAgc2V0QWN0aXZlUGFnZShhY3RpdmVQYWdlSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIEltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgcGFnZXMuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub3JtYWxpemVUeXBlID0gKHZhbHVlKSA9PlxuICAgICAgKHZhbHVlIHx8ICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGdldEJsb2NrRm9ybUNvbmZpZyA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGVLZXkgPSBub3JtYWxpemVUeXBlKGJsb2NrLnR5cGUpO1xuICAgICAgY29uc3QgYWxpYXMgPSBibG9ja1R5cGVBbGlhc2VzW3R5cGVLZXldIHx8IHR5cGVLZXk7XG4gICAgICByZXR1cm4gYmxvY2tUeXBlRm9ybXNbYWxpYXNdIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBwb3B1bGF0ZUJsb2NrRm9ybSA9IChibG9jaykgPT4ge1xuICAgICAgaWYgKCFibG9ja0Zvcm0gfHwgIWJsb2NrRWRpdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChibG9jayAmJiAhYmxvY2suc2V0dGluZ3MpIHtcbiAgICAgICAgYmxvY2suc2V0dGluZ3MgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBjb25zdCBzZWN0aW9uUm9vdCA9IGdldEJsb2NrRWRpdG9yU2VjdGlvbkVsZW1lbnQoY29uZmlnKSB8fCBibG9ja0Zvcm07XG4gICAgICBpZiAoYmxvY2tFZGl0b3JUaXRsZSkge1xuICAgICAgICBibG9ja0VkaXRvclRpdGxlLnRleHRDb250ZW50ID0gYmxvY2s/LmxhYmVsIHx8ICdCbG9jJztcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja0VkaXRvclR5cGUpIHtcbiAgICAgICAgYmxvY2tFZGl0b3JUeXBlLnRleHRDb250ZW50ID0gYmxvY2s/LnR5cGUgfHwgJ0Jsb2MnO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgYmxvY2tGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0VkaXRvclVuc3VwcG9ydGVkPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRm9ybS5yZXNldCgpO1xuICAgICAgYmxvY2tGb3JtLmRhdGFzZXQuYmxvY2tJZCA9IGJsb2NrLmlkO1xuICAgICAgYmxvY2tGb3JtU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uLmRhdGFzZXQuZWRpdG9yU2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gY29uZmlnLnNlY3Rpb24pIHtcbiAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gUlx1MDBFOWluaXRpYWxpc2VyIHN1ciBsJ29uZ2xldCBDb250ZW51XG4gICAgICBzd2l0Y2hCbG9ja1RhYignY29udGVudCcpO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgZGVzaXJlZFZhbHVlID0gYmxvY2suY29sbGVjdGlvbklkIHx8IGJsb2NrLnNldHRpbmdzPy5jb2xsZWN0aW9uSWQgfHwgJyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKGRlc2lyZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNlY3Rpb25Sb290LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBibG9jay5zZXR0aW5ncz8uW3NldHRpbmdLZXldO1xuICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnN0IGZhbGxiYWNrID0gaW5wdXQuZGF0YXNldC5kZWZhdWx0ID8/IGlucHV0LmRlZmF1bHRWYWx1ZSA/PyAnJztcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/IGZhbGxiYWNrO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvbmZpZy5zZWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJnRmllbGROYW1lID0gY29uZmlnLmZpZWxkcz8uYmc7XG4gICAgICBpZiAoYmdGaWVsZE5hbWUpIHtcbiAgICAgICAgY29uc3QgYmdTZWxlY3QgPSBzZWN0aW9uUm9vdC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7YmdGaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGVuc3VyZUN1c3RvbVRoZW1lT3B0aW9uKGJnU2VsZWN0LCBibG9jay5zZXR0aW5ncz8uYmcpO1xuICAgICAgfVxuICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbG9yLXNlbGVjdF0nKS5mb3JFYWNoKHVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyk7XG4gICAgfTtcbiAgICBjb25zdCBjb2xsZWN0Rm9ybVZhbHVlcyA9IChjb25maWcpID0+IHtcbiAgICAgIGlmICghYmxvY2tGb3JtIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VjdGlvblJvb3QgPSBnZXRCbG9ja0VkaXRvclNlY3Rpb25FbGVtZW50KGNvbmZpZykgfHwgYmxvY2tGb3JtO1xuICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICBPYmplY3QuZW50cmllcyhjb25maWcuZmllbGRzKS5mb3JFYWNoKChbc2V0dGluZ0tleSwgZmllbGROYW1lXSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNlY3Rpb25Sb290LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWVsZE5hbWV9XCJdYCk7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VkKSA/IHBhcnNlZCA6IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgICBjb25zdCBmYWxsYmFjayA9IGlucHV0LmRhdGFzZXQuZGVmYXVsdCA/PyBpbnB1dC52YWx1ZSA/PyAnJztcbiAgICAgICAgICB2YWx1ZXNbc2V0dGluZ0tleV0gPSBpbnB1dC52YWx1ZSB8fCBmYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PT0gJ3NlbGVjdC1vbmUnKSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzW3NldHRpbmdLZXldID0gaW5wdXQudmFsdWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdTdGF0dXMgPSAodGV4dCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3U3RhdHVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2aWV3U3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcHJldmlld1N0YXR1cy50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXJpYWxpemVQYWdlRm9yUHJldmlldyA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZvbmN0aW9uIHBvdXIgc1x1MDBFOXJpYWxpc2VyIHVuIGJsb2MgKHV0aWxpc1x1MDBFOSBwb3VyIGxlcyBibG9jcyBldCBsZXVycyBlbmZhbnRzKVxuICAgICAgY29uc3Qgc2VyaWFsaXplQmxvY2sgPSAoYmxvY2spID0+ICh7XG4gICAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgICAgdHlwZTogYmxvY2sudHlwZSxcbiAgICAgICAgbGFiZWw6IGJsb2NrLmxhYmVsLFxuICAgICAgICBzdGF0dXM6IGJsb2NrLnN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb246IGJsb2NrLmRlc2NyaXB0aW9uLFxuICAgICAgICBwcm9wczogYmxvY2sucHJvcHMgfHwgW10sXG4gICAgICAgIHNldHRpbmdzOiBibG9jay5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICAgY29sbGVjdGlvbklkOiBibG9jay5jb2xsZWN0aW9uSWQgfHwgYmxvY2suc2V0dGluZ3M/LmNvbGxlY3Rpb25JZCB8fCAnJyxcbiAgICAgICAgY2hpbGRyZW46IChibG9jay5jaGlsZHJlbiB8fCBbXSkubWFwKHNlcmlhbGl6ZUJsb2NrKSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGFnZS5pZCxcbiAgICAgICAgbmFtZTogcGFnZS5uYW1lLFxuICAgICAgICB0aXRsZTogcGFnZS50aXRsZSxcbiAgICAgICAgc2x1ZzogcGFnZS5zbHVnLFxuICAgICAgICBkZXNjcmlwdGlvbjogcGFnZS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgYmFkZ2VzOiBbLi4uKHBhZ2UuYmFkZ2VzIHx8IFtdKV0sXG4gICAgICAgIHNlbzogcGFnZS5zZW8gfHwge30sXG4gICAgICAgIGFjY2Vzc2liaWxpdHk6IHBhZ2UuYWNjZXNzaWJpbGl0eSB8fCB7fSxcbiAgICAgICAgYmxvY2tzOiAocGFnZS5ibG9ja3MgfHwgW10pLm1hcChzZXJpYWxpemVCbG9jayksXG4gICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TG9hZGluZ1ByZXZpZXdIdG1sID0gKCkgPT5cbiAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiM0NzU1Njk7YmFja2dyb3VuZDojZmZmO1wiPlByXHUwMEU5cGFyYXRpb24gZGUgbGEgcHJcdTAwRTl2aXN1YWxpc2F0aW9uXHUyMDI2PC9ib2R5PjwvaHRtbD4nO1xuXG4gICAgLy8gRGVib3VuY2UgdXRpbGl0eVxuICAgIGNvbnN0IGRlYm91bmNlID0gKGZuLCBkZWxheSkgPT4ge1xuICAgICAgbGV0IHRpbWVvdXRJZDtcbiAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBmbiguLi5hcmdzKSwgZGVsYXkpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gQXV0by1zYXZlIHBvdXIgbCdhcHBhcmVuY2UgKGltbVx1MDBFOWRpYXQgcG91ciBcdTAwRTl2aXRlciBsZXMgcGVydGVzKVxuICAgIGNvbnN0IGF1dG9TYXZlQXBwZWFyYW5jZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2sgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgY29uc3QgY29uZmlnID0gZ2V0QmxvY2tGb3JtQ29uZmlnKGJsb2NrKTtcbiAgICAgIGlmICghYmxvY2sgfHwgIWNvbmZpZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgY29uc3QgeyBibG9ja3M6IHVwZGF0ZWRCbG9ja3MsIGRpZFVwZGF0ZSwgZm91bmRQYXJlbnRJZCB9ID0gdXBkYXRlQmxvY2tzRGVlcChcbiAgICAgICAgY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdLFxuICAgICAgICBibG9jay5pZCxcbiAgICAgICAgKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0geyAuLi4oZW50cnkuc2V0dGluZ3MgfHwge30pLCAuLi52YWx1ZXMgfTtcbiAgICAgICAgICByZXR1cm4geyAuLi5lbnRyeSwgc2V0dGluZ3M6IHVwZGF0ZWRTZXR0aW5ncyB9O1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkLFxuICAgICAgKTtcbiAgICAgIGlmICghZGlkVXBkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUJsb2NrUGFyZW50SWQgPSBmb3VuZFBhcmVudElkO1xuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBzaWxlbmNpZXVzZSAoc2FucyB0b2FzdCBuaSByZWZyZXNoIGNvbXBsZXQpXG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogdXBkYXRlZEJsb2NrcyB9O1xuICAgICAgY3VycmVudFBhZ2UgPSBuZXh0UGFnZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcihuZXh0UGFnZSk7XG4gICAgICAgIGlmIChzYXZlZD8uaWQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEoc2F2ZWQpO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgICAgICBwYWdlcyA9IHBhZ2VzLm1hcCgocCkgPT4gKHAuaWQgPT09IG5vcm1hbGl6ZWQuaWQgPyBub3JtYWxpemVkIDogcCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbZGVzaWduXSBhdXRvLXNhdmUgYXBwZWFyYW5jZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNaXNlIFx1MDBFMCBqb3VyIGxpdmUgZGUgbGEgcHJldmlldyB2aWEgcG9zdE1lc3NhZ2UgKHNhbnMgcmVjaGFyZ2VyIGwnaWZyYW1lKVxuICAgIGNvbnN0IHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwcmV2aWV3RnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFbnZvaWUgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIGF1IGJsb2MgZGFucyBsJ2lmcmFtZVxuICAgICAgcHJldmlld0ZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiAndXBkYXRlQmxvY2tTdHlsZXMnLFxuICAgICAgICBibG9ja0lkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgIH0sICcqJyk7XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggcHJldmlldyBjb21wbGV0IGRlYm91bmNlZCAocG91ciBsZXMgY2hhbmdlbWVudHMgY29tcGxleGVzKVxuICAgIGNvbnN0IGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3ID0gZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuICAgIC8vIE1pc2UgXHUwMEUwIGpvdXIgbGl2ZSBpbW1cdTAwRTlkaWF0ZSAocG91ciBsYSBwcmV2aWV3KVxuICAgIGNvbnN0IGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UgPSAoYmxvY2tJZCwgc2V0dGluZ3MpID0+IHtcbiAgICAgIHVwZGF0ZVByZXZpZXdCbG9ja0xpdmUoYmxvY2tJZCwgc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnTW9kaWZpY2F0aW9uXHUyMDI2Jyk7XG4gICAgICBhdXRvU2F2ZUFwcGVhcmFuY2UoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnU2F1dmVnYXJkXHUwMEU5Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB1cGRhdGVQcmV2aWV3U3RhdHVzKCdcdTAwQzAgam91cicpLCAxNTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHVwZGF0ZVByZXZpZXdTdGF0dXMoJ0VycmV1ciBkZSBzYXV2ZWdhcmRlJykpO1xuICAgICAgLy8gUmVmcmVzaCBjb21wbGV0IGFwclx1MDBFOHMgdW4gZFx1MDBFOWxhaSBwbHVzIGxvbmcgKHBvdXIgbGVzIGNoYW5nZW1lbnRzIGRlIGxheW91dCwgZXRjLilcbiAgICAgIGRlYm91bmNlZFJlZnJlc2hQcmV2aWV3KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlZnJlc2hQcmV2aWV3ID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lIHx8ICFwYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpZXdTaXRlU2x1ZyA9IHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJyc7XG4gICAgICBjb25zdCBzZXJpYWxpemVkUGFnZXMgPSBwYWdlcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgIHNsdWc6IGVudHJ5LnNsdWcsXG4gICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgbmFtZTogZW50cnkubmFtZSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogZW50cnkuYWNjZXNzaWJpbGl0eSxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHBhZ2U6IHNlcmlhbGl6ZVBhZ2VGb3JQcmV2aWV3KHBhZ2UpLFxuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6IHN0b3JlZFNpdGUubmFtZSB8fCAnU2l0ZScsXG4gICAgICAgICAgc2x1ZzogcHJldmlld1NpdGVTbHVnLFxuICAgICAgICAgIHBhZ2VzOiBzZXJpYWxpemVkUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcHJldmlld1JlYWR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVQcmV2aWV3U3RhdHVzKCdBY3R1YWxpc2F0aW9uXHUyMDI2Jyk7XG4gICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCk7XG4gICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyKSB7XG4gICAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHByZXZpZXdSZXF1ZXN0Q29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICBmZXRjaCgnL2FwaS9wcmV2aWV3Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBkYXRhPy5lcnJvciB8fCBkYXRhPy5tZXNzYWdlIHx8IGBQcmV2aWV3IGVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pYDtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgZXJyLnBheWxvYWQgPSBkYXRhO1xuICAgICAgICAgICAgZXJyLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF0ZXN0UHJldmlld0h0bWwgPSBkYXRhLmh0bWwgfHwgJyc7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICd0aXRsZScsXG4gICAgICAgICAgICBgUHJcdTAwRTl2aXN1YWxpc2F0aW9uIGRlIGxhIHBhZ2UgJHtwYWdlLnRpdGxlIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcHJldmlld0ZyYW1lLnNyY2RvYyA9IGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpO1xuICAgICAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbcHJldmlld10gSW1wb3NzaWJsZSBkZSByZW5kcmUgbGEgcGFnZScsIGVycm9yPy5tZXNzYWdlIHx8IGVycm9yLCBlcnJvcj8ucGF5bG9hZCB8fCAnJyk7XG4gICAgICAgICAgdXBkYXRlUHJldmlld1N0YXR1cygnRXJyZXVyIHByZXZpZXcnKTtcbiAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjZG9jID1cbiAgICAgICAgICAgICc8IURPQ1RZUEUgaHRtbD48aHRtbD48Ym9keSBzdHlsZT1cImZvbnQtZmFtaWx5OkludGVyLHNhbnMtc2VyaWY7cGFkZGluZzo0MHB4O2NvbG9yOiNiZTEyM2M7YmFja2dyb3VuZDojZmZmO1wiPkVycmV1ciBsb3JzIGR1IHJlbmR1IGRlIGxhIHByXHUwMEU5dmlzdWFsaXNhdGlvbi48L2JvZHk+PC9odG1sPic7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlld1JlcXVlc3RDb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBwcmV2aWV3UmVxdWVzdENvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0Zvcm1TdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFhY3RpdmVCbG9ja0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICBpZiAoIWJsb2NrIHx8ICFjb25maWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gY29sbGVjdEZvcm1WYWx1ZXMoY29uZmlnKTtcbiAgICAgIGlmIChjb25maWcuc2VjdGlvbiA9PT0gJ2ltYWdlJykge1xuICAgICAgICBjb25zdCBhbHRWYWx1ZSA9ICh2YWx1ZXMuYWx0IHx8ICcnKS50cmltKCk7XG4gICAgICAgIHZhbHVlcy5hbHQgPSBhbHRWYWx1ZTtcbiAgICAgICAgaWYgKCFhbHRWYWx1ZSkge1xuICAgICAgICAgIHNob3dUb2FzdCgnQWpvdXRlIHVuIHRleHRlIGFsdGVybmF0aWYgcG91ciBjZXR0ZSBpbWFnZS4nLCAnZXJyb3InKTtcbiAgICAgICAgICBibG9ja0Zvcm0/LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaW1hZ2UtYWx0XCJdJyk/LmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICBpZiAoIXZhbHVlcy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ1NcdTAwRTlsZWN0aW9ubmV6IHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMubGltaXQgPSBNYXRoLm1heCgxLCBOdW1iZXIodmFsdWVzLmxpbWl0KSB8fCAxKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgYmxvY2tzOiB1cGRhdGVkQmxvY2tzLCBkaWRVcGRhdGUsIGZvdW5kUGFyZW50SWQgfSA9IHVwZGF0ZUJsb2Nrc0RlZXAoXG4gICAgICAgIGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSxcbiAgICAgICAgYmxvY2suaWQsXG4gICAgICAgIChlbnRyeSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHsgLi4uKGVudHJ5LnNldHRpbmdzIHx8IHt9KSwgLi4udmFsdWVzIH07XG4gICAgICAgICAgY29uc3QgdXBkYXRlZEJsb2NrID0ge1xuICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICBzZXR0aW5nczogdXBkYXRlZFNldHRpbmdzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGNvbmZpZy5sYWJlbEZpZWxkICYmIHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF0pIHtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5sYWJlbCA9IHZhbHVlc1tjb25maWcubGFiZWxGaWVsZF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb25maWcuZGVzY3JpcHRpb25GaWVsZCAmJiB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdKSB7XG4gICAgICAgICAgICB1cGRhdGVkQmxvY2suZGVzY3JpcHRpb24gPSB2YWx1ZXNbY29uZmlnLmRlc2NyaXB0aW9uRmllbGRdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29uZmlnLnNlY3Rpb24gPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgdXBkYXRlZEJsb2NrLmNvbGxlY3Rpb25JZCA9IHZhbHVlcy5jb2xsZWN0aW9uSWQ7XG4gICAgICAgICAgICB1cGRhdGVkQmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkID0gdmFsdWVzLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZWRCbG9jay5zZXR0aW5ncy5saW1pdCA9IHZhbHVlcy5saW1pdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZWRCbG9jaztcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aXZlQmxvY2tQYXJlbnRJZCxcbiAgICAgICk7XG4gICAgICBpZiAoIWRpZFVwZGF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gZm91bmRQYXJlbnRJZDtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKHVwZGF0ZWRCbG9ja3MpO1xuICAgICAgc2hvd1RvYXN0KCdCbG9jIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgIH07XG4gICAgY29uc3QgZHJhd2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFnZS1kcmF3ZXJdJyk7XG4gICAgY29uc3QgZHJhd2VyQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlLWRyYXdlci1iYWNrZHJvcF0nKTtcbiAgICBjb25zdCBkcmF3ZXJPcGVuQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhZ2UtZHJhd2VyLW9wZW5dJyk7XG4gICAgY29uc3QgZHJhd2VyQ2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcGFnZS1kcmF3ZXItY2xvc2VdJyk7XG4gICAgY29uc3QgYWRkUGFnZVRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRvZ2dsZV0nKTtcbiAgICBjb25zdCBhZGRQYWdlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWZvcm1dJyk7XG4gICAgY29uc3QgYWRkUGFnZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZGQtcGFnZS1uYW1lXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLXRpdGxlXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTbHVnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2Utc2x1Z10nKTtcbiAgICBjb25zdCBhZGRQYWdlQ2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWRkLXBhZ2UtY2FuY2VsXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkZC1wYWdlLWVycm9yXScpO1xuICAgIGNvbnN0IGFkZFBhZ2VTdWJtaXRCdXR0b24gPSBhZGRQYWdlRm9ybT8ucXVlcnlTZWxlY3RvcignW3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAgICAvLyBJbXBvcnQgSlNPTiBlbGVtZW50c1xuICAgIGNvbnN0IGltcG9ydFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1wYWdlcy10b2dnbGVdJyk7XG4gICAgY29uc3QgaW1wb3J0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtbW9kYWxdJyk7XG4gICAgY29uc3QgaW1wb3J0Q2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LW1vZGFsLWNsb3NlXScpO1xuICAgIGNvbnN0IGltcG9ydERyb3B6b25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWRyb3B6b25lXScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IGltcG9ydEZpbGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LWZpbGUtbGlzdF0nKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlTmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtZmlsZS1uYW1lc10nKTtcbiAgICBjb25zdCBpbXBvcnRSZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXJlc3VsdHNdJyk7XG4gICAgY29uc3QgaW1wb3J0UmVzdWx0c0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtcmVzdWx0cy1jb250ZW50XScpO1xuICAgIGNvbnN0IGltcG9ydFN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWltcG9ydC1zdWJtaXRdJyk7XG4gICAgY29uc3QgaW1wb3J0VGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWltcG9ydC10YWJdJyk7XG4gICAgY29uc3QgaW1wb3J0UGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaW1wb3J0LXBhbmVsXScpO1xuICAgIGNvbnN0IGNvcHlQcm9tcHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXByb21wdF0nKTtcbiAgICBjb25zdCBjb3B5VGVtcGxhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb3B5LXRlbXBsYXRlXScpO1xuICAgIGNvbnN0IHRlbXBsYXRlSnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlbXBsYXRlLWpzb25dJyk7XG4gICAgY29uc3QgaW1wb3J0QWlQcm9tcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbXBvcnQtYWktcHJvbXB0XScpO1xuICAgIC8vIFBhc3RlIEpTT04gZWxlbWVudHNcbiAgICBjb25zdCBpbXBvcnRQYXN0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhc3RlLWpzb25dJyk7XG4gICAgY29uc3QgcGFzdGVGb3JtYXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb3JtYXQtanNvbl0nKTtcbiAgICBjb25zdCBwYXN0ZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW1wb3J0LXBhc3RlLWVycm9yXScpO1xuICAgIGxldCBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgbGV0IGFjdGl2ZUltcG9ydFRhYiA9ICd1cGxvYWQnO1xuICAgIC8vIERlbGV0ZSBwYWdlIGVsZW1lbnRzXG4gICAgY29uc3QgZGVsZXRlUGFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlLXBhZ2UtbW9kYWxdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1uYW1lXScpO1xuICAgIGNvbnN0IGRlbGV0ZVBhZ2VDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlUGFnZUNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZWxldGUtcGFnZS1jb25maXJtXScpO1xuICAgIGxldCBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgIGNvbnN0IHNpdGVLZXkgPVxuICAgICAgc3RyaXBMZWFkaW5nU2xhc2god29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnZGVmYXVsdCcpIHx8ICdkZWZhdWx0JztcbiAgICBjb25zdCBzaXRlU2x1Z1ZhbHVlID0gd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJztcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzaXRlU2x1Z1ZhbHVlKSB8fCAnJztcbiAgICBjb25zdCBwYWdlc0FwaUJhc2UgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vcGFnZXNgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbGxlY3Rpb25zYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHN0b3JhZ2VLZXlzID0ge1xuICAgICAgYWN0aXZlOiBgY2xvd2VyOmFjdGl2ZVBhZ2U6JHtzaXRlS2V5fWAsXG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVCbG9jayA9IChpZCwgbGFiZWwsIHR5cGUsIHN0YXR1cywgZGVzY3JpcHRpb24sIHByb3BzID0gW10sIHNldHRpbmdzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzZXR0aW5nczogeyAuLi5zZXR0aW5ncyB9LFxuICAgICAgfTtcbiAgICAgIGlmIChibG9jay5zZXR0aW5ncy5jb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgYmxvY2suY29sbGVjdGlvbklkID0gYmxvY2suc2V0dGluZ3MuY29sbGVjdGlvbklkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIH07XG4gICAgY29uc3QgYmxvY2tMaWJyYXJ5RGVmaW5pdGlvbnMgPSB7XG4gICAgICBoZXJvOiB7XG4gICAgICAgIHR5cGU6ICdIZXJvJyxcbiAgICAgICAgbGFiZWw6ICdIZXJvIGRlIHBhZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NlY3Rpb24gcGxlaW5lIGxhcmdldXIgYXZlYyBDVEEgcHJpbmNpcGFsLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ0NUQScsIHZhbHVlOiAnRFx1MDBFOWNvdXZyaXInIH0sXG4gICAgICAgICAgeyBsYWJlbDogJ0hhdXRldXInLCB2YWx1ZTogJzgwdmgnIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkdSBoZXJvJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJycsXG4gICAgICAgICAgY3RhTGFiZWw6ICdEXHUwMEU5Y291dnJpcicsXG4gICAgICAgICAgY3RhVXJsOiAnIycsXG4gICAgICAgICAgaW1hZ2U6ICcnLFxuICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGg6IHtcbiAgICAgICAgdHlwZTogJ1BhcmFncmFwaGUnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgXHUwMEU5ZGl0b3JpYWwnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BhcmFncmFwaGUgbGlicmUgcG91ciByYWNvbnRlciB2b3RyZSBoaXN0b2lyZS4nLFxuICAgICAgICBzdGF0dXM6ICdCcm91aWxsb24nLFxuICAgICAgICBwcm9wczogW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMTUwIG1vdHMnIH1dLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRpdGxlOiAnVGl0cmUgZHUgcGFyYWdyYXBoZScsXG4gICAgICAgICAgY29udGVudDogJycsXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbWFnZToge1xuICAgICAgICB0eXBlOiAnSW1hZ2UnLFxuICAgICAgICBsYWJlbDogJ0Jsb2MgaW1hZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Zpc3VlbCBzZXVsIGF2ZWMgbFx1MDBFOWdlbmRlIG9wdGlvbm5lbGxlLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgeyBsYWJlbDogJ1JhdGlvJywgdmFsdWU6ICcxNjo5JyB9LFxuICAgICAgICAgIHsgbGFiZWw6ICdMXHUwMEU5Z2VuZGUnLCB2YWx1ZTogJ0luYWN0aXZlJyB9LFxuICAgICAgICBdLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNyYzogJycsXG4gICAgICAgICAgYWx0OiAnJyxcbiAgICAgICAgICBzaG93Q2FwdGlvbjogZmFsc2UsXG4gICAgICAgICAgY2FwdGlvbjogJycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ3JvdXA6IHtcbiAgICAgICAgdHlwZTogJ0dyb3VwZScsXG4gICAgICAgIGxhYmVsOiAnR3JvdXBlIGRlIHNlY3Rpb25zJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb250ZW5ldXIgcG91ciBpbWJyaXF1ZXIgcGx1c2lldXJzIHNvdXMtYmxvY3MuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgcHJvcHM6IFt7IGxhYmVsOiAnRGlzcG9zaXRpb24nLCB2YWx1ZTogJ1ZlcnRpY2FsZScgfV0sXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgY29sdW1uc01vYmlsZTogJzEnLFxuICAgICAgICAgIGNvbHVtbnNEZXNrdG9wOiAnMycsXG4gICAgICAgICAgbW9iaWxlTGF5b3V0OiAnc3RhY2snLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3Rpb25ncmlkOiB7XG4gICAgICAgIHR5cGU6ICdDb2xsZWN0aW9uR3JpZCcsXG4gICAgICAgIGxhYmVsOiAnR3JpbGxlIGRlIGNvbnRlbnVzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBZmZpY2hlIGF1dG9tYXRpcXVlbWVudCBsZXMgaXRlbXMgZFx1MjAxOXVuZSBjb2xsZWN0aW9uLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgY29sbGVjdGlvbklkOiAnJyxcbiAgICAgICAgICBsaW1pdDogNixcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9ybToge1xuICAgICAgICB0eXBlOiAnRm9ybScsXG4gICAgICAgIGxhYmVsOiAnRm9ybXVsYWlyZSBkZSBjb250YWN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGb3JtdWxhaXJlIGF2ZWMgZW52b2kgdmVycyB1biBzZXJ2aWNlIGV4dGVybmUuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICBmb3JtVGl0bGU6ICdDb250YWN0ZXotbm91cycsXG4gICAgICAgICAgYWN0aW9uVXJsOiAnJyxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBzZXJ2aWNlTmFtZTogJycsXG4gICAgICAgICAgc3VibWl0TGFiZWw6ICdFbnZveWVyJyxcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZTogJ01lcmNpIHBvdXIgdm90cmUgbWVzc2FnZSAhJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBuZXdzbGV0dGVyZW1iZWQ6IHtcbiAgICAgICAgdHlwZTogJ05ld3NsZXR0ZXJFbWJlZCcsXG4gICAgICAgIGxhYmVsOiAnTmV3c2xldHRlciAvIEVtYmVkJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbnRcdTAwRTlncmF0aW9uIGRcXCd1biBmb3JtdWxhaXJlIG5ld3NsZXR0ZXIgZXh0ZXJuZSAoQnJldm8sIE1haWxjaGltcFx1MjAyNikuJyxcbiAgICAgICAgc3RhdHVzOiAnQnJvdWlsbG9uJyxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICB0aXRsZTogJ1Jlc3RleiBpbmZvcm1cdTAwRTknLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiAnJyxcbiAgICAgICAgICBlbWJlZENvZGU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNhcmQ6IHtcbiAgICAgICAgdHlwZTogJ0NhcmQnLFxuICAgICAgICBsYWJlbDogJ0NhcnRlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDYXJ0ZSBhdmVjIGltYWdlLCB0ZXh0ZSBldCBsaWVuLicsXG4gICAgICAgIHN0YXR1czogJ0Jyb3VpbGxvbicsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgdGl0bGU6ICdUaXRyZSBkZSBsYSBjYXJ0ZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICBjdGFUZXh0OiAnRFx1MDBFOWNvdXZyaXInLFxuICAgICAgICAgIGN0YVVybDogJyMnLFxuICAgICAgICAgIGJnOiAnYmctc2xhdGUtNTAnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJ3JvdW5kZWQtMnhsJyxcbiAgICAgICAgICBzaGFkb3c6ICdzaGFkb3ctc20nLFxuICAgICAgICAgIGJvcmRlcjogJ2JvcmRlciBib3JkZXItc2xhdGUtMTAwIHRoZW1lLWJvcmRlci1hY2NlbnQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHBlcnNpc3RBY3RpdmVQYWdlID0gKHBhZ2VJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXlzLmFjdGl2ZSwgcGFnZUlkKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvKiBpZ25vcmUgc3RvcmFnZSBlcnJvcnMgKi9cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFN0b3JlZEFjdGl2ZVBhZ2UgPSAocGFnZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5cy5hY3RpdmUpO1xuICAgICAgICBpZiAoc3RvcmVkICYmIHBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhZ2UuaWQgPT09IHN0b3JlZCkpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmVkO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLyogaWdub3JlIHN0b3JhZ2UgZXJyb3JzICovXG4gICAgICB9XG4gICAgICByZXR1cm4gcGFnZXNbMF0/LmlkIHx8IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBmb3JtYXRCbG9ja0NvdW50ID0gKGNvdW50KSA9PiB7XG4gICAgICBpZiAoIWNvdW50IHx8IGNvdW50IDw9IDApIHtcbiAgICAgICAgcmV0dXJuICcwIGJsb2MnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ID09PSAxID8gJzEgYmxvYycgOiBgJHtjb3VudH0gYmxvY3NgO1xuICAgIH07XG4gICAgY29uc3Qgbm9ybWFsaXplUGFnZVNsdWcgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcvJykge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IHdvcmtzcGFjZVNsdWdpZnkodmFsdWUucmVwbGFjZSgvXlxcLy8sICcnKSk7XG4gICAgICByZXR1cm4gYmFzZSA/IGAvJHtiYXNlfWAgOiAnLyc7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUJsb2NrSWQgPSAocGFnZUlkID0gJ3BhZ2UnLCBrZXkgPSAnYmxvY2snKSA9PlxuICAgICAgYCR7cGFnZUlkfS0ke2tleX0tJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX0tJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xuICAgIGNvbnN0IGNyZWF0ZUluaXRpYWxCbG9ja3MgPSAocGFnZUlkLCB0aXRsZSkgPT4gW1xuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdpbnRybycpLFxuICAgICAgICAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgJ1BhcmFncmFwaGUnLFxuICAgICAgICAnQnJvdWlsbG9uJyxcbiAgICAgICAgYFBhcmFncmFwaGUgaW50cm9kdWN0aWYgcG91ciBcIiR7dGl0bGV9XCIuYCxcbiAgICAgICAgW3sgbGFiZWw6ICdMb25ndWV1cicsIHZhbHVlOiAnMiBwYXJhZ3JhcGhlcycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogYEludHJvZHVjdGlvbiBcdTAwRTAgJHt0aXRsZX1gLFxuICAgICAgICAgIGNvbnRlbnQ6ICdBam91dGV6IHZvdHJlIHByZW1pZXIgcGFyYWdyYXBoZSBkZSBwclx1MDBFOXNlbnRhdGlvbi4nLFxuICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChwYWdlSWQsICdjb250ZW50JyksXG4gICAgICAgICdab25lIGRlIGNvbnRlbnUnLFxuICAgICAgICAnR3JvdXBlJyxcbiAgICAgICAgJ0Jyb3VpbGxvbicsXG4gICAgICAgICdTZWN0aW9uIHByaW5jaXBhbGUgXHUwMEUwIGNvbXBvc2VyIGF2ZWMgdGV4dGVzIGV0IHZpc3VlbHMuJyxcbiAgICAgICAgW3sgbGFiZWw6ICdDb2xvbm5lcycsIHZhbHVlOiAnQXV0bycgfV0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgICAgICBjb2x1bW5zTW9iaWxlOiAnMScsXG4gICAgICAgICAgY29sdW1uc0Rlc2t0b3A6ICcyJyxcbiAgICAgICAgICBtb2JpbGVMYXlvdXQ6ICdzdGFjaycsXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgIF07XG4gICAgY29uc3Qgc2V0QWN0aXZlTGFiZWxzID0gKHBhZ2UpID0+IHtcbiAgICAgIGlmIChhY3RpdmVUaXRsZSkge1xuICAgICAgICAvLyBVc2UgcGFnZS5uYW1lIChzaG9ydCBuYW1lKSBpZiBhdmFpbGFibGUsIGZhbGxiYWNrIHRvIHRpdGxlXG4gICAgICAgIGFjdGl2ZVRpdGxlLnRleHRDb250ZW50ID0gcGFnZT8ubmFtZSB8fCBwYWdlPy50aXRsZSB8fCAnUGFnZSc7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlU2x1Zykge1xuICAgICAgICBhY3RpdmVTbHVnLnRleHRDb250ZW50ID0gcGFnZT8uc2x1ZyB8fCAnLyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJQcmV2aWV3TWV0YSA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdUYWdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdUYWdzLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29uc3QgdGFncyA9XG4gICAgICAgIHBhZ2UgJiYgcGFnZS5iYWRnZXMgJiYgcGFnZS5iYWRnZXMubGVuZ3RoID4gMCA/IHBhZ2UuYmFkZ2VzIDogWydTdHJ1Y3R1cmUgZW4gY291cnMnXTtcbiAgICAgIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBiYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXNsYXRlLTEwMCBweC0zIHB5LTEnO1xuICAgICAgICBiYWRnZS50ZXh0Q29udGVudCA9IHRhZztcbiAgICAgICAgcHJldmlld1RhZ3MuYXBwZW5kQ2hpbGQoYmFkZ2UpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdGF0dXNCYWRnZUNsYXNzZXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBzd2l0Y2ggKChzdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnZW4gbGlnbmUnOlxuICAgICAgICAgIHJldHVybiAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwJztcbiAgICAgICAgY2FzZSAnYnJvdWlsbG9uJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWFtYmVyLTUwIHRleHQtYW1iZXItNzAwJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTYwMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCbG9ja0RldGFpbHMgPSAoYmxvY2spID0+IHtcbiAgICAgIGlmICghYmxvY2tEZXRhaWxFbXB0eSB8fCAhYmxvY2tFZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICBibG9ja0RldGFpbEVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBibG9ja0VkaXRvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYmxvY2tFZGl0b3JVbnN1cHBvcnRlZD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRm9ybT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tEZXRhaWxFbXB0eS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrRWRpdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaWYgKGJsb2NrRGV0YWlsU3RhdHVzKSB7XG4gICAgICAgIGlmIChibG9jay5zdGF0dXMpIHtcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy50ZXh0Q29udGVudCA9IGJsb2NrLnN0YXR1cztcbiAgICAgICAgICBibG9ja0RldGFpbFN0YXR1cy5jbGFzc05hbWUgPSBgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHtnZXRTdGF0dXNCYWRnZUNsYXNzZXMoXG4gICAgICAgICAgICBibG9jay5zdGF0dXMsXG4gICAgICAgICAgKX1gO1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrRGV0YWlsU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgfTtcbiAgICBjb25zdCByZWFkQWNjZW50Q29sb3IgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wdXRlZCA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWNvbG9yLWFjY2VudCcpO1xuICAgICAgcmV0dXJuIGNvbXB1dGVkID8gY29tcHV0ZWQudHJpbSgpIDogJyM5QzZCRkYnO1xuICAgIH07XG4gICAgY29uc3QgYXBwbHlQcmV2aWV3SGlnaGxpZ2h0ID0gKGJsb2NrSWQpID0+IHtcbiAgICAgIGlmICghcHJldmlld0ZyYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdGcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlcyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcmV2aWV3LWJsb2NrXScpO1xuICAgICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZS5kYXRhc2V0LnByZXZpZXdCbG9jayA9PT0gYmxvY2tJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgICBpZiAocHJldmlld1JlYWR5ICYmIGJsb2NrSWQpIHtcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJywgaW5saW5lOiAnbmVhcmVzdCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncHJldmlldy1ibG9jay1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlld0hpZ2hsaWdodE92ZXJsYXkpIHtcbiAgICAgICAgY29uc3QgYWNjZW50ID0gcmVhZEFjY2VudENvbG9yKCk7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLmJvcmRlckNvbG9yID0gYmxvY2tJZCA/IGFjY2VudCA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgIHByZXZpZXdIaWdobGlnaHRPdmVybGF5LnN0eWxlLm9wYWNpdHkgPSBibG9ja0lkID8gJzAuNScgOiAnMCc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwcmV2aWV3Vmlld1ByZXNldHMgPSB7XG4gICAgICBkZXNrdG9wOiB7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzY0MHB4JywgbWF4V2lkdGg6ICcnLCBtYXJnaW46ICcwJyB9LFxuICAgICAgbW9iaWxlOiB7IHdpZHRoOiAnMzc1cHgnLCBoZWlnaHQ6ICc3ODBweCcsIG1heFdpZHRoOiAnMzc1cHgnLCBtYXJnaW46ICcwIGF1dG8nIH0sXG4gICAgfTtcbiAgICBjb25zdCBzZXRQcmV2aWV3VmlldyA9ICh2aWV3KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwcmV2aWV3Vmlld1ByZXNldHNbdmlld10gPyB2aWV3IDogJ2Rlc2t0b3AnO1xuICAgICAgcHJldmlld1ZpZXdCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJ1dHRvbi5kYXRhc2V0LnByZXZpZXdWaWV3ID09PSB0YXJnZXQ7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsIGlzQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdiZy1zbGF0ZS05MDAnLCAndGV4dC13aGl0ZScpO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdiZy1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS01MDAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYmctc2xhdGUtOTAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYmctc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNTAwJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3R5bGVzID0gcHJldmlld1ZpZXdQcmVzZXRzW3RhcmdldF07XG4gICAgICBpZiAocHJldmlld0ZyYW1lKSB7XG4gICAgICAgIHByZXZpZXdGcmFtZS5zdHlsZS53aWR0aCA9IHN0eWxlcy53aWR0aDtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLmhlaWdodCA9IHN0eWxlcy5oZWlnaHQ7XG4gICAgICAgIHByZXZpZXdGcmFtZS5zdHlsZS5tYXhXaWR0aCA9IHN0eWxlcy5tYXhXaWR0aDtcbiAgICAgICAgcHJldmlld0ZyYW1lLnN0eWxlLm1hcmdpbiA9IHN0eWxlcy5tYXJnaW47XG4gICAgICB9XG4gICAgICBpZiAocHJldmlld0ZyYW1lV3JhcHBlcikge1xuICAgICAgICBwcmV2aWV3RnJhbWVXcmFwcGVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBwcmV2aWV3RnJhbWVXcmFwcGVyLnN0eWxlLm1pbkhlaWdodCA9IHN0eWxlcy5oZWlnaHQ7XG4gICAgICAgIHByZXZpZXdGcmFtZVdyYXBwZXIuc3R5bGUubWF4V2lkdGggPSBzdHlsZXMubWF4V2lkdGggfHwgJzEwMCUnO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpZXdTaGVsbCkge1xuICAgICAgICBwcmV2aWV3U2hlbGwuZGF0YXNldC5wcmV2aWV3U2hlbGxWaWV3ID0gdGFyZ2V0O1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpZXdDdXJyZW50Vmlld0xhYmVsKSB7XG4gICAgICAgIHByZXZpZXdDdXJyZW50Vmlld0xhYmVsLnRleHRDb250ZW50ID0gdGFyZ2V0ID09PSAnbW9iaWxlJyA/ICdWdWUgbW9iaWxlJyA6ICdWdWUgYnVyZWF1JztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIEZvbmN0aW9uIHBvdXIgY3JcdTAwRTllciB1biBcdTAwRTlsXHUwMEU5bWVudCBkZSBibG9jICh1dGlsaXNcdTAwRTkgcG91ciBsZXMgYmxvY3MgZXQgbGVzIGVuZmFudHMgZGUgZ3JvdXBlKVxuICAgIGNvbnN0IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQgPSAoYmxvY2ssIGlzTmVzdGVkID0gZmFsc2UsIHBhcmVudElkID0gbnVsbCkgPT4ge1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBibG9jay5pZCA9PT0gYWN0aXZlQmxvY2tJZDtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChibG9jay50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaXNHcm91cCA9IGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnIHx8IGJsb2NrVHlwZSA9PT0gJ3NlY3Rpb25zJyB8fCBibG9ja1R5cGUgPT09ICdncmlkJztcbiAgICAgIFxuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaXRlbS5kYXRhc2V0LmJsb2NrSXRlbSA9ICd0cnVlJztcbiAgICAgIGl0ZW0uZGF0YXNldC5ibG9ja0lkID0gYmxvY2suaWQ7XG4gICAgICBpZiAocGFyZW50SWQpIGl0ZW0uZGF0YXNldC5wYXJlbnRCbG9ja0lkID0gcGFyZW50SWQ7XG4gICAgICBpZiAoaXNHcm91cCkgaXRlbS5kYXRhc2V0LmlzR3JvdXAgPSAndHJ1ZSc7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgaXRlbS50YWJJbmRleCA9IDA7XG4gICAgICBpdGVtLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgJ3JlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTIgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZ3JvdXAnLFxuICAgICAgICBpc05lc3RlZCA/ICdtbC02IGJvcmRlci1kYXNoZWQnIDogJycsXG4gICAgICAgIGlzQWN0aXZlXG4gICAgICAgICAgPyAnYmctc2xhdGUtMTAwIGJvcmRlci1bIzlDNkJGRl0vNDAgc2hhZG93LXNtJ1xuICAgICAgICAgIDogJ2JvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ym9yZGVyLVsjOUM2QkZGXS80MCcsXG4gICAgICBdLmpvaW4oJyAnKTtcbiAgICAgIFxuICAgICAgY29uc3QgYWNjZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgYWNjZW50LmNsYXNzTmFtZSA9IGBhYnNvbHV0ZSBpbnNldC15LTIgbGVmdC0wIHctMSByb3VuZGVkLWZ1bGwgYmctWyM5QzZCRkZdICR7aXNBY3RpdmUgPyAnJyA6ICdoaWRkZW4nfWA7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjY2VudCk7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBnYXAtMyc7XG4gICAgICBcbiAgICAgIGNvbnN0IGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9ICdoaWRkZW4gbGc6ZmxleCBjdXJzb3ItZ3JhYiBhY3RpdmU6Y3Vyc29yLWdyYWJiaW5nIGZsZXgtc2hyaW5rLTAgaXRlbXMtY2VudGVyIHRleHQtbGcgdGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnMgc2VsZWN0LW5vbmUnO1xuICAgICAgaGFuZGxlLmlubmVySFRNTCA9ICdcdTIyRUVcdTIyRUUnO1xuICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnR2xpc3NlciBwb3VyIHJcdTAwRTlvcmRvbm5lcicpO1xuICAgICAgY29udGVudC5hcHBlbmRDaGlsZChoYW5kbGUpO1xuXG4gICAgICBjb25zdCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGV4dFdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZsZXgtMSc7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtWzExcHhdIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIFxuICAgICAgY29uc3QgdHlwZUJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdHlwZUJhZGdlLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIHB4LTIgcHktMC41IHRleHQtWzEwcHhdIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS02MDAnO1xuICAgICAgdHlwZUJhZGdlLnRleHRDb250ZW50ID0gYmxvY2sudHlwZTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBzdGF0dXNCYWRnZS5jbGFzc05hbWUgPSAndGV4dC1zbGF0ZS00MDAnO1xuICAgICAgc3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSBibG9jay5zdGF0dXM7XG4gICAgICBcbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodHlwZUJhZGdlKTtcbiAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSAoYmxvY2suY2hpbGRyZW4gfHwgW10pLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2hpbGRCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY2hpbGRCYWRnZS5jbGFzc05hbWUgPSAncm91bmRlZC1mdWxsIGJnLXZpb2xldC0xMDAgcHgtMiBweS0wLjUgdGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LXZpb2xldC02MDAnO1xuICAgICAgICBjaGlsZEJhZGdlLnRleHRDb250ZW50ID0gYCR7Y2hpbGRDb3VudH0gXHUwMEU5bFx1MDBFOW1lbnQke2NoaWxkQ291bnQgIT09IDEgPyAncycgOiAnJ31gO1xuICAgICAgICBtZXRhLmFwcGVuZENoaWxkKGNoaWxkQmFkZ2UpO1xuICAgICAgfVxuICAgICAgbWV0YS5hcHBlbmRDaGlsZChzdGF0dXNCYWRnZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ210LTEgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwJztcbiAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9IChibG9jay5zZXR0aW5ncyAmJiBibG9jay5zZXR0aW5ncy50aXRsZSkgfHwgYmxvY2subGFiZWwgfHwgJ0Jsb2Mgc2FucyB0aXRyZSc7XG4gICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGRpc3BsYXlMYWJlbDtcbiAgICAgIFxuICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQobWV0YSk7XG4gICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICBcbiAgICAgIGlmIChibG9ja1R5cGUgPT09ICdjb2xsZWN0aW9uZ3JpZCcgJiYgYmxvY2suY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBibG9jay5jb2xsZWN0aW9uSWQpPy5uYW1lIHx8IGJsb2NrLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgaW5mby5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiA6ICR7Y29sbGVjdGlvbk5hbWV9YDtcbiAgICAgICAgdGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGV4dFdyYXBwZXIpO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYWN0aW9ucy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBnYXAtMSB0ZXh0LXhzIHRleHQtc2xhdGUtNDAwJztcblxuICAgICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1vdmVCdXR0b25zLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBsZzpoaWRkZW4nO1xuICAgICAgY29uc3QgbW92ZVVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBtb3ZlVXAudHlwZSA9ICdidXR0b24nO1xuICAgICAgbW92ZVVwLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVVcC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgbW92ZVVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgICBtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0KHBhcmVudElkLCBibG9jay5pZCwgLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAtMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbW92ZURvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG1vdmVEb3duLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIG1vdmVEb3duLmNsYXNzTmFtZSA9ICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNTAwJztcbiAgICAgIG1vdmVEb3duLnRleHRDb250ZW50ID0gJ1x1MjE5Myc7XG4gICAgICBtb3ZlRG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgbW92ZUNoaWxkQmxvY2tCeU9mZnNldChwYXJlbnRJZCwgYmxvY2suaWQsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdmVCbG9ja0J5T2Zmc2V0KGJsb2NrLmlkLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtb3ZlQnV0dG9ucy5hcHBlbmRDaGlsZChtb3ZlVXApO1xuICAgICAgbW92ZUJ1dHRvbnMuYXBwZW5kQ2hpbGQobW92ZURvd24pO1xuICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChtb3ZlQnV0dG9ucyk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZGVsZXRlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1bMTJweF0gdGV4dC1yb3NlLTUwMCBob3Zlcjp0ZXh0LXJvc2UtNzAwJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnXHVEODNEXHVEREQxXHVGRTBGJztcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAocGFyZW50SWQsIGJsb2NrLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuQmxvY2tEZWxldGVNb2RhbChibG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmVCbG9jayhibG9jay5pZCwgcGFyZW50SWQpO1xuICAgICAgfSk7XG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2suaWQsIHBhcmVudElkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IGl0ZW0sIGlzR3JvdXAsIGJsb2NrIH07XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyXHUwMEU5ZXIgbGEgem9uZSBkZSBkcm9wIHBvdXIgdW4gZ3JvdXBlXG4gICAgY29uc3QgY3JlYXRlR3JvdXBEcm9wWm9uZSA9IChwYXJlbnRCbG9jaykgPT4ge1xuICAgICAgY29uc3QgZHJvcFpvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRyb3Bab25lLmRhdGFzZXQuZ3JvdXBEcm9wWm9uZSA9IHBhcmVudEJsb2NrLmlkO1xuICAgICAgZHJvcFpvbmUuY2xhc3NOYW1lID0gJ21sLTYgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMjAwIHJvdW5kZWQteGwgcC0zIHRleHQtY2VudGVyIHRleHQteHMgdGV4dC1zbGF0ZS00MDAgaG92ZXI6Ym9yZGVyLXZpb2xldC0zMDAgaG92ZXI6YmctdmlvbGV0LTUwLzUwIHRyYW5zaXRpb24tY29sb3JzIGN1cnNvci1wb2ludGVyJztcbiAgICAgIGRyb3Bab25lLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInBvaW50ZXItZXZlbnRzLW5vbmVcIj5cdUQ4M0RcdURDRTYgR2xpc3NleiB1biBibG9jIGljaSBvdSBjbGlxdWV6IHBvdXIgYWpvdXRlcjwvc3Bhbj4nO1xuICAgICAgXG4gICAgICAvLyBcdTAwQzl2XHUwMEU5bmVtZW50cyBkZSBkcmFnICYgZHJvcFxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRyb3Bab25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci12aW9sZXQtNDAwJywgJ2JnLXZpb2xldC01MCcpO1xuICAgICAgfSk7XG4gICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcm9wWm9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdmlvbGV0LTQwMCcsICdiZy12aW9sZXQtNTAnKTtcbiAgICAgIH0pO1xuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZHJvcFpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXZpb2xldC00MDAnLCAnYmctdmlvbGV0LTUwJyk7XG4gICAgICAgIGNvbnN0IGJsb2NrSWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgIGlmIChibG9ja0lkICYmIGJsb2NrSWQgIT09IHBhcmVudEJsb2NrLmlkKSB7XG4gICAgICAgICAgbW92ZUJsb2NrVG9Hcm91cChibG9ja0lkLCBwYXJlbnRCbG9jay5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGljIHBvdXIgYWpvdXRlciB1biBibG9jIGF1IGdyb3VwZVxuICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIG9wZW5BZGRCbG9ja1RvR3JvdXBNb2RhbChwYXJlbnRCbG9jay5pZCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGRyb3Bab25lO1xuICAgIH07XG5cblx0ICAgIGNvbnN0IHJlbmRlckJsb2NrTGlzdCA9IChwYWdlKSA9PiB7XG5cdCAgICAgIGlmICghYmxvY2tMaXN0KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG4gICAgICBibG9ja0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb25zdCBibG9ja3MgPSBwYWdlPy5ibG9ja3MgfHwgW107XG4gICAgICBpZiAoYmxvY2tDb3VudEJhZGdlKSB7XG4gICAgICAgIGJsb2NrQ291bnRCYWRnZS50ZXh0Q29udGVudCA9IGZvcm1hdEJsb2NrQ291bnQoYmxvY2tzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBibG9ja0xpc3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGJsb2NrTGlzdEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmxvY2tMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tMaXN0RW1wdHk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgXG4gICAgICBibG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgeyBpdGVtLCBpc0dyb3VwIH0gPSBjcmVhdGVCbG9ja0l0ZW1FbGVtZW50KGJsb2NrLCBmYWxzZSwgbnVsbCk7XG4gICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpIGMnZXN0IHVuIGdyb3VwZSwgYWZmaWNoZXIgbGVzIGVuZmFudHMgZXQgbGEgem9uZSBkZSBkcm9wXG4gICAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBibG9jay5jaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpdGVtOiBjaGlsZEl0ZW0gfSA9IGNyZWF0ZUJsb2NrSXRlbUVsZW1lbnQoY2hpbGQsIHRydWUsIGJsb2NrLmlkKTtcbiAgICAgICAgICAgIGJsb2NrTGlzdC5hcHBlbmRDaGlsZChjaGlsZEl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIFpvbmUgZGUgZHJvcCBwb3VyIGFqb3V0ZXIgZGVzIGJsb2NzIGF1IGdyb3VwZVxuICAgICAgICAgIGNvbnN0IGRyb3Bab25lID0gY3JlYXRlR3JvdXBEcm9wWm9uZShibG9jayk7XG4gICAgICAgICAgYmxvY2tMaXN0LmFwcGVuZENoaWxkKGRyb3Bab25lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgXG5cdCAgICAvLyBGb25jdGlvbnMgcG91ciBnXHUwMEU5cmVyIGxlcyBlbmZhbnRzIGRlcyBncm91cGVzXG5cdCAgICBjb25zdCBmaW5kQ2hpbGRMb2NhdGlvbiA9IChjaGlsZElkKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWNoaWxkSWQpIHJldHVybiBudWxsO1xuXHQgICAgICBmb3IgKGxldCBncm91cEluZGV4ID0gMDsgZ3JvdXBJbmRleCA8IGN1cnJlbnRQYWdlLmJsb2Nrcy5sZW5ndGg7IGdyb3VwSW5kZXgrKykge1xuXHQgICAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbZ3JvdXBJbmRleF07XG5cdCAgICAgICAgY29uc3QgZ3JvdXBUeXBlID0gKGdyb3VwQmxvY2s/LnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgY29uc3QgaXNHcm91cCA9XG5cdCAgICAgICAgICBncm91cFR5cGUgPT09ICdncm91cGUnIHx8IGdyb3VwVHlwZSA9PT0gJ2dyb3VwJyB8fCBncm91cFR5cGUgPT09ICdzZWN0aW9ucycgfHwgZ3JvdXBUeXBlID09PSAnZ3JpZCc7XG5cdCAgICAgICAgaWYgKCFpc0dyb3VwIHx8ICFBcnJheS5pc0FycmF5KGdyb3VwQmxvY2suY2hpbGRyZW4pKSBjb250aW51ZTtcblx0ICAgICAgICBjb25zdCBjaGlsZEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGNoaWxkKSA9PiBjaGlsZC5pZCA9PT0gY2hpbGRJZCk7XG5cdCAgICAgICAgaWYgKGNoaWxkSW5kZXggIT09IC0xKSB7XG5cdCAgICAgICAgICByZXR1cm4geyBncm91cElkOiBncm91cEJsb2NrLmlkLCBncm91cEluZGV4LCBjaGlsZEluZGV4IH07XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfTtcblx0ICAgIGNvbnN0IGV4dHJhY3RCbG9ja0J5SWQgPSAoYmxvY2tJZCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkKSByZXR1cm4gbnVsbDtcblx0ICAgICAgY29uc3Qgcm9vdEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gYmxvY2tJZCk7XG5cdCAgICAgIGlmIChyb290SW5kZXggIT09IC0xKSB7XG5cdCAgICAgICAgY29uc3QgW2Jsb2NrXSA9IGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2Uocm9vdEluZGV4LCAxKTtcblx0ICAgICAgICByZXR1cm4geyBibG9jaywgZnJvbTogeyB0eXBlOiAncm9vdCcsIGluZGV4OiByb290SW5kZXggfSB9O1xuXHQgICAgICB9XG5cdCAgICAgIGNvbnN0IGNoaWxkTG9jID0gZmluZENoaWxkTG9jYXRpb24oYmxvY2tJZCk7XG5cdCAgICAgIGlmICghY2hpbGRMb2MpIHJldHVybiBudWxsO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGNoaWxkTG9jLmdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIHJldHVybiBudWxsO1xuXHQgICAgICBjb25zdCBbYmxvY2tdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRMb2MuY2hpbGRJbmRleCwgMSk7XG5cdCAgICAgIHJldHVybiB7IGJsb2NrLCBmcm9tOiB7IHR5cGU6ICdncm91cCcsIGdyb3VwSWQ6IGNoaWxkTG9jLmdyb3VwSWQsIGluZGV4OiBjaGlsZExvYy5jaGlsZEluZGV4IH0gfTtcblx0ICAgIH07XG5cdCAgICBjb25zdCBpbnNlcnRCbG9ja0ludG9Sb290ID0gKGJsb2NrLCBpbmRleCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9jaykgcmV0dXJuO1xuXHQgICAgICBjb25zdCBzYWZlSW5kZXggPSBNYXRoLm1pbihNYXRoLm1heCgwLCBpbmRleCA/PyBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKSwgY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aCk7XG5cdCAgICAgIGN1cnJlbnRQYWdlLmJsb2Nrcy5zcGxpY2Uoc2FmZUluZGV4LCAwLCBibG9jayk7XG5cdCAgICB9O1xuXHQgICAgY29uc3QgaW5zZXJ0QmxvY2tJbnRvR3JvdXAgPSAoYmxvY2ssIGdyb3VwSWQsIGluZGV4KSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIWJsb2NrIHx8ICFncm91cElkKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgIGNvbnN0IGdyb3VwQmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG5cdCAgICAgIGlmICghZ3JvdXBCbG9jaykgcmV0dXJuIGZhbHNlO1xuXHQgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcblx0ICAgICAgY29uc3Qgc2FmZUluZGV4ID0gTWF0aC5taW4oXG5cdCAgICAgICAgTWF0aC5tYXgoMCwgaW5kZXggPz8gZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGgpLFxuXHQgICAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ubGVuZ3RoLFxuXHQgICAgICApO1xuXHQgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShzYWZlSW5kZXgsIDAsIGJsb2NrKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9O1xuXHQgICAgY29uc3QgZ2V0SW5zZXJ0SW5kZXhGcm9tUG9zaXRpb24gPSAoYmFzZUluZGV4LCBwb3NpdGlvbiwgb2Zmc2V0V2hlbkFmdGVyID0gMSkgPT4ge1xuXHQgICAgICBpZiAodHlwZW9mIGJhc2VJbmRleCAhPT0gJ251bWJlcicgfHwgYmFzZUluZGV4IDwgMCkgcmV0dXJuIG51bGw7XG5cdCAgICAgIHJldHVybiBwb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyBiYXNlSW5kZXggOiBiYXNlSW5kZXggKyBvZmZzZXRXaGVuQWZ0ZXI7XG5cdCAgICB9O1xuXHQgICAgY29uc3QgY29tbWl0QmxvY2tzQ2hhbmdlID0gKGFjdGl2ZUlkID0gbnVsbCwgYWN0aXZlUGFyZW50SWQgPSBudWxsLCB0b2FzdE1lc3NhZ2UgPSBudWxsKSA9PiB7XG5cdCAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG5cdCAgICAgIHNhdmVQYWdlQmxvY2tzKCk7XG5cdCAgICAgIGlmIChhY3RpdmVJZCkge1xuXHQgICAgICAgIHNldEFjdGl2ZUJsb2NrKGFjdGl2ZUlkLCBhY3RpdmVQYXJlbnRJZCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRvYXN0TWVzc2FnZSkge1xuXHQgICAgICAgIHNob3dUb2FzdCh0b2FzdE1lc3NhZ2UpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICBjb25zdCBtb3ZlQmxvY2tUb0dyb3VwID0gKGJsb2NrSWQsIGdyb3VwSWQpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuXHQgICAgICBpZiAoIWJsb2NrSWQgfHwgIWdyb3VwSWQgfHwgYmxvY2tJZCA9PT0gZ3JvdXBJZCkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2spIHJldHVybjtcblx0ICAgICAgXG5cdCAgICAgIC8vIE5lIHBhcyBwZXJtZXR0cmUgZGUgZFx1MDBFOXBsYWNlciB1biBncm91cGUgZGFucyB1biBncm91cGVcblx0ICAgICAgY29uc3QgZXh0cmFjdGVkID0gZXh0cmFjdEJsb2NrQnlJZChibG9ja0lkKTtcblx0ICAgICAgaWYgKCFleHRyYWN0ZWQ/LmJsb2NrKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IChleHRyYWN0ZWQuYmxvY2sudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgaWYgKGJsb2NrVHlwZSA9PT0gJ2dyb3VwZScgfHwgYmxvY2tUeXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgc2hvd1RvYXN0KCdJbXBvc3NpYmxlIGRcXCdpbWJyaXF1ZXIgZGVzIGdyb3VwZXMnLCAnZXJyb3InKTtcblx0ICAgICAgICAvLyBSZW1ldHRyZSBsZSBibG9jIFx1MDBFMCBzYSBwbGFjZSBkJ29yaWdpbmVcblx0ICAgICAgICBpZiAoZXh0cmFjdGVkLmZyb20/LnR5cGUgPT09ICdyb290Jykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvUm9vdChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAnZ3JvdXAnKSB7XG5cdCAgICAgICAgICBpbnNlcnRCbG9ja0ludG9Hcm91cChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQsIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIFxuXHQgICAgICAvLyBEXHUwMEU5alx1MDBFMCBkYW5zIGNlIGdyb3VwZSBcdTIxOTIgbm8tb3Bcblx0ICAgICAgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAnZ3JvdXAnICYmIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQgPT09IGdyb3VwSWQpIHtcblx0ICAgICAgICBpbnNlcnRCbG9ja0ludG9Hcm91cChleHRyYWN0ZWQuYmxvY2ssIGV4dHJhY3RlZC5mcm9tLmdyb3VwSWQsIGV4dHJhY3RlZC5mcm9tLmluZGV4KTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcblx0ICAgICAgZ3JvdXBCbG9jay5jaGlsZHJlbi5wdXNoKGV4dHJhY3RlZC5ibG9jayk7XG5cdCAgICAgIGNvbW1pdEJsb2Nrc0NoYW5nZShleHRyYWN0ZWQuYmxvY2suaWQsIGdyb3VwSWQsIGBCbG9jIGFqb3V0XHUwMEU5IGF1IGdyb3VwZWApO1xuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgY29uc3QgcmVtb3ZlQ2hpbGRGcm9tR3JvdXAgPSAoZ3JvdXBJZCwgY2hpbGRJZCkgPT4ge1xuXHQgICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2hpbGRJZCk7XG4gICAgICBpZiAoY2hpbGRJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gUmV0aXJlciBsJ2VuZmFudCBkdSBncm91cGUgZXQgbGUgcmVtZXR0cmUgZGFucyBsYSBsaXN0ZSBwcmluY2lwYWxlIGFwclx1MDBFOHMgbGUgZ3JvdXBlXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG4gICAgICBjb25zdCBncm91cEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gZ3JvdXBJZCk7XG4gICAgICBjdXJyZW50UGFnZS5ibG9ja3Muc3BsaWNlKGdyb3VwSW5kZXggKyAxLCAwLCBjaGlsZCk7XG4gICAgICBcblx0ICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcblx0ICAgICAgc2F2ZVBhZ2VCbG9ja3MoKTtcblx0ICAgICAgc2hvd1RvYXN0KGBCbG9jIHNvcnRpIGR1IGdyb3VwZWApO1xuXHQgICAgfTtcblxuXHQgICAgY29uc3QgbW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQgPSAoZ3JvdXBJZCwgY2hpbGRJZCwgaW5zZXJ0SW5kZXgpID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIHJldHVybjtcblx0ICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcblx0ICAgICAgaWYgKGNoaWxkSW5kZXggPT09IC0xKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IFtjaGlsZF0gPSBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAxKTtcblx0ICAgICAgaW5zZXJ0QmxvY2tJbnRvUm9vdChjaGlsZCwgaW5zZXJ0SW5kZXgpO1xuXHQgICAgICBjb21taXRCbG9ja3NDaGFuZ2UoY2hpbGQuaWQsIG51bGwsICdCbG9jIHNvcnRpIGR1IGdyb3VwZScpO1xuXHQgICAgfTtcblxuXHQgICAgY29uc3QgbW92ZUNoaWxkV2l0aGluR3JvdXAgPSAoZ3JvdXBJZCwgY2hpbGRJZCwgdGFyZ2V0Q2hpbGRJZCwgcG9zaXRpb24pID0+IHtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSkgcmV0dXJuO1xuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2sgfHwgIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIHJldHVybjtcblx0ICAgICAgY29uc3QgZnJvbUluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNoaWxkSWQpO1xuXHQgICAgICBjb25zdCB0b0luZGV4QmFzZSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSB0YXJnZXRDaGlsZElkKTtcblx0ICAgICAgaWYgKGZyb21JbmRleCA9PT0gLTEgfHwgdG9JbmRleEJhc2UgPT09IC0xIHx8IGNoaWxkSWQgPT09IHRhcmdldENoaWxkSWQpIHJldHVybjtcblx0ICAgICAgY29uc3QgW21vdmVkXSA9IGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKGZyb21JbmRleCwgMSk7XG5cdCAgICAgIGNvbnN0IGFkanVzdGVkVG9JbmRleEJhc2UgPSBmcm9tSW5kZXggPCB0b0luZGV4QmFzZSA/IHRvSW5kZXhCYXNlIC0gMSA6IHRvSW5kZXhCYXNlO1xuXHQgICAgICBjb25zdCBpbnNlcnRJbmRleCA9XG5cdCAgICAgICAgcG9zaXRpb24gPT09ICdiZWZvcmUnID8gYWRqdXN0ZWRUb0luZGV4QmFzZSA6IGFkanVzdGVkVG9JbmRleEJhc2UgKyAxO1xuXHQgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbW92ZWQpO1xuXHQgICAgICBjb21taXRCbG9ja3NDaGFuZ2UobW92ZWQuaWQsIGdyb3VwSWQsIG51bGwpO1xuXHQgICAgfTtcblxuXHQgICAgY29uc3QgbW92ZUFueUJsb2NrVG9Hcm91cEF0ID0gKGJsb2NrSWQsIGdyb3VwSWQsIHRhcmdldENoaWxkSWQsIHBvc2l0aW9uKSA9PiB7XG5cdCAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblx0ICAgICAgaWYgKCFibG9ja0lkIHx8ICFncm91cElkKSByZXR1cm47XG5cdCAgICAgIGNvbnN0IGV4dHJhY3RlZCA9IGV4dHJhY3RCbG9ja0J5SWQoYmxvY2tJZCk7XG5cdCAgICAgIGlmICghZXh0cmFjdGVkPy5ibG9jaykgcmV0dXJuO1xuXHQgICAgICBjb25zdCBibG9ja1R5cGUgPSAoZXh0cmFjdGVkLmJsb2NrLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgIGlmIChibG9ja1R5cGUgPT09ICdncm91cGUnIHx8IGJsb2NrVHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgIHNob3dUb2FzdChcIkltcG9zc2libGUgZCdpbWJyaXF1ZXIgZGVzIGdyb3VwZXNcIiwgJ2Vycm9yJyk7XG5cdCAgICAgICAgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAncm9vdCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b1Jvb3QoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvR3JvdXAoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5ncm91cElkLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuXHQgICAgICBpZiAoIWdyb3VwQmxvY2spIHtcblx0ICAgICAgICAvLyBSZW1ldHRyZSBsZSBibG9jXG5cdCAgICAgICAgaWYgKGV4dHJhY3RlZC5mcm9tPy50eXBlID09PSAncm9vdCcpIHtcblx0ICAgICAgICAgIGluc2VydEJsb2NrSW50b1Jvb3QoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChleHRyYWN0ZWQuZnJvbT8udHlwZSA9PT0gJ2dyb3VwJykge1xuXHQgICAgICAgICAgaW5zZXJ0QmxvY2tJbnRvR3JvdXAoZXh0cmFjdGVkLmJsb2NrLCBleHRyYWN0ZWQuZnJvbS5ncm91cElkLCBleHRyYWN0ZWQuZnJvbS5pbmRleCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ3JvdXBCbG9jay5jaGlsZHJlbikpIGdyb3VwQmxvY2suY2hpbGRyZW4gPSBbXTtcblx0ICAgICAgbGV0IGluc2VydEluZGV4ID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5sZW5ndGg7XG5cdCAgICAgIGlmICh0YXJnZXRDaGlsZElkKSB7XG5cdCAgICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSBncm91cEJsb2NrLmNoaWxkcmVuLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gdGFyZ2V0Q2hpbGRJZCk7XG5cdCAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSBnZXRJbnNlcnRJbmRleEZyb21Qb3NpdGlvbih0YXJnZXRJbmRleCwgcG9zaXRpb24sIDEpO1xuXHQgICAgICAgIGlmIChyZXNvbHZlZCAhPT0gbnVsbCkgaW5zZXJ0SW5kZXggPSByZXNvbHZlZDtcblx0ICAgICAgfVxuXHQgICAgICBncm91cEJsb2NrLmNoaWxkcmVuLnNwbGljZShpbnNlcnRJbmRleCwgMCwgZXh0cmFjdGVkLmJsb2NrKTtcblx0ICAgICAgY29tbWl0QmxvY2tzQ2hhbmdlKGV4dHJhY3RlZC5ibG9jay5pZCwgZ3JvdXBJZCwgJ0Jsb2MgYWpvdXRcdTAwRTkgYXUgZ3JvdXBlJyk7XG5cdCAgICB9O1xuICAgIFxuICAgIGNvbnN0IG1vdmVDaGlsZEJsb2NrQnlPZmZzZXQgPSAoZ3JvdXBJZCwgY2hpbGRJZCwgb2Zmc2V0KSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IGdyb3VwSWQpO1xuICAgICAgaWYgKCFncm91cEJsb2NrIHx8ICFncm91cEJsb2NrLmNoaWxkcmVuKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGdyb3VwQmxvY2suY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjaGlsZElkKTtcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudEluZGV4ICsgb2Zmc2V0O1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCB8fCBuZXdJbmRleCA+PSBncm91cEJsb2NrLmNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBbY2hpbGRdID0gZ3JvdXBCbG9jay5jaGlsZHJlbi5zcGxpY2UoY3VycmVudEluZGV4LCAxKTtcbiAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4uc3BsaWNlKG5ld0luZGV4LCAwLCBjaGlsZCk7XG4gICAgICBcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3Qgb3BlbkFkZEJsb2NrVG9Hcm91cE1vZGFsID0gKGdyb3VwSWQpID0+IHtcbiAgICAgIC8vIFV0aWxpc2VyIGxlIG1cdTAwRUFtZSBtb2RhbCBkJ2Fqb3V0IGRlIGJsb2MsIG1haXMgYXZlYyBsZSBjb250ZXh0ZSBkdSBncm91cGVcbiAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBncm91cElkO1xuICAgICAgb3BlbkJsb2NrUGlja2VyKCk7XG4gICAgfTtcbiAgICBcbiAgICBsZXQgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG5cbiAgICAvLyA9PT0gRGVsZXRlIHBhZ2UgaGFuZGxlcnMgKGRlZmluZWQgYmVmb3JlIHJlbmRlclBhZ2VMaXN0cykgPT09XG4gICAgY29uc3Qgb3BlbkRlbGV0ZVBhZ2VNb2RhbCA9IChwYWdlKSA9PiB7XG4gICAgICBpZiAoIWRlbGV0ZVBhZ2VNb2RhbCB8fCAhcGFnZSkgcmV0dXJuO1xuICAgICAgcGFnZVRvRGVsZXRlID0gcGFnZTtcbiAgICAgIGlmIChkZWxldGVQYWdlTmFtZSkgZGVsZXRlUGFnZU5hbWUudGV4dENvbnRlbnQgPSBwYWdlLnRpdGxlIHx8IHBhZ2UuaWQ7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVQYWdlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgYWN0aXZhdGVNb2RhbChkZWxldGVQYWdlTW9kYWwsIGNsb3NlRGVsZXRlUGFnZU1vZGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRGVsZXRlUGFnZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFkZWxldGVQYWdlTW9kYWwpIHJldHVybjtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRlbGV0ZVBhZ2VNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwYWdlVG9EZWxldGUgPSBudWxsO1xuICAgICAgZGVhY3RpdmF0ZU1vZGFsKGRlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBleGVjdXRlRGVsZXRlUGFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlIHx8ICFwYWdlVG9EZWxldGUpIHJldHVybjtcbiAgICAgIGNvbnN0IHBhZ2VJZCA9IHBhZ2VUb0RlbGV0ZS5pZDtcbiAgICAgIGNvbnN0IHBhZ2VUaXRsZSA9IHBhZ2VUb0RlbGV0ZS50aXRsZSB8fCBwYWdlSWQ7XG4gICAgICBpZiAoZGVsZXRlUGFnZUNvbmZpcm0pIHtcbiAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBkZWxldGVQYWdlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmVzc2lvbi4uLic7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3BhZ2VzQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQocGFnZUlkKX1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1cHByaW1lciBkZSBsYSBsaXN0ZSBsb2NhbGVcbiAgICAgICAgcGFnZXMgPSBwYWdlcy5maWx0ZXIoKHApID0+IHAuaWQgIT09IHBhZ2VJZCk7XG4gICAgICAgIC8vIFNpIGxhIHBhZ2Ugc3VwcHJpbVx1MDBFOWUgXHUwMEU5dGFpdCBhY3RpdmUsIHNcdTAwRTlsZWN0aW9ubmVyIGxhIHByZW1pXHUwMEU4cmVcbiAgICAgICAgaWYgKGFjdGl2ZVBhZ2VJZCA9PT0gcGFnZUlkKSB7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBhZ2UocGFnZXNbMF0uaWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBudWxsO1xuICAgICAgICAgICAgcmVuZGVyUGFnZUxpc3RzKHBhZ2VzLCBudWxsKTtcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChudWxsKTtcbiAgICAgICAgICAgIGJsb2NrRGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgYmxvY2tFZGl0b3I/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgcHJldmlld0ZyYW1lICYmIChwcmV2aWV3RnJhbWUuc3JjZG9jID0gZ2V0TG9hZGluZ1ByZXZpZXdIdG1sKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VEZWxldGVQYWdlTW9kYWwoKTtcbiAgICAgICAgc2hvd1RvYXN0KGBQYWdlIFwiJHtwYWdlVGl0bGV9XCIgc3VwcHJpbVx1MDBFOWVgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcGFnZXNdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBzdXBwcmVzc2lvbicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGRlbGV0ZVBhZ2VDb25maXJtKSB7XG4gICAgICAgICAgZGVsZXRlUGFnZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVQYWdlQ29uZmlybS50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclBhZ2VMaXN0cyA9IChwYWdlcywgYWN0aXZlSWQpID0+IHtcbiAgICAgIHBhZ2VMaXN0cy5mb3JFYWNoKChsaXN0KSA9PiB7XG4gICAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICBpdGVtLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSc7XG4gICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBidXR0b24uZGF0YXNldC5wYWdlSWQgPSBwYWdlLmlkO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBbXG4gICAgICAgICAgICAnZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbicsXG4gICAgICAgICAgICBhY3RpdmVJZCA9PT0gcGFnZS5pZFxuICAgICAgICAgICAgICA/ICdiZy1bIzlDNkJGRl0vMTAgdGV4dC1zbGF0ZS05MDAgYm9yZGVyIGJvcmRlci1bIzlDNkJGRl0vNDAgcm91bmRlZC14bCBzaGFkb3ctc20nXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNzAwIGhvdmVyOmJnLXNsYXRlLTUwIHJvdW5kZWQteGwnLFxuICAgICAgICAgIF0uam9pbignICcpO1xuICAgICAgICAgIGlmIChhY3RpdmVJZCA9PT0gcGFnZS5pZCkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3BhZ2UnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IHBhZ2UubmFtZSB8fCBwYWdlLnRpdGxlO1xuICAgICAgICAgIGNvbnN0IGlzSGlkZGVuRnJvbU5hdiA9IHBhZ2UuYWNjZXNzaWJpbGl0eT8uc2hvd0luTWFpbk5hdiA9PT0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgbmF2QmFkZ2UgPSBpc0hpZGRlbkZyb21OYXZcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwidGV4dC1bMTBweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTYwMFwiPk1hc3F1XHUwMEU5IGR1IG1lbnU8L3NwYW4+J1xuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgYmctd2hpdGUgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYuNSA0LjVoN2w0IDR2MTFhMSAxIDAgMCAxLTEgMWgtMTBhMSAxIDAgMCAxLTEtMXYtMTRhMSAxIDAgMCAxIDEtMVpcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEzLjUgNC41djRhMSAxIDAgMCAwIDEgMWgzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS40XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtkaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7cGFnZS5zbHVnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgJHtuYXZCYWRnZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlLmlkKTtcbiAgICAgICAgICAgIGlmICghaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgLy8gQm91dG9uIGRlIHN1cHByZXNzaW9uXG4gICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgZGVsZXRlQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICBkZWxldGVCdG4uY2xhc3NOYW1lID0gJ2ZsZXgtc2hyaW5rLTAgcC0yIHRleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtcm9zZS02MDAgaG92ZXI6Ymctcm9zZS01MCByb3VuZGVkLWxnIHRyYW5zaXRpb24nO1xuICAgICAgICAgIGRlbGV0ZUJ0bi50aXRsZSA9ICdTdXBwcmltZXIgY2V0dGUgcGFnZSc7XG4gICAgICAgICAgZGVsZXRlQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBTdXBwcmltZXIgJHtkaXNwbGF5TmFtZX1gKTtcbiAgICAgICAgICBkZWxldGVCdG4uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyA2aDE4TTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjJtMyAwdjE0YTIgMiAwIDAgMS0yIDJIN2EyIDIgMCAwIDEtMi0yVjZoMTRaTTEwIDExdjZNMTQgMTF2NlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIGA7XG4gICAgICAgICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBvcGVuRGVsZXRlUGFnZU1vZGFsKHBhZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcbiAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgZ2V0QWN0aXZlQmxvY2sgPSAoKSA9PiB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFBcnJheS5pc0FycmF5KGN1cnJlbnRQYWdlLmJsb2NrcykpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAvLyBDaGVyY2hlciBsZSBibG9jIGRhbnMgbGEgbGlzdGUgcHJpbmNpcGFsZSBvdSBkYW5zIGxlcyBlbmZhbnRzIGRlcyBncm91cGVzXG4gICAgICBsZXQgYmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBhY3RpdmVCbG9ja0lkKTtcbiAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBiIG9mIGN1cnJlbnRQYWdlLmJsb2Nrcykge1xuICAgICAgICAgIGlmIChiLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBibG9jayA9IGIuY2hpbGRyZW4uZmluZCgoY2hpbGQpID0+IGNoaWxkLmlkID09PSBhY3RpdmVCbG9ja0lkKTtcbiAgICAgICAgICAgIGlmIChibG9jaykgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxvY2sgfHwgbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgcGFnZUhhc0Jsb2NrSWQgPSAocGFnZSwgYmxvY2tJZCkgPT4ge1xuICAgICAgaWYgKCFwYWdlIHx8ICFibG9ja0lkKSByZXR1cm4gZmFsc2U7XG4gICAgICBjb25zdCB3YWxrID0gKG5vZGVzKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2RlcyB8fCBbXSkge1xuICAgICAgICAgIGlmICghbm9kZSkgY29udGludWU7XG4gICAgICAgICAgaWYgKG5vZGUuaWQgPT09IGJsb2NrSWQpIHJldHVybiB0cnVlO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pICYmIHdhbGsobm9kZS5jaGlsZHJlbikpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gd2FsayhwYWdlLmJsb2NrcyB8fCBbXSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUJsb2Nrc0RlZXAgPSAoYmxvY2tzLCBibG9ja0lkLCB1cGRhdGVyLCBwYXJlbnRIaW50ID0gbnVsbCkgPT4ge1xuICAgICAgbGV0IGRpZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgbGV0IGZvdW5kUGFyZW50SWQgPSBudWxsO1xuXG4gICAgICBjb25zdCB3YWxrID0gKG5vZGVzLCBjdXJyZW50UGFyZW50SWQgPSBudWxsKSA9PiB7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG5leHROb2RlcyA9IChub2RlcyB8fCBbXSkubWFwKChub2RlKSA9PiB7XG4gICAgICAgICAgaWYgKCFub2RlIHx8ICFub2RlLmlkKSByZXR1cm4gbm9kZTtcblxuICAgICAgICAgIGlmIChub2RlLmlkID09PSBibG9ja0lkICYmICghcGFyZW50SGludCB8fCBwYXJlbnRIaW50ID09PSBjdXJyZW50UGFyZW50SWQpKSB7XG4gICAgICAgICAgICBkaWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgZm91bmRQYXJlbnRJZCA9IGN1cnJlbnRQYXJlbnRJZDtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZXIobm9kZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IG5vZGVzOiBuZXh0Q2hpbGRyZW4sIGNoYW5nZWQ6IGNoaWxkcmVuQ2hhbmdlZCB9ID0gd2Fsayhub2RlLmNoaWxkcmVuLCBub2RlLmlkKTtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLm5vZGUsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IG5vZGVzOiBuZXh0Tm9kZXMsIGNoYW5nZWQgfTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHdhbGsoYmxvY2tzLCBudWxsKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJsb2NrczogcmVzdWx0Lm5vZGVzLFxuICAgICAgICBkaWRVcGRhdGUsXG4gICAgICAgIGZvdW5kUGFyZW50SWQsXG4gICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgLy8gVmFyaWFibGUgcG91ciBzdG9ja2VyIGxlIHBhcmVudCBkdSBibG9jIGFjdGlmIChzaSBjJ2VzdCB1biBlbmZhbnQgZGUgZ3JvdXBlKVxuICAgIGxldCBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICBcbiAgICBjb25zdCBzZXRBY3RpdmVCbG9jayA9IChibG9ja0lkLCBwYXJlbnRJZCA9IG51bGwpID0+IHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFibG9ja0lkKSB7XG4gICAgICAgIGFjdGl2ZUJsb2NrSWQgPSBudWxsO1xuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKG51bGwpO1xuICAgICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IHRhcmdldEJsb2NrID0gbnVsbDtcbiAgICAgIFxuICAgICAgLy8gQ2hlcmNoZXIgZGFucyBsZXMgYmxvY3MgcHJpbmNpcGF1eFxuICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3MuZmluZCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIFxuICAgICAgLy8gU2kgcGFzIHRyb3V2XHUwMEU5IGV0IHF1J29uIGEgdW4gcGFyZW50SWQsIGNoZXJjaGVyIGRhbnMgbGVzIGVuZmFudHMgZHUgcGFyZW50XG4gICAgICBpZiAoIXRhcmdldEJsb2NrICYmIHBhcmVudElkKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBhcmVudElkKTtcbiAgICAgICAgaWYgKHBhcmVudEJsb2NrICYmIHBhcmVudEJsb2NrLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdGFyZ2V0QmxvY2sgPSBwYXJlbnRCbG9jay5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpbm9uIGNoZXJjaGVyIGRhbnMgdG91cyBsZXMgZ3JvdXBlc1xuICAgICAgaWYgKCF0YXJnZXRCbG9jaykge1xuICAgICAgICBmb3IgKGNvbnN0IGIgb2YgY3VycmVudFBhZ2UuYmxvY2tzKSB7XG4gICAgICAgICAgaWYgKGIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gYi5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgIHRhcmdldEJsb2NrID0gZm91bmQ7XG4gICAgICAgICAgICAgIHBhcmVudElkID0gYi5pZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZhbGxiYWNrIHN1ciBsZSBwcmVtaWVyIGJsb2NcbiAgICAgIGlmICghdGFyZ2V0QmxvY2spIHtcbiAgICAgICAgdGFyZ2V0QmxvY2sgPSBjdXJyZW50UGFnZS5ibG9ja3NbMF0gfHwgbnVsbDtcbiAgICAgICAgcGFyZW50SWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhY3RpdmVCbG9ja0lkID0gdGFyZ2V0QmxvY2s/LmlkIHx8IG51bGw7XG4gICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gcGFyZW50SWQ7XG4gICAgICByZW5kZXJCbG9ja0xpc3QoY3VycmVudFBhZ2UpO1xuICAgICAgcmVuZGVyQmxvY2tEZXRhaWxzKHRhcmdldEJsb2NrKTtcbiAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzID0gKG5ld0Jsb2NrcykgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIGJsb2NrczogbmV3QmxvY2tzIH07XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZVN0YXRlKG5leHRQYWdlKTtcbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcFJlb3JkZXIgPSAoKSA9PiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgZnVuY3Rpb24gbW92ZUJsb2NrQnlPZmZzZXQoYmxvY2tJZCwgb2Zmc2V0KSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICFibG9ja0lkIHx8ICFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBibG9ja0lkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBibG9ja3Muc3BsaWNlKG5ld0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzKHNvdXJjZUlkLCB0YXJnZXRJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlSWQgfHwgIXRhcmdldElkIHx8IHNvdXJjZUlkID09PSB0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSldO1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSBzb3VyY2VJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gYmxvY2tzLmZpbmRJbmRleCgoYmxvY2spID0+IGJsb2NrLmlkID09PSB0YXJnZXRJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbbW92ZWRdID0gYmxvY2tzLnNwbGljZShmcm9tSW5kZXgsIDEpO1xuICAgICAgYmxvY2tzLnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICB1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyhibG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobW92ZWQuaWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uKHNvdXJjZUlkLCB0YXJnZXRJZCwgcG9zaXRpb24pIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2UgfHwgIXNvdXJjZUlkIHx8ICF0YXJnZXRJZCB8fCBzb3VyY2VJZCA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tzID0gWy4uLihjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pXTtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGJsb2Nrcy5maW5kSW5kZXgoKGJsb2NrKSA9PiBibG9jay5pZCA9PT0gc291cmNlSWQpO1xuICAgICAgbGV0IHRvSW5kZXggPSBibG9ja3MuZmluZEluZGV4KChibG9jaykgPT4gYmxvY2suaWQgPT09IHRhcmdldElkKTtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwIHx8IHRvSW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFttb3ZlZF0gPSBibG9ja3Muc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAvLyBBanVzdGVyIGwnaW5kZXggc2kgblx1MDBFOWNlc3NhaXJlIGFwclx1MDBFOHMgbGEgc3VwcHJlc3Npb25cbiAgICAgIGlmIChmcm9tSW5kZXggPCB0b0luZGV4KSB7XG4gICAgICAgIHRvSW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIC8vIEluc1x1MDBFOXJlciBhdmFudCBvdSBhcHJcdTAwRThzIGxhIGNpYmxlXG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IHBvc2l0aW9uID09PSAnYmVmb3JlJyA/IHRvSW5kZXggOiB0b0luZGV4ICsgMTtcbiAgICAgIGJsb2Nrcy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKGJsb2Nrcyk7XG4gICAgICBzZXRBY3RpdmVQYWdlKGN1cnJlbnRQYWdlLmlkLCB7IHByZXNlcnZlQmxvY2s6IHRydWUgfSk7XG4gICAgICBzZXRBY3RpdmVCbG9jayhtb3ZlZC5pZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURyYWdnYWJsZVN0YXRlKCkge1xuICAgICAgaWYgKCFibG9ja0xpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ2dhYmxlID0gaXNEZXNrdG9wUmVvcmRlcigpO1xuICAgICAgYmxvY2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJsb2NrLWl0ZW1dJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBpZiAoIWJsb2NrTGlicmFyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0xpYnJhcnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID0gZmFsc2U7XG4gICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkJsb2NrTGlicmFyeSgpIHtcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJsb2NrTGlicmFyeS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGJsb2NrTGlicmFyeU9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b2dnbGVCbG9ja0xpYnJhcnkoKSB7XG4gICAgICBibG9ja0xpYnJhcnlPcGVuID8gY2xvc2VCbG9ja0xpYnJhcnkoKSA6IG9wZW5CbG9ja0xpYnJhcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQmxvY2tGcm9tTGlicmFyeSh0eXBlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlIHx8ICF0eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBibG9ja0xpYnJhcnlEZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudCA9XG4gICAgICAgIChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLnR5cGUgPT09IGRlZmluaXRpb24udHlwZSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlQmxvY2soXG4gICAgICAgIGdlbmVyYXRlQmxvY2tJZChjdXJyZW50UGFnZS5pZCwgdHlwZSksXG4gICAgICAgIGAke2RlZmluaXRpb24ubGFiZWx9ICR7Y291bnR9YCxcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlLFxuICAgICAgICBkZWZpbml0aW9uLnN0YXR1cyxcbiAgICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGVmaW5pdGlvbi5wcm9wcyxcbiAgICAgICAgZGVmaW5pdGlvbi5zZXR0aW5ncyB8fCB7fSxcbiAgICAgICk7XG4gICAgICBpZiAoKGRlZmluaXRpb24udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbGxlY3Rpb25ncmlkJykge1xuICAgICAgICBjb25zdCBmaXJzdENvbGxlY3Rpb25JZCA9IGRlc2lnbkNvbGxlY3Rpb25zWzBdPy5pZCB8fCAnJztcbiAgICAgICAgbmV3QmxvY2suY29sbGVjdGlvbklkID0gZmlyc3RDb2xsZWN0aW9uSWQ7XG4gICAgICAgIG5ld0Jsb2NrLnNldHRpbmdzLmNvbGxlY3Rpb25JZCA9IGZpcnN0Q29sbGVjdGlvbklkO1xuICAgICAgICBuZXdCbG9jay5zZXR0aW5ncy5saW1pdCA9IG5ld0Jsb2NrLnNldHRpbmdzLmxpbWl0IHx8IDY7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpIG9uIGFqb3V0ZSBcdTAwRTAgdW4gZ3JvdXBlXG4gICAgICBpZiAocGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jaykge1xuICAgICAgICBjb25zdCBncm91cEJsb2NrID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmQoKGIpID0+IGIuaWQgPT09IHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2spO1xuICAgICAgICBpZiAoZ3JvdXBCbG9jaykge1xuICAgICAgICAgIGlmICghZ3JvdXBCbG9jay5jaGlsZHJlbikgZ3JvdXBCbG9jay5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIGdyb3VwQmxvY2suY2hpbGRyZW4ucHVzaChuZXdCbG9jayk7XG4gICAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBzYXZlUGFnZUJsb2NrcygpO1xuICAgICAgICAgIHNldEFjdGl2ZUJsb2NrKG5ld0Jsb2NrLmlkLCBncm91cEJsb2NrLmlkKTtcbiAgICAgICAgICBjbG9zZUJsb2NrTGlicmFyeSgpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOSBhdSBncm91cGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZ0dyb3VwSWRGb3JOZXdCbG9jayA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG5leHRCbG9ja3MgPSBbLi4uKGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSksIG5ld0Jsb2NrXTtcbiAgICAgIHVwZGF0ZUN1cnJlbnRQYWdlQmxvY2tzKG5leHRCbG9ja3MpO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgc2V0QWN0aXZlQmxvY2sobmV3QmxvY2suaWQpO1xuICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIHNob3dUb2FzdCgnQmxvYyBham91dFx1MDBFOScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBibG9ja3MgPSAoY3VycmVudFBhZ2UuYmxvY2tzIHx8IFtdKS5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay5pZCAhPT0gYmxvY2tJZCk7XG4gICAgICBjb25zdCBuZXh0QWN0aXZlID1cbiAgICAgICAgYmxvY2tJZCA9PT0gYWN0aXZlQmxvY2tJZCA/IGJsb2Nrc1swXT8uaWQgfHwgbnVsbCA6IGFjdGl2ZUJsb2NrSWQgfHwgYmxvY2tzWzBdPy5pZCB8fCBudWxsO1xuICAgICAgdXBkYXRlQ3VycmVudFBhZ2VCbG9ja3MoYmxvY2tzKTtcbiAgICAgIGFjdGl2ZUJsb2NrSWQgPSBuZXh0QWN0aXZlO1xuICAgICAgc2V0QWN0aXZlUGFnZShjdXJyZW50UGFnZS5pZCwgeyBwcmVzZXJ2ZUJsb2NrOiB0cnVlIH0pO1xuICAgICAgaWYgKGFjdGl2ZUJsb2NrSWQpIHtcbiAgICAgICAgc2V0QWN0aXZlQmxvY2soYWN0aXZlQmxvY2tJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJCbG9ja0RldGFpbHMobnVsbCk7XG4gICAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNob3dUb2FzdCgnQmxvYyBzdXBwcmltXHUwMEU5Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQmxvY2tEZWxldGVNb2RhbCgpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgYmxvY2tEZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlQmxvY2tJZCA9IG51bGw7XG4gICAgICBkZWFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5CbG9ja0RlbGV0ZU1vZGFsKGJsb2NrSWQpIHtcbiAgICAgIGlmICghYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVCbG9ja0J5SWQoYmxvY2tJZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdEZWxldGVCbG9ja0lkID0gYmxvY2tJZDtcbiAgICAgIGJsb2NrRGVsZXRlTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBibG9ja0RlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICAgIGFjdGl2YXRlTW9kYWwoYmxvY2tEZWxldGVNb2RhbCwgY2xvc2VCbG9ja0RlbGV0ZU1vZGFsKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSA9IChuZXh0UGFnZSkgPT4ge1xuICAgICAgaWYgKCFuZXh0UGFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUGFnZURhdGEobmV4dFBhZ2UpO1xuICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHBhZ2UpID0+IChwYWdlLmlkID09PSBub3JtYWxpemVkLmlkID8gbm9ybWFsaXplZCA6IHBhZ2UpKTtcbiAgICAgIGN1cnJlbnRQYWdlID0gbm9ybWFsaXplZDtcbiAgICAgIHNhdmVQYWdlVG9TZXJ2ZXIobm9ybWFsaXplZCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRBY3RpdmVQYWdlID0gKHBhZ2VJZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBwYWdlcy5maW5kKChwYWdlKSA9PiBwYWdlLmlkID09PSBwYWdlSWQpIHx8IHBhZ2VzWzBdIHx8IG51bGw7XG4gICAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gdGFyZ2V0ID8gbm9ybWFsaXplUGFnZURhdGEodGFyZ2V0KSA6IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9IG5vcm1hbGl6ZWRUYXJnZXQ7XG4gICAgICBhY3RpdmVQYWdlSWQgPSB0YXJnZXQ/LmlkIHx8IG51bGw7XG4gICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVCbG9jayB8fCAhY3VycmVudFBhZ2UgfHwgIXBhZ2VIYXNCbG9ja0lkKGN1cnJlbnRQYWdlLCBhY3RpdmVCbG9ja0lkKSkge1xuICAgICAgICBhY3RpdmVCbG9ja0lkID0gY3VycmVudFBhZ2U/LmJsb2Nrcz8uWzBdPy5pZCB8fCBudWxsO1xuICAgICAgICBhY3RpdmVCbG9ja1BhcmVudElkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVQYWdlSWQpIHtcbiAgICAgICAgcGVyc2lzdEFjdGl2ZVBhZ2UoYWN0aXZlUGFnZUlkKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclBhZ2VMaXN0cyhwYWdlcywgYWN0aXZlUGFnZUlkKTtcbiAgICAgIHNldEFjdGl2ZUxhYmVscyhjdXJyZW50UGFnZSk7XG4gICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgIHJlbmRlclByZXZpZXdNZXRhKGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICByZW5kZXJCbG9ja0RldGFpbHMoZ2V0QWN0aXZlQmxvY2soKSk7XG4gICAgICBhcHBseVByZXZpZXdIaWdobGlnaHQoYWN0aXZlQmxvY2tJZCk7XG4gICAgICB1cGRhdGVEcmFnZ2FibGVTdGF0ZSgpO1xuICAgICAgaWYgKGJsb2NrTGlicmFyeU9wZW4pIHtcbiAgICAgICAgY2xvc2VCbG9ja0xpYnJhcnkoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGlzRGVza3RvcERyYXdlciA9ICgpID0+IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJykubWF0Y2hlcztcbiAgICBjb25zdCBzeW5jRHJhd2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNEZXNrdG9wRHJhd2VyKCkpIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoIWRyYXdlciB8fCBpc0Rlc2t0b3BEcmF3ZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgZHJhd2VyQmFja2Ryb3A/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9O1xuICAgIGNvbnN0IGNsb3NlRHJhd2VyID0gKCkgPT4ge1xuICAgICAgaWYgKCFkcmF3ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgIGRyYXdlckJhY2tkcm9wPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfTtcbiAgICBjb25zdCBvcGVuQWRkUGFnZUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWFkZFBhZ2VGb3JtIHx8ICFhZGRQYWdlVG9nZ2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFkZFBhZ2VGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWRkUGFnZVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGFkZFBhZ2VOYW1lKSB7XG4gICAgICAgIGFkZFBhZ2VOYW1lLnZhbHVlID0gJyc7XG4gICAgICAgIGFkZFBhZ2VOYW1lLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBpZiAoYWRkUGFnZVRpdGxlKSB7XG4gICAgICAgIGFkZFBhZ2VUaXRsZS52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGFkZFBhZ2VTbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VTbHVnLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUFkZFBhZ2VGb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlRm9ybSB8fCAhYWRkUGFnZVRvZ2dsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGFkZFBhZ2VUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGFkZFBhZ2VGb3JtLnJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBzeW5jU2x1Z0Zyb21OYW1lID0gKCkgPT4ge1xuICAgICAgaWYgKCFhZGRQYWdlTmFtZSB8fCAhYWRkUGFnZVNsdWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQgJiYgYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkUGFnZVNsdWcudmFsdWUgPSBub3JtYWxpemVQYWdlU2x1ZyhhZGRQYWdlTmFtZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIGxldCBwYWdlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVQYWdlSWQgPSBudWxsO1xuICAgIGxldCBwYWdlU2x1Z01hbnVhbGx5RWRpdGVkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlQmxvY2tJZCA9IG51bGw7XG4gICAgbGV0IGJsb2NrTGlicmFyeU9wZW4gPSBmYWxzZTtcbiAgICBsZXQgcGVuZGluZ0RlbGV0ZUJsb2NrSWQgPSBudWxsO1xuICAgIGxldCBsYXRlc3RQcmV2aWV3SHRtbCA9ICcnO1xuICAgIGxldCBwcmV2aWV3UmVhZHkgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld1JlcXVlc3RDb250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgZGVzaWduQ29sbGVjdGlvbnMgPSBbXTtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUJsb2NrRGF0YSA9IChibG9jaykgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgLi4uYmxvY2ssXG4gICAgICAgIHByb3BzOiBBcnJheS5pc0FycmF5KGJsb2NrLnByb3BzKSA/IGJsb2NrLnByb3BzIDogW10sXG4gICAgICAgIHNldHRpbmdzOiB7IC4uLihibG9jay5zZXR0aW5ncyB8fCB7fSkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCB0eXBlID0gKG5vcm1hbGl6ZWQudHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0eXBlID09PSAnY29sbGVjdGlvbmdyaWQnKSB7XG4gICAgICAgIG5vcm1hbGl6ZWQuY29sbGVjdGlvbklkID1cbiAgICAgICAgICBub3JtYWxpemVkLmNvbGxlY3Rpb25JZCB8fCBub3JtYWxpemVkLnNldHRpbmdzLmNvbGxlY3Rpb25JZCB8fCAnJztcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5jb2xsZWN0aW9uSWQgPSBub3JtYWxpemVkLmNvbGxlY3Rpb25JZDtcbiAgICAgICAgbm9ybWFsaXplZC5zZXR0aW5ncy5saW1pdCA9IG5vcm1hbGl6ZWQuc2V0dGluZ3MubGltaXQgfHwgNjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG5cbiAgICBjb25zdCBub3JtYWxpemVQYWdlRGF0YSA9IChwYWdlKSA9PiAoe1xuICAgICAgLi4ucGFnZSxcbiAgICAgIGJsb2NrczogKHBhZ2UuYmxvY2tzIHx8IFtdKS5tYXAoKGJsb2NrKSA9PiBub3JtYWxpemVCbG9ja0RhdGEoYmxvY2spKSxcbiAgICAgIHNlbzoge1xuICAgICAgICB0aXRsZTogKHBhZ2Uuc2VvPy50aXRsZSB8fCAnJykudHJpbSgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogKHBhZ2Uuc2VvPy5kZXNjcmlwdGlvbiB8fCAnJykudHJpbSgpLFxuICAgICAgICBpbmRleGVkOlxuICAgICAgICAgIHR5cGVvZiBwYWdlLnNlbz8uaW5kZXhlZCA9PT0gJ2Jvb2xlYW4nID8gcGFnZS5zZW8uaW5kZXhlZCA6IG51bGwsXG4gICAgICB9LFxuICAgICAgYWNjZXNzaWJpbGl0eToge1xuICAgICAgICBzaG93SW5NYWluTmF2OiBwYWdlLmFjY2Vzc2liaWxpdHk/LnNob3dJbk1haW5OYXYgIT09IGZhbHNlLFxuICAgICAgICBtYWluTGFiZWw6IChwYWdlLmFjY2Vzc2liaWxpdHk/Lm1haW5MYWJlbCB8fCAnJykudHJpbSgpLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvYWREZXNpZ25Db2xsZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIGRlc2lnbkNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgZGVzaWduQ29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjb2xsZWN0aW9uU2VsZWN0Py52YWx1ZSB8fCAnJztcbiAgICAgICAgdXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMoY3VycmVudFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBjb2xsZWN0aW9ucyBsb2FkJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb2xsZWN0aW9ucyBpbmRpc3BvbmlibGVzLicpO1xuICAgICAgICBkZXNpZ25Db2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB1cGRhdGVDb2xsZWN0aW9uU2VsZWN0T3B0aW9ucygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzeW5jQ29sbGVjdGlvblNlbGVjdGlvbkluZm8gPSAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvLnRleHRDb250ZW50ID0gZGVzaWduQ29sbGVjdGlvbnMubGVuZ3RoXG4gICAgICAgICAgPyAnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24gcG91ciBhZmZpY2hlciBzZXMgaW5mb3JtYXRpb25zLidcbiAgICAgICAgICA6ICdBdWN1bmUgY29sbGVjdGlvbiBkaXNwb25pYmxlLiBBam91dGV6LWVuIGRlcHVpcyBsXHUyMDE5b25nbGV0IENvbnRlbnVzLic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJ5ID0gZGVzaWduQ29sbGVjdGlvbnMuZmluZCgoY29sbGVjdGlvbikgPT4gY29sbGVjdGlvbi5pZCA9PT0gY29sbGVjdGlvbklkKTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPSBgQ29sbGVjdGlvbiAke2NvbGxlY3Rpb25JZH1gO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICBpZiAoZW50cnkuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZGV0YWlscy5wdXNoKGVudHJ5LmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeS50eXBlKSB7XG4gICAgICAgIGRldGFpbHMucHVzaChgVHlwZVx1MDBBMDogJHtlbnRyeS50eXBlfWApO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdGlvbkluZm8udGV4dENvbnRlbnQgPVxuICAgICAgICBkZXRhaWxzLmpvaW4oJyBcdTAwQjcgJykgfHwgYENvbGxlY3Rpb24gJHtlbnRyeS5uYW1lIHx8IGVudHJ5LmlkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25TZWxlY3RPcHRpb25zID0gKHNlbGVjdGVkVmFsdWUgPSAnJykgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uU2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25TZWxlY3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWRlc2lnbkNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAnQXVjdW5lIGNvbGxlY3Rpb24gZGlzcG9uaWJsZSc7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgc3luY0NvbGxlY3Rpb25TZWxlY3Rpb25JbmZvKCcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29sbGVjdGlvblNlbGVjdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgIWRlc2lnbkNvbGxlY3Rpb25zLnNvbWUoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc2VsZWN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZmFsbGJhY2tPcHRpb24udmFsdWUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICBmYWxsYmFja09wdGlvbi50ZXh0Q29udGVudCA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICAgIGNvbGxlY3Rpb25TZWxlY3QuYXBwZW5kQ2hpbGQoZmFsbGJhY2tPcHRpb24pO1xuICAgICAgfVxuICAgICAgZGVzaWduQ29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gY29sbGVjdGlvbi50eXBlID8gYCR7bGFiZWx9IFx1MDBCNyAke2NvbGxlY3Rpb24udHlwZX1gIDogbGFiZWw7XG4gICAgICAgIG9wdGlvbi5kYXRhc2V0LmRlc2NyaXB0aW9uID0gY29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgY29sbGVjdGlvblNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBjb2xsZWN0aW9uU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyhjb2xsZWN0aW9uU2VsZWN0LnZhbHVlIHx8ICcnKTtcbiAgICB9O1xuXG4gICAgbG9hZERlc2lnbkNvbGxlY3Rpb25zKCk7XG4gICAgc3luY0RyYXdlclN0YXRlKCk7XG5cbiAgICBkcmF3ZXJPcGVuQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5EcmF3ZXIpO1xuICAgIH0pO1xuICAgIGRyYXdlckNsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRHJhd2VyKTtcbiAgICB9KTtcbiAgICBkcmF3ZXJCYWNrZHJvcD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURyYXdlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHN5bmNEcmF3ZXJTdGF0ZSgpO1xuICAgICAgdXBkYXRlRHJhZ2dhYmxlU3RhdGUoKTtcbiAgICB9KTtcblxuICAgIGFkZFBhZ2VUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFBhZ2VGb3JtKTtcbiAgICBhZGRQYWdlQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQWRkUGFnZUZvcm0pO1xuICAgIGFkZFBhZ2VOYW1lPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHN5bmNTbHVnRnJvbU5hbWUpO1xuICAgIGFkZFBhZ2VTbHVnPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgcGFnZVNsdWdNYW51YWxseUVkaXRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFnZUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghcGFnZXNBcGlCYXNlKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ0F1Y3VuIHNpdGUgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFkZFBhZ2VOYW1lIHx8ICFhZGRQYWdlU2x1Zykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuYW1lID0gYWRkUGFnZU5hbWUudmFsdWUudHJpbSgpO1xuICAgICAgY29uc3QgdGl0bGUgPSBhZGRQYWdlVGl0bGU/LnZhbHVlLnRyaW0oKSB8fCBuYW1lOyAvLyBGYWxsYmFjayB0byBuYW1lIGlmIHRpdGxlIGlzIGVtcHR5XG4gICAgICBjb25zdCBzbHVnID0gbm9ybWFsaXplUGFnZVNsdWcoYWRkUGFnZVNsdWcudmFsdWUudHJpbSgpIHx8IG5hbWUpO1xuICAgICAgaWYgKCFuYW1lIHx8ICFzbHVnKSB7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gJ05vbSBldCBzbHVnIHNvbnQgcmVxdWlzLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRQYWdlRXJyb3IgJiYgKGFkZFBhZ2VFcnJvci50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChhZGRQYWdlU3VibWl0QnV0dG9uKSB7XG4gICAgICAgIGFkZFBhZ2VTdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0NyXHUwMEU5YXRpb24uLi4nO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZFBhZ2UgPSBhd2FpdCBjcmVhdGVQYWdlT25TZXJ2ZXIoeyBuYW1lLCB0aXRsZSwgc2x1ZyB9KTtcbiAgICAgICAgaWYgKCFjcmVhdGVkUGFnZSB8fCAhY3JlYXRlZFBhZ2UuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JcdTAwRTlwb25zZSBpbnZhbGlkZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlcyA9IFsuLi5wYWdlcywgbm9ybWFsaXplUGFnZURhdGEoY3JlYXRlZFBhZ2UpXTtcbiAgICAgICAgY2xvc2VBZGRQYWdlRm9ybSgpO1xuICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgY3JcdTAwRTlcdTAwRTllJyk7XG4gICAgICAgIHNldEFjdGl2ZVBhZ2UoY3JlYXRlZFBhZ2UuaWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXNpZ25dIGNyZWF0ZSBwYWdlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGFkZFBhZ2VFcnJvciAmJiAoYWRkUGFnZUVycm9yLnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBsYSBwYWdlLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGFkZFBhZ2VTdWJtaXRCdXR0b24pIHtcbiAgICAgICAgICBhZGRQYWdlU3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgYWRkUGFnZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdDclx1MDBFOWVyJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gPT09IEltcG9ydCBKU09OIGhhbmRsZXJzID09PVxuICAgIGNvbnN0IHJlc2V0UGFzdGVTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmIChpbXBvcnRQYXN0ZUlucHV0KSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlID0gJyc7XG4gICAgICBpZiAocGFzdGVFcnJvcikge1xuICAgICAgICBwYXN0ZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBwYXN0ZUVycm9yLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHZhbGlkYXRlUGFzdGVKc29uID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRQYXN0ZUlucHV0KSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRQYXN0ZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICBpZiAocGFzdGVFcnJvcikgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpZiAocGFzdGVFcnJvcikgcGFzdGVFcnJvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAocGFzdGVFcnJvcikge1xuICAgICAgICAgIHBhc3RlRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgcGFzdGVFcnJvci50ZXh0Q29udGVudCA9IGBcdTI3NEMgSlNPTiBpbnZhbGlkZSA6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0UGFzdGVKc29uID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRQYXN0ZUlucHV0KSByZXR1cm47XG4gICAgICBjb25zdCB0ZXh0ID0gaW1wb3J0UGFzdGVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgIGltcG9ydFBhc3RlSW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShwYXJzZWQsIG51bGwsIDIpO1xuICAgICAgICB2YWxpZGF0ZVBhc3RlSnNvbigpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIFNpIHBhcyB2YWxpZGUsIG9uIG5lIGZvcm1hdGUgcGFzXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRTdWJtaXQpIHJldHVybjtcbiAgICAgIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwO1xuICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICdwYXN0ZScpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gdmFsaWRhdGVQYXN0ZUpzb24oKTtcbiAgICAgICAgaW1wb3J0U3VibWl0LmRpc2FibGVkID0gIXBhcnNlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5JbXBvcnRNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0TW9kYWwpIHJldHVybjtcbiAgICAgIGltcG9ydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgYWN0aXZlSW1wb3J0VGFiID0gJ3VwbG9hZCc7XG4gICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgcmVzZXRQYXN0ZVN0YXRlKCk7XG4gICAgICBpZiAoaW1wb3J0UmVzdWx0cykgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpbXBvcnRSZXN1bHRzQ29udGVudCkgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgLy8gUmVzZXQgdGFicyB0byB1cGxvYWRcbiAgICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICBpZiAodC5kYXRhc2V0LmltcG9ydFRhYiA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXInLCAnYm9yZGVyLXNsYXRlLTIwMCcsICd0ZXh0LXNsYXRlLTcwMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW1wb3J0UGFuZWxzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgaWYgKHAuZGF0YXNldC5pbXBvcnRQYW5lbCA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZhdGVNb2RhbChpbXBvcnRNb2RhbCwgY2xvc2VJbXBvcnRNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBjbG9zZUltcG9ydE1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbXBvcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgaW1wb3J0TW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBpbXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0gW107XG4gICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIGRlYWN0aXZhdGVNb2RhbChpbXBvcnRNb2RhbCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVJbXBvcnRGaWxlTGlzdCA9ICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0RmlsZUxpc3QgfHwgIWltcG9ydEZpbGVOYW1lcykgcmV0dXJuO1xuICAgICAgaWYgKGltcG9ydFNlbGVjdGVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGltcG9ydEZpbGVMaXN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRGaWxlTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGltcG9ydEZpbGVOYW1lcy5pbm5lckhUTUwgPSBpbXBvcnRTZWxlY3RlZEZpbGVzXG4gICAgICAgIC5tYXAoKGYpID0+IGA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwidGV4dC1sZ1wiPlx1RDgzRFx1RENDNDwvc3Bhbj4ke2YubmFtZX08L2xpPmApXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbXBvcnRGaWxlcyA9IChmaWxlcykgPT4ge1xuICAgICAgY29uc3QganNvbkZpbGVzID0gQXJyYXkuZnJvbShmaWxlcykuZmlsdGVyKFxuICAgICAgICAoZikgPT4gZi50eXBlID09PSAnYXBwbGljYXRpb24vanNvbicgfHwgZi5uYW1lLmVuZHNXaXRoKCcuanNvbicpXG4gICAgICApO1xuICAgICAgaWYgKGpzb25GaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1biBmaWNoaWVyIEpTT04gdmFsaWRlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbXBvcnRTZWxlY3RlZEZpbGVzID0ganNvbkZpbGVzO1xuICAgICAgdXBkYXRlSW1wb3J0RmlsZUxpc3QoKTtcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVJbXBvcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VzQXBpQmFzZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBEZXRlcm1pbmUgc291cmNlIG9mIGRhdGEgYmFzZWQgb24gYWN0aXZlIHRhYlxuICAgICAgbGV0IHBhZ2VzRGF0YSA9IFtdO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnW2ltcG9ydF0gYWN0aXZlSW1wb3J0VGFiOicsIGFjdGl2ZUltcG9ydFRhYik7XG4gICAgICBcbiAgICAgIGlmIChhY3RpdmVJbXBvcnRUYWIgPT09ICdwYXN0ZScpIHtcbiAgICAgICAgLy8gSW1wb3J0IGZyb20gcGFzdGVkIEpTT05cbiAgICAgICAgY29uc3QgdGV4dCA9IGltcG9ydFBhc3RlSW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBwYXN0ZSB0ZXh0IGxlbmd0aDonLCB0ZXh0Py5sZW5ndGgpO1xuICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICBzaG93VG9hc3QoJ0F1Y3VuIEpTT04gXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwidGV4dC1hbWJlci02MDBcIj5cdTI2QTAgTGUgY2hhbXAgZGUgdGV4dGUgZXN0IHZpZGUuPC9wPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhcnNlZCBKU09OOicsIHBhcnNlZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhcnNlZCB0eXBlOicsIHR5cGVvZiBwYXJzZWQsIEFycmF5LmlzQXJyYXkocGFyc2VkKSA/ICdhcnJheScgOiAnbm90IGFycmF5Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3VwcG9ydCBmb3JtYXQgeyBwYWdlczogWy4uLl0sIGNvbGxlY3Rpb25zOiB7Li4ufSB9XG4gICAgICAgICAgaWYgKHBhcnNlZCAmJiAhQXJyYXkuaXNBcnJheShwYXJzZWQpICYmIHBhcnNlZC5wYWdlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGRldGVjdGVkIHBhZ2VzK2NvbGxlY3Rpb25zIGZvcm1hdCcpO1xuICAgICAgICAgICAgcGFnZXNEYXRhID0gcGFyc2VkOyAvLyBTZW5kIHRoZSB3aG9sZSBvYmplY3QsIGJhY2tlbmQgd2lsbCBoYW5kbGUgaXRcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2gocGFyc2VkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIHBhZ2VzRGF0YSBwcmVwYXJlZDonLCBwYWdlc0RhdGEpO1xuICAgICAgICB9IGNhdGNoIChwYXJzZUVycikge1xuICAgICAgICAgIC8vIEFmZmljaGVyIGxlIGRcdTAwRTl0YWlsIGRlIGwnZXJyZXVyIGRlIHBhcnNpbmdcbiAgICAgICAgICBjb25zdCBlcnJvckxpbmUgPSBwYXJzZUVyci5tZXNzYWdlLm1hdGNoKC9wb3NpdGlvbiAoXFxkKykvKTtcbiAgICAgICAgICBsZXQgZXJyb3JEZXRhaWwgPSBwYXJzZUVyci5tZXNzYWdlO1xuICAgICAgICAgIGlmIChlcnJvckxpbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBhcnNlSW50KGVycm9yTGluZVsxXSwgMTApO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBjb2xOdW0gPSBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSBgTGlnbmUgJHtsaW5lTnVtfSwgY29sb25uZSAke2NvbE51bX06ICR7cGFyc2VFcnIubWVzc2FnZX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaG93VG9hc3QoYEVycmV1ciBKU09OIDogJHtlcnJvckRldGFpbH1gLCAnZXJyb3InKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXN0ZSBwYXJzZSBlcnJvcicsIHBhcnNlRXJyKTtcbiAgICAgICAgICAvLyBTaG93IGVycm9yIGluIHJlc3VsdHMgYXJlYVxuICAgICAgICAgIGlmIChpbXBvcnRSZXN1bHRzICYmIGltcG9ydFJlc3VsdHNDb250ZW50KSB7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yb3NlLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI3MTcgRXJyZXVyIGRlIHN5bnRheGUgSlNPTjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPiR7ZXJyb3JEZXRhaWx9PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBtdC0yIHRleHQtc2xhdGUtNTAwXCI+Vlx1MDBFOXJpZmlleiBsZXMgdmlyZ3VsZXMsIGd1aWxsZW1ldHMgZXQgYWNjb2xhZGVzLjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlSW1wb3J0VGFiID09PSAndXBsb2FkJykge1xuICAgICAgICAvLyBJbXBvcnQgZnJvbSBmaWxlc1xuICAgICAgICBpZiAoaW1wb3J0U2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgZmlsZUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgaW1wb3J0U2VsZWN0ZWRGaWxlcykge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICAgICAgcGFnZXNEYXRhLnB1c2goLi4ucGFyc2VkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhZ2VzRGF0YS5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTGluZSA9IHBhcnNlRXJyLm1lc3NhZ2UubWF0Y2goL3Bvc2l0aW9uIChcXGQrKS8pO1xuICAgICAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gcGFyc2VFcnIubWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChlcnJvckxpbmUpIHtcbiAgICAgICAgICAgICAgY29uc3QgcG9zID0gcGFyc2VJbnQoZXJyb3JMaW5lWzFdLCAxMCk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICAgIGVycm9yRGV0YWlsID0gYExpZ25lICR7bGluZU51bX06ICR7cGFyc2VFcnIubWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZUVycm9ycy5wdXNoKHsgZmlsZTogZmlsZS5uYW1lLCBlcnJvcjogZXJyb3JEZXRhaWwgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBwYXJzZSBlcnJvcicsIGZpbGUubmFtZSwgcGFyc2VFcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IGZpbGUgcGFyc2luZyBlcnJvcnMgaWYgYW55XG4gICAgICAgIGlmIChmaWxlRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgICAgaW1wb3J0UmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGxldCBodG1sID0gJzxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+PHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXJzIGRlIHN5bnRheGUgSlNPTjwvcD48dWwgY2xhc3M9XCJtbC00IHRleHQteHMgbXQtMVwiPic7XG4gICAgICAgICAgICBmaWxlRXJyb3JzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxsaT48c3Ryb25nPiR7ZS5maWxlfTwvc3Ryb25nPjogJHtlLmVycm9yfTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaHRtbCArPSAnPC91bD48L2Rpdj4nO1xuICAgICAgICAgICAgaWYgKHBhZ2VzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGh0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1hbWJlci02MDAgbXQtMiB0ZXh0LXNtXCI+XHUyNkEwICR7cGFnZXNEYXRhLmxlbmd0aH0gcGFnZShzKSB2YWxpZGUocykgc2Vyb250IGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYWdlc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1RvdXMgbGVzIGZpY2hpZXJzIGNvbnRpZW5uZW50IGRlcyBlcnJldXJzIEpTT04nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVlx1MDBFOXJpZmllciBxdSdvbiBhIGRlcyBkb25uXHUwMEU5ZXMgXHUwMEUwIGltcG9ydGVyXG4gICAgICBjb25zdCBoYXNEYXRhID0gQXJyYXkuaXNBcnJheShwYWdlc0RhdGEpIFxuICAgICAgICA/IHBhZ2VzRGF0YS5sZW5ndGggPiAwIFxuICAgICAgICA6IChwYWdlc0RhdGEgJiYgKHBhZ2VzRGF0YS5wYWdlcz8ubGVuZ3RoID4gMCB8fCBwYWdlc0RhdGEudGl0bGUpKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIGhhc0RhdGEgY2hlY2s6JywgaGFzRGF0YSwgJ3BhZ2VzRGF0YTonLCBwYWdlc0RhdGEpO1xuICAgICAgXG4gICAgICBpZiAoIWhhc0RhdGEpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdBdWN1bmUgcGFnZSB2YWxpZGUgXHUwMEUwIGltcG9ydGVyLicpO1xuICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtYW1iZXItNjAwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj5cdTI2QTAgQXVjdW5lIHBhZ2UgZFx1MDBFOXRlY3RcdTAwRTllPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPkxlIEpTT04gZG9pdCBjb250ZW5pciA6PC9wPlxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIG1sLTQgbXQtMSBsaXN0LWRpc2NcIj5cbiAgICAgICAgICAgICAgICA8bGk+VW4gb2JqZXQgcGFnZSBhdmVjIFwidGl0bGVcIiA6IDxjb2RlPntcInRpdGxlXCI6IFwiTWEgcGFnZVwiLCAuLi59PC9jb2RlPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPlVuIHRhYmxlYXUgZGUgcGFnZXMgOiA8Y29kZT5be1widGl0bGVcIjogXCJQYWdlIDFcIn0sIHtcInRpdGxlXCI6IFwiUGFnZSAyXCJ9XTwvY29kZT48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5PdSB1biBvYmpldCBjb21iaW5cdTAwRTkgOiA8Y29kZT57XCJwYWdlc1wiOiBbLi4uXSwgXCJjb2xsZWN0aW9uc1wiOiB7Li4ufX08L2NvZGU+PC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1wb3J0U3VibWl0KSB7XG4gICAgICAgIGltcG9ydFN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGltcG9ydFN1Ym1pdC50ZXh0Q29udGVudCA9ICdJbXBvcnQuLi4nO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZmZpY2hlciBjZSBxdSdvbiB2YSBlbnZveWVyIChkZWJ1ZylcbiAgICAgIGNvbnNvbGUubG9nKCdbaW1wb3J0XSBTZW5kaW5nIHRvIHNlcnZlcjonLCBKU09OLnN0cmluZ2lmeShwYWdlc0RhdGEpLnN1YnN0cmluZygwLCA1MDApKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwYWdlc0FwaUJhc2V9L2ltcG9ydGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhZ2VzRGF0YSksXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlcnZlciByZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tpbXBvcnRdIFNlcnZlciByZXNwb25zZSBib2R5OicsIHJlc3VsdCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAvLyBBZmZpY2hlciBsZSBkXHUwMEU5dGFpbCBkZSBsJ2VycmV1ciBzZXJ2ZXVyXG4gICAgICAgICAgaWYgKGltcG9ydFJlc3VsdHMgJiYgaW1wb3J0UmVzdWx0c0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBpbXBvcnRSZXN1bHRzQ29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlx1MjcxNyBFcnJldXIgc2VydmV1cjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgbXQtMVwiPiR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9PC9wPlxuICAgICAgICAgICAgICAgICR7cmVzdWx0LmRldGFpbHMgPyBgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTEgdGV4dC1zbGF0ZS01MDBcIj4ke3Jlc3VsdC5kZXRhaWxzfTwvcD5gIDogJyd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdFcnJldXIgc2VydmV1cicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgcmVzdWx0c1xuICAgICAgICBpZiAoaW1wb3J0UmVzdWx0cyAmJiBpbXBvcnRSZXN1bHRzQ29udGVudCkge1xuICAgICAgICAgIGltcG9ydFJlc3VsdHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFbnRcdTAwRUF0ZSBzdWNjXHUwMEU4cy9lcnJldXJcbiAgICAgICAgICBjb25zdCBoYXNTdWNjZXNzID0gKHJlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoID4gMCkgfHwgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCA+IDApO1xuICAgICAgICAgIGNvbnN0IGhhc0Vycm9ycyA9IHJlc3VsdC5lcnJvcnM/Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGhhc1N1Y2Nlc3MgJiYgIWhhc0Vycm9ycykge1xuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtZ3JlZW4tODAwIGZvbnQtbWVkaXVtXCI+XHUyNzEzIEltcG9ydCByXHUwMEU5dXNzaTwvcD48L2Rpdj4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzU3VjY2VzcyAmJiBoYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJiZy1hbWJlci01MCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCByb3VuZGVkLWxnIHAtMyBtYi0yXCI+PHAgY2xhc3M9XCJ0ZXh0LWFtYmVyLTgwMCBmb250LW1lZGl1bVwiPlx1MjZBMCBJbXBvcnQgcGFydGllbDwvcD48L2Rpdj4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmctcm9zZS01MCBib3JkZXIgYm9yZGVyLXJvc2UtMjAwIHJvdW5kZWQtbGcgcC0zIG1iLTJcIj48cCBjbGFzcz1cInRleHQtcm9zZS04MDAgZm9udC1tZWRpdW1cIj5cdTI3MTcgSW1wb3J0IFx1MDBFOWNob3VcdTAwRTk8L3A+PC9kaXY+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29sbGVjdGlvbnMgY3JcdTAwRTlcdTAwRTllc1xuICAgICAgICAgIGlmIChyZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkICYmIHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXZpb2xldC03MDAgbXQtMlwiPlx1MjcxMyAke3Jlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RofSBjb2xsZWN0aW9uKHMpIGNyXHUwMEU5XHUwMEU5ZShzKTwvcD5gO1xuICAgICAgICAgICAgaHRtbCArPSAnPHVsIGNsYXNzPVwibWwtNCB0ZXh0LXhzIHRleHQtc2xhdGUtNjAwXCI+JztcbiAgICAgICAgICAgIHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+JHtjLm5hbWV9ICgke2MuaXRlbXNDb3VudH0gaXRlbSR7Yy5pdGVtc0NvdW50ID4gMSA/ICdzJyA6ICcnfSk8L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUGFnZXMgaW1wb3J0XHUwMEU5ZXNcbiAgICAgICAgICBpZiAocmVzdWx0LmltcG9ydGVkICYmIHJlc3VsdC5pbXBvcnRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8cCBjbGFzcz1cInRleHQtZ3JlZW4tNzAwIG10LTJcIj5cdTI3MTMgJHtyZXN1bHQuaW1wb3J0ZWQubGVuZ3RofSBwYWdlKHMpIGltcG9ydFx1MDBFOWUocyk8L3A+YDtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bCBjbGFzcz1cIm1sLTQgdGV4dC14cyB0ZXh0LXNsYXRlLTYwMFwiPic7XG4gICAgICAgICAgICByZXN1bHQuaW1wb3J0ZWQuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgICBodG1sICs9IGA8bGk+PHN0cm9uZz4ke3AudGl0bGV9PC9zdHJvbmc+IFx1MjE5MiAke3Auc2x1Z30gKCR7cC5hY3Rpb24gPT09ICd1cGRhdGVkJyA/ICdtaXNlIFx1MDBFMCBqb3VyJyA6ICdjclx1MDBFOVx1MDBFOWUnfSk8L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRXJyZXVycyBhdmVjIGRcdTAwRTl0YWlsc1xuICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3JzICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXJvc2UtNjAwIG10LTMgZm9udC1tZWRpdW1cIj5cdTI3MTcgJHtyZXN1bHQuZXJyb3JzLmxlbmd0aH0gZXJyZXVyKHMpPC9wPmA7XG4gICAgICAgICAgICBodG1sICs9ICc8dWwgY2xhc3M9XCJtbC00IHRleHQteHMgdGV4dC1yb3NlLTYwMCBzcGFjZS15LTEgbXQtMVwiPic7XG4gICAgICAgICAgICByZXN1bHQuZXJyb3JzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwiYmctcm9zZS01MCBwLTIgcm91bmRlZFwiPjxzdHJvbmc+JHtlLnRpdGxlfTwvc3Ryb25nPjxici8+PHNwYW4gY2xhc3M9XCJ0ZXh0LXJvc2UtNTAwXCI+JHtlLmVycm9yfTwvc3Bhbj48L2xpPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaW1wb3J0UmVzdWx0c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxvYWQgcGFnZXMgbGlzdCBhbmQgc2hvdyB0b2FzdFxuICAgICAgICBjb25zdCBoYXNTdWNjZXNzID0gKHJlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoID4gMCkgfHwgKHJlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQ/Lmxlbmd0aCA+IDApO1xuICAgICAgICBjb25zdCBoYXNFcnJvcnMgPSByZXN1bHQuZXJyb3JzPy5sZW5ndGggPiAwO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3VsdC5pbXBvcnRlZCAmJiByZXN1bHQuaW1wb3J0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGZyZXNoUGFnZXMgPSBhd2FpdCBmZXRjaFBhZ2VzRnJvbVNlcnZlcigpO1xuICAgICAgICAgIHBhZ2VzID0gZnJlc2hQYWdlcztcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgaWYgKHBhZ2VzLmxlbmd0aCA+IDAgJiYgIWFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZShwYWdlc1swXS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUb2FzdCBhdmVjIHN0YXR1dCBhcHByb3ByaVx1MDBFOVxuICAgICAgICBpZiAoaGFzU3VjY2VzcyAmJiAhaGFzRXJyb3JzKSB7XG4gICAgICAgICAgY29uc3QgY29sbGVjdGlvbnNNc2cgPSByZXN1bHQuY29sbGVjdGlvbnNDcmVhdGVkPy5sZW5ndGggXG4gICAgICAgICAgICA/IGAgKyAke3Jlc3VsdC5jb2xsZWN0aW9uc0NyZWF0ZWQubGVuZ3RofSBjb2xsZWN0aW9uKHMpYCBcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI3MTMgSW1wb3J0IHJcdTAwRTl1c3NpIDogJHtyZXN1bHQuaW1wb3J0ZWQ/Lmxlbmd0aCB8fCAwfSBwYWdlKHMpJHtjb2xsZWN0aW9uc01zZ31gLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc1N1Y2Nlc3MgJiYgaGFzRXJyb3JzKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI2QTAgSW1wb3J0IHBhcnRpZWwgOiAke3Jlc3VsdC5pbXBvcnRlZD8ubGVuZ3RoIHx8IDB9IHBhZ2UocyksICR7cmVzdWx0LmVycm9ycy5sZW5ndGh9IGVycmV1cihzKWAsICd3YXJuaW5nJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgc2hvd1RvYXN0KGBcdTI3MTcgSW1wb3J0IFx1MDBFOWNob3VcdTAwRTkgOiAke3Jlc3VsdC5lcnJvcnMubGVuZ3RofSBlcnJldXIocylgLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaW1wb3J0U2VsZWN0ZWRGaWxlcyA9IFtdO1xuICAgICAgICB1cGRhdGVJbXBvcnRGaWxlTGlzdCgpO1xuICAgICAgICByZXNldFBhc3RlU3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBpbXBvcnQnLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpbXBvcnRTdWJtaXQpIHtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBpbXBvcnRTdWJtaXQudGV4dENvbnRlbnQgPSAnSW1wb3J0ZXInO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpbXBvcnRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkltcG9ydE1vZGFsKTtcbiAgICBpbXBvcnRDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUltcG9ydE1vZGFsKSk7XG4gICAgaW1wb3J0TW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gaW1wb3J0TW9kYWwpIGNsb3NlSW1wb3J0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBpbXBvcnRGaWxlSW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLnRhcmdldC5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgfSk7XG4gICAgaW1wb3J0RHJvcHpvbmU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpbXBvcnREcm9wem9uZS5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItWyM5QzZCRkZdJywgJ2JnLVsjOUM2QkZGXS8xMCcpO1xuICAgIH0pO1xuICAgIGltcG9ydERyb3B6b25lPy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGltcG9ydERyb3B6b25lLmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlci1bIzlDNkJGRl0nLCAnYmctWyM5QzZCRkZdLzEwJyk7XG4gICAgICBoYW5kbGVJbXBvcnRGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgfSk7XG4gICAgaW1wb3J0U3VibWl0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4ZWN1dGVJbXBvcnQpO1xuICAgIC8vIFBhc3RlIEpTT04gaGFuZGxlcnNcbiAgICBpbXBvcnRQYXN0ZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgfSk7XG4gICAgcGFzdGVGb3JtYXRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9ybWF0UGFzdGVKc29uKTtcbiAgICAvLyBJbXBvcnQgdGFic1xuICAgIGltcG9ydFRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFBhbmVsID0gdGFiLmRhdGFzZXQuaW1wb3J0VGFiO1xuICAgICAgICBhY3RpdmVJbXBvcnRUYWIgPSB0YXJnZXRQYW5lbDtcbiAgICAgICAgaW1wb3J0VGFicy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgICAgaWYgKHQuZGF0YXNldC5pbXBvcnRUYWIgPT09IHRhcmdldFBhbmVsKSB7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2JnLVsjOUM2QkZGXScsICd0ZXh0LXdoaXRlJyk7XG4gICAgICAgICAgICB0LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcicsICdib3JkZXItc2xhdGUtMjAwJywgJ3RleHQtc2xhdGUtNzAwJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LnJlbW92ZSgnYmctWyM5QzZCRkZdJywgJ3RleHQtd2hpdGUnKTtcbiAgICAgICAgICAgIHQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJywgJ2JvcmRlci1zbGF0ZS0yMDAnLCAndGV4dC1zbGF0ZS03MDAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbXBvcnRQYW5lbHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgIGlmIChwLmRhdGFzZXQuaW1wb3J0UGFuZWwgPT09IHRhcmdldFBhbmVsKSB7XG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZUltcG9ydFN1Ym1pdFN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb3B5VGVtcGxhdGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF0ZW1wbGF0ZUpzb24pIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSB0ZW1wbGF0ZUpzb24udGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZW1wbGF0ZSBjb3BpXHUwMEU5ICEnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBjb3B5IGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGNvcGllJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb3B5UHJvbXB0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghaW1wb3J0QWlQcm9tcHQpIHJldHVybjtcbiAgICAgIGNvbnN0IHRleHQgPSBpbXBvcnRBaVByb21wdC50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgICBzaG93VG9hc3QoJ1Byb21wdCBjb3BpXHUwMEU5ICEnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW1wb3J0XSBjb3B5IHByb21wdCBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoJ0VycmV1ciBjb3BpZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIHBhZ2UgbW9kYWwgbGlzdGVuZXJzXG4gICAgZGVsZXRlUGFnZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZURlbGV0ZVBhZ2VNb2RhbCk7XG4gICAgZGVsZXRlUGFnZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXhlY3V0ZURlbGV0ZVBhZ2UpO1xuICAgIGRlbGV0ZVBhZ2VNb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkZWxldGVQYWdlTW9kYWwpIGNsb3NlRGVsZXRlUGFnZU1vZGFsKCk7XG4gICAgfSk7XG5cbiAgICBibG9ja0xpYnJhcnlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIC8vIFNpIHVuIGdyb3VwZSBlc3Qgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LCBsJ2Fqb3V0IHZpYSBsYSBiaWJsaW90aFx1MDBFOHF1ZSBkb2l0IGNpYmxlciBjZSBncm91cGUuXG4gICAgICAvLyAoTGEgZHJvcHpvbmUgZGUgZ3JvdXBlIHV0aWxpc2UgZFx1MDBFOWpcdTAwRTAgYHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2tgLilcbiAgICAgIGlmICghYmxvY2tMaWJyYXJ5T3Blbikge1xuICAgICAgICBjb25zdCBhY3RpdmUgPSBnZXRBY3RpdmVCbG9jaygpO1xuICAgICAgICBjb25zdCB0eXBlID0gKGFjdGl2ZT8udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdncm91cGUnIHx8IHR5cGUgPT09ICdncm91cCcpIHtcbiAgICAgICAgICBwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrID0gYWN0aXZlLmlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlbmRpbmdHcm91cElkRm9yTmV3QmxvY2sgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0b2dnbGVCbG9ja0xpYnJhcnkoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFibG9ja0xpYnJhcnlPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgYmxvY2tMaWJyYXJ5Py5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgIGJsb2NrTGlicmFyeVRvZ2dsZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsb3NlQmxvY2tMaWJyYXJ5KCk7XG4gICAgfSk7XG4gICAgYmxvY2tBZGRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0eXBlID0gYnV0dG9uLmRhdGFzZXQuYmxvY2tBZGQ7XG4gICAgICAgIGFkZEJsb2NrRnJvbUxpYnJhcnkodHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNhbmNlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZUNvbmZpcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdEZWxldGVCbG9ja0lkKSB7XG4gICAgICAgIGRlbGV0ZUJsb2NrQnlJZChwZW5kaW5nRGVsZXRlQmxvY2tJZCk7XG4gICAgICB9XG4gICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcbiAgICBibG9ja0RlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gYmxvY2tEZWxldGVNb2RhbCkge1xuICAgICAgICBjbG9zZUJsb2NrRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWluaSBwcmV2aWV3IHBvdXIgZ3JvdXBlXG4gICAgICBpZiAodGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLW1vYmlsZScgfHwgdGFyZ2V0Lm5hbWUgPT09ICdncm91cC1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJncm91cC1jb2x1bW5zLW1vYmlsZVwiXScpPy52YWx1ZSB8fCAnMSc7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BWYWx1ZSA9XG4gICAgICAgICAgYmxvY2tGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZ3JvdXAtY29sdW1ucy1kZXNrdG9wXCJdJyk/LnZhbHVlIHx8ICczJztcbiAgICAgICAgdXBkYXRlR3JvdXBNaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1pbmkgcHJldmlldyBwb3VyIGNvbGxlY3Rpb25cbiAgICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ2NvbGxlY3Rpb24tY29sdW1ucy1tb2JpbGUnIHx8IHRhcmdldC5uYW1lID09PSAnY29sbGVjdGlvbi1jb2x1bW5zLWRlc2t0b3AnKSB7XG4gICAgICAgIGNvbnN0IG1vYmlsZVZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtbW9iaWxlXCJdJyk/LnZhbHVlIHx8ICcxJztcbiAgICAgICAgY29uc3QgZGVza3RvcFZhbHVlID1cbiAgICAgICAgICBibG9ja0Zvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2xsZWN0aW9uLWNvbHVtbnMtZGVza3RvcFwiXScpPy52YWx1ZSB8fCAnMyc7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25NaW5pUHJldmlldyhtb2JpbGVWYWx1ZSwgZGVza3RvcFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIERcdTAwRTl0ZWN0aW9uIHNpIG9uIGVzdCBkYW5zIGxlIHBhbmVsIEFwcGFyZW5jZSBcdTIxOTIgYXV0by1zYXZlXG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICAvLyBBdXRvLXNhdmUgKyByZWZyZXNoIHByZXZpZXcgcG91ciBsJ2FwcGFyZW5jZVxuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBcdTAwQzlnYWxlbWVudCBzdXIgJ2NoYW5nZScgcG91ciBsZXMgc2VsZWN0c1xuICAgIGJsb2NrRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTWlzZSBcdTAwRTAgam91ciBkdSBwcmV2aWV3IGRlIGNvdWxldXIgcG91ciBsZXMgY29sb3Igc2VsZWN0c1xuICAgICAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtY29sb3Itc2VsZWN0JykpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0YXJnZXQub3B0aW9uc1t0YXJnZXQuc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0ZWRPcHRpb24/LmRhdGFzZXQ/LmNvbG9yIHx8ICcjZmZmZmZmJztcbiAgICAgICAgY29uc3QgY29sb3JQcmV2aWV3ID0gdGFyZ2V0LmNsb3Nlc3QoJy5yZWxhdGl2ZScpPy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xvci1wcmV2aWV3XScpO1xuICAgICAgICBpZiAoY29sb3JQcmV2aWV3KSB7XG4gICAgICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFRSQU5TUEFSRU5UX1BBVFRFUk47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9yUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYW5lbCA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1wYW5lbF0nKTtcbiAgICAgIGlmIChwYW5lbCAmJiBwYW5lbC5kYXRhc2V0LmJsb2NrUGFuZWwgPT09ICdhcHBlYXJhbmNlJykge1xuICAgICAgICBjb25zdCBibG9jayA9IGdldEFjdGl2ZUJsb2NrKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEJsb2NrRm9ybUNvbmZpZyhibG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBjb25maWcpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBjb2xsZWN0Rm9ybVZhbHVlcyhjb25maWcpO1xuICAgICAgICAgIGhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UoYmxvY2suaWQsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xsZWN0aW9uU2VsZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIHN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyh0YXJnZXQ/LnZhbHVlIHx8ICcnKTtcbiAgICB9KTtcbiAgICBibG9ja0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUJsb2NrRm9ybVN1Ym1pdCk7XG4gICAgYmxvY2tGb3JtQ2FuY2VsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2V0QWN0aXZlQmxvY2soKTtcbiAgICAgIGlmIChibG9jaykge1xuICAgICAgICBwb3B1bGF0ZUJsb2NrRm9ybShibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHByZXZpZXdWaWV3QnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBwcmV2aWV3Vmlld0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gYnV0dG9uLmRhdGFzZXQucHJldmlld1ZpZXcgfHwgJ2Rlc2t0b3AnO1xuICAgICAgICAgIHNldFByZXZpZXdWaWV3KHRhcmdldFZpZXcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgc2V0UHJldmlld1ZpZXcoJ2Rlc2t0b3AnKTtcbiAgICB9XG5cdCAgICBwcmV2aWV3RnJhbWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG5cdCAgICAgIHByZXZpZXdSZWFkeSA9IHRydWU7XG5cdCAgICAgIHVwZGF0ZVByZXZpZXdTdGF0dXMoJ1x1MDBDMCBqb3VyJyk7XG5cdCAgICAgIGFwcGx5UHJldmlld0hpZ2hsaWdodChhY3RpdmVCbG9ja0lkKTtcblxuXHQgICAgICBjb25zdCBkb2MgPSBwcmV2aWV3RnJhbWU/LmNvbnRlbnREb2N1bWVudDtcblx0ICAgICAgaWYgKCFkb2MgfHwgIWN1cnJlbnRQYWdlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChkb2MuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQucmF3ZGl0UHJldmlld1NlbGVjdEJvdW5kID09PSAndHJ1ZScpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LnJhd2RpdFByZXZpZXdTZWxlY3RCb3VuZCA9ICd0cnVlJztcblxuXHQgICAgICAvLyBTdHlsZXMgbFx1MDBFOWdlcnMgcG91ciByZW5kcmUgbCdpbnRlcmFjdGlvbiBcdTAwRTl2aWRlbnRlIChob3ZlciArIGN1cnNldXIpXG5cdCAgICAgIGlmICghZG9jLmdldEVsZW1lbnRCeUlkKCdyYXdkaXQtcHJldmlldy1zZWxlY3Qtc3R5bGUnKSkge1xuXHQgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdCAgICAgICAgc3R5bGUuaWQgPSAncmF3ZGl0LXByZXZpZXctc2VsZWN0LXN0eWxlJztcblx0ICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcblx0ICAgICAgICAgIFtkYXRhLXByZXZpZXctYmxvY2tdeyBjdXJzb3I6cG9pbnRlcjsgfVxuXHQgICAgICAgICAgW2RhdGEtcHJldmlldy1ibG9ja106aG92ZXJ7IG91dGxpbmU6MnB4IHNvbGlkIHZhcigtLWNvbG9yLWFjY2VudCwgIzlDNkJGRik7IG91dGxpbmUtb2Zmc2V0OjJweDsgfVxuXHQgICAgICAgIGA7XG5cdCAgICAgICAgZG9jLmhlYWQ/LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGNvbnN0IGlzR3JvdXBUeXBlID0gKGJsb2NrKSA9PiB7XG5cdCAgICAgICAgY29uc3QgdCA9IChibG9jaz8udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICByZXR1cm4gdCA9PT0gJ2dyb3VwZScgfHwgdCA9PT0gJ2dyb3VwJyB8fCB0ID09PSAnc2VjdGlvbnMnIHx8IHQgPT09ICdncmlkJztcblx0ICAgICAgfTtcblx0ICAgICAgY29uc3QgZ2V0UGFyZW50SWRGb3JCbG9jayA9IChibG9ja0lkKSA9PiB7XG5cdCAgICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhYmxvY2tJZCkgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgaWYgKChjdXJyZW50UGFnZS5ibG9ja3MgfHwgW10pLnNvbWUoKGIpID0+IGIuaWQgPT09IGJsb2NrSWQpKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZm9yIChjb25zdCBiIG9mIGN1cnJlbnRQYWdlLmJsb2NrcyB8fCBbXSkge1xuXHQgICAgICAgICAgaWYgKCFpc0dyb3VwVHlwZShiKSB8fCAhQXJyYXkuaXNBcnJheShiLmNoaWxkcmVuKSkgY29udGludWU7XG5cdCAgICAgICAgICBpZiAoYi5jaGlsZHJlbi5zb21lKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IGJsb2NrSWQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBiLmlkO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgfTtcblxuXHQgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcblx0ICAgICAgICAnY2xpY2snLFxuXHQgICAgICAgIChldmVudCkgPT4ge1xuXHQgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHQgICAgICAgICAgY29uc3QgZWwgPSB0YXJnZXQ/LmNsb3Nlc3Q/LignW2RhdGEtcHJldmlldy1ibG9ja10nKTtcblx0ICAgICAgICAgIGNvbnN0IGJsb2NrSWQgPSBlbD8uZ2V0QXR0cmlidXRlPy4oJ2RhdGEtcHJldmlldy1ibG9jaycpIHx8ICcnO1xuXHQgICAgICAgICAgaWYgKCFibG9ja0lkKSByZXR1cm47XG5cdCAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24/LigpO1xuXHQgICAgICAgICAgY29uc3QgcGFyZW50SWQgPSBnZXRQYXJlbnRJZEZvckJsb2NrKGJsb2NrSWQpO1xuXHQgICAgICAgICAgc2V0QWN0aXZlQmxvY2soYmxvY2tJZCwgcGFyZW50SWQpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdHJ1ZSxcblx0ICAgICAgKTtcblx0ICAgIH0pO1xuICAgIHByZXZpZXdPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpZXdXaW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpO1xuICAgICAgaWYgKCFwcmV2aWV3V2luZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdXaW5kb3cub3BlbmVyID0gbnVsbDtcbiAgICAgIGNvbnN0IGRvYyA9IHByZXZpZXdXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICBkb2Mub3BlbigpO1xuICAgICAgZG9jLndyaXRlKGxhdGVzdFByZXZpZXdIdG1sIHx8IGdldExvYWRpbmdQcmV2aWV3SHRtbCgpKTtcbiAgICAgIGRvYy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gU0VPIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgdG9nZ2xlU2VvUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFzZW9QYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgc2VvUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGZpZWxkcyB3aXRoIGN1cnJlbnQgcGFnZSBTRU8gZGF0YVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICBzZW9UaXRsZUlucHV0ICYmIChzZW9UaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFBhZ2Uuc2VvPy50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgc2VvRGVzY3JpcHRpb25JbnB1dCAmJiAoc2VvRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNlbz8uZGVzY3JpcHRpb24gfHwgJycpO1xuICAgICAgICAgIC8vIGluZGV4ZWQ6IHRydWUgYnkgZGVmYXVsdCBpZiBub3QgZXhwbGljaXRseSBzZXQgdG8gZmFsc2VcbiAgICAgICAgICBzZW9JbmRleGVkQ2hlY2tib3ggJiYgKHNlb0luZGV4ZWRDaGVja2JveC5jaGVja2VkID0gY3VycmVudFBhZ2Uuc2VvPy5pbmRleGVkICE9PSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlb1BhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0U2VvRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgIGlmICghc2VvRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9uZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZW1lcmFsZC02MDAnIDogdG9uZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJvc2UtNjAwJyA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBzZW9GZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBzZW9GZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgfTtcbiAgICBzZW9Ub2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gc2VvUGFuZWwgJiYgIXNlb1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJyk7XG4gICAgICB0b2dnbGVTZW9QYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBzZW9DbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0b2dnbGVTZW9QYW5lbChmYWxzZSkpO1xuICAgIHNlb0Zvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgc2V0U2VvRmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgc2V0U2VvRmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2VvRGF0YSA9IHtcbiAgICAgICAgICB0aXRsZTogKHNlb1RpdGxlSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCksXG4gICAgICAgICAgZGVzY3JpcHRpb246IChzZW9EZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICAgIGluZGV4ZWQ6IHNlb0luZGV4ZWRDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHsgLi4uY3VycmVudFBhZ2UsIHNlbzogc2VvRGF0YSB9O1xuICAgICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVQYWdlVG9TZXJ2ZXIodXBkYXRlZFBhZ2UpO1xuICAgICAgICBpZiAoc2F2ZWQpIHtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9IHNhdmVkO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKCdTRU8gZW5yZWdpc3RyXHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgc2hvd1RvYXN0KCdTRU8gbWlzIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3Nlb10gc2F2ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMgPSAoKSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3ggJiYgIXBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveCAmJiAocGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveC5jaGVja2VkID0gdHJ1ZSk7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0ICYmIChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dC52YWx1ZSA9ICcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3gpIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveC5jaGVja2VkID1cbiAgICAgICAgICBjdXJyZW50UGFnZS5hY2Nlc3NpYmlsaXR5Py5zaG93SW5NYWluTmF2ICE9PSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dCkge1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eU1haW5JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLmFjY2Vzc2liaWxpdHk/Lm1haW5MYWJlbCB8fCAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCA9IChzaG93KSA9PiB7XG4gICAgICBpZiAoIXBhZ2VBY2Nlc3NpYmlsaXR5UGFuZWwpIHJldHVybjtcbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgIHN5bmNQYWdlQWNjZXNzaWJpbGl0eUZpZWxkcygpO1xuICAgICAgICBwYWdlQWNjZXNzaWJpbGl0eVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKSByZXR1cm47XG4gICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICBwYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuXG4gICAgcGFnZUFjY2Vzc2liaWxpdHlUb2dnbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID1cbiAgICAgICAgcGFnZUFjY2Vzc2liaWxpdHlQYW5lbCAmJiAhcGFnZUFjY2Vzc2liaWxpdHlQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xuICAgICAgdG9nZ2xlUGFnZUFjY2Vzc2liaWxpdHlQYW5lbCghaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgICBwYWdlQWNjZXNzaWJpbGl0eUNsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XG4gICAgICB0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsKGZhbHNlKSxcbiAgICApO1xuXG4gICAgcGFnZUFjY2Vzc2liaWxpdHlGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuZSBwYWdlIGFjdGl2ZS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlKTtcbiAgICAgIHNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eURhdGEgPSB7XG4gICAgICAgICAgc2hvd0luTWFpbk5hdjogcGFnZUFjY2Vzc2liaWxpdHlOYXZDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgIG1haW5MYWJlbDogKHBhZ2VBY2Nlc3NpYmlsaXR5TWFpbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50UGFnZSxcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiBhY2Nlc3NpYmlsaXR5RGF0YSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlUGFnZVRvU2VydmVyKHVwZGF0ZWRQYWdlKTtcbiAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSBzYXZlZDtcbiAgICAgICAgICBzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMoKTtcbiAgICAgICAgICBzZXRQYWdlQWNjZXNzaWJpbGl0eUZlZWRiYWNrKCdBY2Nlc3NpYmlsaXRcdTAwRTkgZW5yZWdpc3RyXHUwMEU5ZS4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnQWNjZXNzaWJpbGl0XHUwMEU5IG1pc2UgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2FjY2Vzc2liaWxpdHldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0UGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZS4nLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHBhZ2VBY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbiAmJiAocGFnZUFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUGFnZSBwcm9wZXJ0aWVzIHBhbmVsIGxvZ2ljXG4gICAgY29uc3QgdG9nZ2xlUGFnZVByb3BzUGFuZWwgPSAoc2hvdykgPT4ge1xuICAgICAgaWYgKCFwYWdlUHJvcHNQYW5lbCkgcmV0dXJuO1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGZpZWxkcyB3aXRoIGN1cnJlbnQgcGFnZSBkYXRhXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHBhZ2VOYW1lSW5wdXQgJiYgKHBhZ2VOYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS5uYW1lIHx8ICcnKTtcbiAgICAgICAgICBwYWdlVGl0bGVJbnB1dCAmJiAocGFnZVRpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50UGFnZS50aXRsZSB8fCAnJyk7XG4gICAgICAgICAgcGFnZVNsdWdJbnB1dCAmJiAocGFnZVNsdWdJbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLnNsdWcgfHwgJycpO1xuICAgICAgICAgIHBhZ2VEZXNjcmlwdGlvbklucHV0ICYmIChwYWdlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRQYWdlLmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRQYWdlUHJvcHNGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgaWYgKCFwYWdlUHJvcHNGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgY29sb3IgPSB0b25lID09PSAnc3VjY2VzcycgPyAndGV4dC1lbWVyYWxkLTYwMCcgOiB0b25lID09PSAnZXJyb3InID8gJ3RleHQtcm9zZS02MDAnIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgIHBhZ2VQcm9wc0ZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIHBhZ2VQcm9wc0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICB9O1xuICAgIHBhZ2VQcm9wc1RvZ2dsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBwYWdlUHJvcHNQYW5lbCAmJiAhcGFnZVByb3BzUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICAgIHRvZ2dsZVBhZ2VQcm9wc1BhbmVsKCFpc1Zpc2libGUpO1xuICAgIH0pO1xuICAgIHBhZ2VQcm9wc0Nsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRvZ2dsZVBhZ2VQcm9wc1BhbmVsKGZhbHNlKSk7XG4gICAgcGFnZVByb3BzRm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFjdXJyZW50UGFnZSkge1xuICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnQXVjdW5lIHBhZ2UgYWN0aXZlLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdOYW1lID0gKHBhZ2VOYW1lSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gKHBhZ2VUaXRsZUlucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBjb25zdCBuZXdTbHVnID0gKHBhZ2VTbHVnSW5wdXQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gKHBhZ2VEZXNjcmlwdGlvbklucHV0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gVmFsaWRhdGlvbiBiYXNpcXVlXG4gICAgICAgIGlmICghbmV3VGl0bGUpIHtcbiAgICAgICAgICBzZXRQYWdlUHJvcHNGZWVkYmFjaygnTGUgdGl0cmUgZXN0IHJlcXVpcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5ld1NsdWcgfHwgIW5ld1NsdWcuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soJ0xlIHNsdWcgZG9pdCBjb21tZW5jZXIgcGFyIC8uJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcGFnZVByb3BzU2F2ZUJ1dHRvbiAmJiAocGFnZVByb3BzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQYWdlID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRQYWdlLFxuICAgICAgICAgIG5hbWU6IG5ld05hbWUgfHwgbmV3VGl0bGUsIC8vIEZhbGxiYWNrIHRvIHRpdGxlIGlmIG5hbWUgaXMgZW1wdHlcbiAgICAgICAgICB0aXRsZTogbmV3VGl0bGUsXG4gICAgICAgICAgc2x1ZzogbmV3U2x1ZyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogbmV3RGVzY3JpcHRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVBhZ2VUb1NlcnZlcih1cGRhdGVkUGFnZSk7XG4gICAgICAgIGlmIChzYXZlZCkge1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0gc2F2ZWQ7XG4gICAgICAgICAgLy8gVXBkYXRlIHBhZ2VzIGFycmF5XG4gICAgICAgICAgcGFnZXMgPSBwYWdlcy5tYXAoKHApID0+IChwLmlkID09PSBzYXZlZC5pZCA/IHNhdmVkIDogcCkpO1xuICAgICAgICAgIHNldFBhZ2VQcm9wc0ZlZWRiYWNrKCdQcm9wcmlcdTAwRTl0XHUwMEU5cyBlbnJlZ2lzdHJcdTAwRTllcy4nLCAnc3VjY2VzcycpO1xuICAgICAgICAgIHNob3dUb2FzdCgnUGFnZSBtaXNlIFx1MDBFMCBqb3VyJyk7XG4gICAgICAgICAgLy8gVXBkYXRlIFVJXG4gICAgICAgICAgc2V0QWN0aXZlTGFiZWxzKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICByZW5kZXJQYWdlTGlzdHMocGFnZXMsIGFjdGl2ZVBhZ2VJZCk7XG4gICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3BhZ2UtcHJvcHNdIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0UGFnZVByb3BzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBwYWdlUHJvcHNTYXZlQnV0dG9uICYmIChwYWdlUHJvcHNTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG5cdCAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdTdGFydCA9IChldmVudCkgPT4ge1xuXHQgICAgICBjb25zdCBpdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG5cdCAgICAgIGlmICghaXRlbSB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgZHJhZ1NvdXJjZUlkID0gaXRlbS5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcblx0ICAgICAgZHJhZ1NvdXJjZVBhcmVudElkID0gaXRlbS5kYXRhc2V0LnBhcmVudEJsb2NrSWQgfHwgbnVsbDtcblx0ICAgICAgaWYgKCFkcmFnU291cmNlSWQpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcblx0ICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBkcmFnU291cmNlSWQpO1xuXHQgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnYXBwbGljYXRpb24veC1yYXdkaXQtcGFyZW50JywgZHJhZ1NvdXJjZVBhcmVudElkIHx8ICcnKTtcblx0ICAgICAgLy8gU3R5bGUgZHUgYmxvYyBlbiBjb3VycyBkZSBkcmFnXG5cdCAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG5cdCAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyk7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcbiAgICBjb25zdCBjbGVhckRyYWdJbmRpY2F0b3JzID0gKCkgPT4ge1xuICAgICAgYmxvY2tMaXN0XG4gICAgICAgID8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKVxuICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgICdvcGFjaXR5LTUwJywgJ3NjYWxlLVswLjk4XScsICdzaGFkb3ctbGcnLCAncmluZy0yJywgJ3JpbmctWyM5QzZCRkZdJyxcbiAgICAgICAgICAgICdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsXG4gICAgICAgICAgICAncHQtNicsICdwYi02J1xuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cdCAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdFbmQgPSAoKSA9PiB7XG5cdCAgICAgIGRyYWdTb3VyY2VJZCA9IG51bGw7XG5cdCAgICAgIGRyYWdTb3VyY2VQYXJlbnRJZCA9IG51bGw7XG5cdCAgICAgIGNsZWFyRHJhZ0luZGljYXRvcnMoKTtcblx0ICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmxvY2tEcmFnT3ZlciA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCFkcmFnU291cmNlSWQgfHwgIWlzRGVza3RvcFJlb3JkZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYmxvY2staXRlbV0nKTtcbiAgICAgIGlmICghdGFyZ2V0IHx8IHRhcmdldC5kYXRhc2V0LmJsb2NrSWQgPT09IGRyYWdTb3VyY2VJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gICAgICAvLyBEXHUwMEU5dGVybWluZSBzaSBvbiBkcm9wIGF2YW50IG91IGFwclx1MDBFOHNcbiAgICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBtaWRZID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XG4gICAgICBjb25zdCBpc0Fib3ZlID0gZXZlbnQuY2xpZW50WSA8IG1pZFk7XG4gICAgICAvLyBOZXR0b2llIGxlcyBhdXRyZXMgaW5kaWNhdGV1cnNcbiAgICAgIGJsb2NrTGlzdD8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmxvY2staXRlbV0nKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlICE9PSB0YXJnZXQgJiYgbm9kZS5kYXRhc2V0LmJsb2NrSWQgIT09IGRyYWdTb3VyY2VJZCkge1xuICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQXBwbGlxdWUgbCdpbmRpY2F0ZXVyIGRlIHBvc2l0aW9uXG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXQtNCcsICdib3JkZXItYi00JywgJ2JvcmRlci10LVsjOUM2QkZGXScsICdib3JkZXItYi1bIzlDNkJGRl0nLCAncHQtNicsICdwYi02Jyk7XG4gICAgICBpZiAoaXNBYm92ZSkge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9yZGVyLXQtNCcsICdib3JkZXItdC1bIzlDNkJGRl0nLCAncHQtNicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JvcmRlci1iLTQnLCAnYm9yZGVyLWItWyM5QzZCRkZdJywgJ3BiLTYnKTtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5kYXRhc2V0LmRyb3BQb3NpdGlvbiA9IGlzQWJvdmUgPyAnYmVmb3JlJyA6ICdhZnRlcic7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbG9ja0RyYWdMZWF2ZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWJsb2NrLWl0ZW1dJyk7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBWXHUwMEU5cmlmaWUgc2kgb24gcXVpdHRlIHZyYWltZW50IGwnXHUwMEU5bFx1MDBFOW1lbnQgKHBhcyBqdXN0ZSB2ZXJzIHVuIGVuZmFudClcbiAgICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAgICAgaWYgKHJlbGF0ZWRUYXJnZXQgJiYgdGFyZ2V0LmNvbnRhaW5zKHJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdib3JkZXItdC00JywgJ2JvcmRlci1iLTQnLCAnYm9yZGVyLXQtWyM5QzZCRkZdJywgJ2JvcmRlci1iLVsjOUM2QkZGXScsICdwdC02JywgJ3BiLTYnKTtcbiAgICAgIGRlbGV0ZSB0YXJnZXQuZGF0YXNldC5kcm9wUG9zaXRpb247XG4gICAgfTtcblx0ICAgIGNvbnN0IGhhbmRsZUJsb2NrRHJvcCA9IChldmVudCkgPT4ge1xuXHQgICAgICBpZiAoIWRyYWdTb3VyY2VJZCB8fCAhaXNEZXNrdG9wUmVvcmRlcigpKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1ibG9jay1pdGVtXScpO1xuXHQgICAgICBjb25zdCBzb3VyY2UgPSBkcmFnU291cmNlSWQ7XG5cdCAgICAgIGNvbnN0IHNvdXJjZVBhcmVudCA9IGRyYWdTb3VyY2VQYXJlbnRJZDtcblx0ICAgICAgY29uc3QgZHJvcFBvc2l0aW9uID0gdGFyZ2V0Py5kYXRhc2V0LmRyb3BQb3NpdGlvbiB8fCAnYWZ0ZXInO1xuXHQgICAgICBkcmFnU291cmNlSWQgPSBudWxsO1xuXHQgICAgICBkcmFnU291cmNlUGFyZW50SWQgPSBudWxsO1xuXHQgICAgICBjbGVhckRyYWdJbmRpY2F0b3JzKCk7XG5cdCAgICAgIGNvbnN0IHRhcmdldElkID0gdGFyZ2V0Py5kYXRhc2V0LmJsb2NrSWQgfHwgbnVsbDtcblx0ICAgICAgaWYgKCFjdXJyZW50UGFnZSB8fCAhc291cmNlKSByZXR1cm47XG5cdCAgICAgIGlmICghdGFyZ2V0SWQpIHtcblx0ICAgICAgICBpZiAoc291cmNlUGFyZW50KSB7XG5cdCAgICAgICAgICBtb3ZlQ2hpbGRGcm9tR3JvdXBUb1Jvb3RBdChzb3VyY2VQYXJlbnQsIHNvdXJjZSwgY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoc291cmNlID09PSB0YXJnZXRJZCkgcmV0dXJuO1xuXG5cdCAgICAgIGNvbnN0IHRhcmdldFBhcmVudCA9IHRhcmdldD8uZGF0YXNldC5wYXJlbnRCbG9ja0lkIHx8IG51bGw7XG5cblx0ICAgICAgLy8gRFx1MDBFOXBsYWNlciBkZXB1aXMgdW4gZ3JvdXBlXG5cdCAgICAgIGlmIChzb3VyY2VQYXJlbnQpIHtcblx0ICAgICAgICBpZiAodGFyZ2V0UGFyZW50KSB7XG5cdCAgICAgICAgICAvLyBWZXJzIHVuIGVuZmFudCBkJ3VuIGdyb3VwZSAobVx1MDBFQW1lIGdyb3VwZSBcdTIxOTIgcmVvcmRlciwgYXV0cmUgZ3JvdXBlIFx1MjE5MiBtb3ZlKVxuXHQgICAgICAgICAgaWYgKHRhcmdldFBhcmVudCA9PT0gc291cmNlUGFyZW50KSB7XG5cdCAgICAgICAgICAgIG1vdmVDaGlsZFdpdGhpbkdyb3VwKHNvdXJjZVBhcmVudCwgc291cmNlLCB0YXJnZXRJZCwgZHJvcFBvc2l0aW9uKTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgbW92ZUFueUJsb2NrVG9Hcm91cEF0KHNvdXJjZSwgdGFyZ2V0UGFyZW50LCB0YXJnZXRJZCwgZHJvcFBvc2l0aW9uKTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBEcm9wIHN1ciB1biBibG9jIHJhY2luZSBcdTIxOTIgc29ydGlyIGR1IGdyb3VwZSBcdTAwRTAgdW5lIHBvc2l0aW9uXG5cdCAgICAgICAgY29uc3QgdGFyZ2V0Um9vdEluZGV4ID0gY3VycmVudFBhZ2UuYmxvY2tzLmZpbmRJbmRleCgoYikgPT4gYi5pZCA9PT0gdGFyZ2V0SWQpO1xuXHQgICAgICAgIGlmICh0YXJnZXRSb290SW5kZXggPT09IC0xKSB7XG5cdCAgICAgICAgICBtb3ZlQ2hpbGRGcm9tR3JvdXBUb1Jvb3RBdChzb3VyY2VQYXJlbnQsIHNvdXJjZSwgY3VycmVudFBhZ2UuYmxvY2tzLmxlbmd0aCk7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gZ2V0SW5zZXJ0SW5kZXhGcm9tUG9zaXRpb24odGFyZ2V0Um9vdEluZGV4LCBkcm9wUG9zaXRpb24sIDEpO1xuXHQgICAgICAgIG1vdmVDaGlsZEZyb21Hcm91cFRvUm9vdEF0KHNvdXJjZVBhcmVudCwgc291cmNlLCBpbnNlcnRJbmRleCA/PyBjdXJyZW50UGFnZS5ibG9ja3MubGVuZ3RoKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyBEXHUwMEU5cGxhY2VyIGRlcHVpcyBsYSBsaXN0ZSByYWNpbmUgdmVycyBsJ2ludFx1MDBFOXJpZXVyIGQndW4gZ3JvdXBlIChkcm9wIHN1ciBlbmZhbnQpXG5cdCAgICAgIGlmICh0YXJnZXRQYXJlbnQpIHtcblx0ICAgICAgICBtb3ZlQW55QmxvY2tUb0dyb3VwQXQoc291cmNlLCB0YXJnZXRQYXJlbnQsIHRhcmdldElkLCBkcm9wUG9zaXRpb24pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIFBhciBkXHUwMEU5ZmF1dDogcmVvcmRlciBkZXMgYmxvY3MgcmFjaW5lXG5cdCAgICAgIHJlb3JkZXJCbG9ja3NXaXRoUG9zaXRpb24oc291cmNlLCB0YXJnZXRJZCwgZHJvcFBvc2l0aW9uKTtcblx0ICAgIH07XG5cdCAgICBsZXQgZHJhZ1NvdXJjZUlkID0gbnVsbDtcblx0ICAgIGxldCBkcmFnU291cmNlUGFyZW50SWQgPSBudWxsO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlQmxvY2tEcmFnU3RhcnQpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGhhbmRsZUJsb2NrRHJhZ0VuZCk7XG4gICAgYmxvY2tMaXN0Py5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGhhbmRsZUJsb2NrRHJhZ092ZXIpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgaGFuZGxlQmxvY2tEcmFnTGVhdmUpO1xuICAgIGJsb2NrTGlzdD8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZUJsb2NrRHJvcCk7XG4gICAgbG9hZFBhZ2VzRnJvbVNlcnZlcigpO1xuXG4gICAgLy8gXHUwMEM5Y291dGVyIGwnXHUwMEU5dlx1MDBFOW5lbWVudCBkZSByYWZyYVx1MDBFRWNoaXNzZW1lbnQgZFx1MDBFOWNsZW5jaFx1MDBFOSBwYXIgbCdJQVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXBhZ2UtdXBkYXRlZCcsIGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW2Rlc2lnbl0gUmFmcmFcdTAwRUVjaGlzc2VtZW50IGRcdTAwRTljbGVuY2hcdTAwRTkgcGFyIElBJywgZS5kZXRhaWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUmVjaGFyZ2VyIGxlcyBwYWdlcyBkZXB1aXMgbGUgc2VydmV1clxuICAgICAgICBjb25zdCBsb2FkZWRQYWdlcyA9IGF3YWl0IGZldGNoUGFnZXNGcm9tU2VydmVyKCk7XG4gICAgICAgIHBhZ2VzID0gKEFycmF5LmlzQXJyYXkobG9hZGVkUGFnZXMpID8gbG9hZGVkUGFnZXMgOiBbXSkubWFwKChwYWdlKSA9PlxuICAgICAgICAgIG5vcm1hbGl6ZVBhZ2VEYXRhKHBhZ2UpLFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJvdXZlciBldCBtZXR0cmUgXHUwMEUwIGpvdXIgbGEgcGFnZSBhY3RpdmVcbiAgICAgICAgaWYgKGUuZGV0YWlsPy5wYWdlSWQpIHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkUGFnZSA9IHBhZ2VzLmZpbmQocCA9PiBwLmlkID09PSBlLmRldGFpbC5wYWdlSWQpO1xuICAgICAgICAgIGlmICh1cGRhdGVkUGFnZSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSB1cGRhdGVkUGFnZTtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJZCA9IHVwZGF0ZWRQYWdlLmlkO1xuICAgICAgICAgICAgLy8gUmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXcgYXZlYyBsYSBwYWdlIG1pc2UgXHUwMEUwIGpvdXJcbiAgICAgICAgICAgIHJlZnJlc2hQcmV2aWV3KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBsaXN0ZSBkZXMgYmxvY3NcbiAgICAgICAgICAgIHJlbmRlckJsb2NrTGlzdChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICBzaG93VG9hc3QoJ1BhZ2UgbWlzZSBcdTAwRTAgam91ciBwYXIgbFxcJ0lBJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZVBhZ2VJZCkge1xuICAgICAgICAgIC8vIFJhZnJhXHUwMEVFY2hpciBsYSBwYWdlIGFjdGl2ZSBhY3R1ZWxsZVxuICAgICAgICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSBwYWdlcy5maW5kKHAgPT4gcC5pZCA9PT0gYWN0aXZlUGFnZUlkKTtcbiAgICAgICAgICBpZiAoYWN0aXZlUGFnZSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBhY3RpdmVQYWdlO1xuICAgICAgICAgICAgcmVmcmVzaFByZXZpZXcoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgcmVuZGVyQmxvY2tMaXN0KGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZGVzaWduXSBFcnJldXIgcmFmcmFcdTAwRUVjaGlzc2VtZW50IElBOicsIGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29udGVudFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbGxlY3Rpb24tbGlzdF0nKTtcbiAgICBpZiAoIWNvbGxlY3Rpb25MaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFx1MjU1MFxuICAgIC8vIEhFQURFUiAmIEZPT1RFUiBNQU5BR0VNRU5UXG4gICAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gICAgY29uc3QgY29udGVudFZpZXdzID0ge1xuICAgICAgZW1wdHk6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImVtcHR5XCJdJyksXG4gICAgICBoZWFkZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRlbnQtdmlldz1cImhlYWRlclwiXScpLFxuICAgICAgY29sbGVjdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGVudC12aWV3PVwiY29sbGVjdGlvblwiXScpLFxuICAgICAgZm9vdGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50LXZpZXc9XCJmb290ZXJcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGNvbnRlbnRTZWN0aW9uQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbnRlbnQtc2VjdGlvbl0nKTtcbiAgICBjb25zdCBjb250ZW50U2VjdGlvblRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29udGVudC1zZWN0aW9uLXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGVhZGVyU3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXN0YXR1c10nKTtcbiAgICBjb25zdCBmb290ZXJTdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItc3RhdHVzXScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Db3VudEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1jb3VudF0nKTtcbiAgICBjb25zdCBpdGVtUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXBhbmVsXScpO1xuICAgIGNvbnN0IGl0ZW1QYW5lbENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWl0ZW0tcGFuZWwtY2xvc2VdJyk7XG4gICAgY29uc3QgY29sbGVjdGlvbkVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWVtcHR5XScpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25JdGVtc0VtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi1pdGVtcy1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtVGFibGVXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS10YWJsZS13cmFwcGVyXScpO1xuICAgIGNvbnN0IGl0ZW1UYWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXRhYmxlLWJvZHldJyk7XG4gICAgY29uc3QgY29sbGVjdGlvblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29sbGVjdGlvbi10aXRsZV0nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWRlc2NyaXB0aW9uXScpO1xuICAgIGNvbnN0IGl0ZW1BZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWFkZF0nKTtcbiAgICBjb25zdCBpdGVtRGV0YWlsRW1wdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWRldGFpbC1lbXB0eV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZm9ybV0nKTtcbiAgICBjb25zdCBpdGVtRm9ybUZpZWxkcyA9IGl0ZW1Gb3JtXG4gICAgICA/IHtcbiAgICAgICAgICB0aXRsZTogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXRpdGxlXCJdJyksXG4gICAgICAgICAgc2x1ZzogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLXNsdWdcIl0nKSxcbiAgICAgICAgICBleGNlcnB0OiBpdGVtRm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIml0ZW0tZXhjZXJwdFwiXScpLFxuICAgICAgICAgIGNvbnRlbnQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jb250ZW50XCJdJyksXG4gICAgICAgICAgaW1hZ2U6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1pbWFnZVwiXScpLFxuICAgICAgICAgIGN0YVRleHQ6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1jdGEtdGV4dFwiXScpLFxuICAgICAgICAgIGN0YVVybDogaXRlbUZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJpdGVtLWN0YS11cmxcIl0nKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW1Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaXRlbS1zdGF0dXNcIl0nKSxcbiAgICAgICAgfVxuICAgICAgOiB7fTtcbiAgICBjb25zdCBpdGVtU3RhdHVzQmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXN0YXR1cy1iYWRnZV0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGVdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaXRlbS1kZWxldGUtbW9kYWxdJyk7XG4gICAgY29uc3QgaXRlbURlbGV0ZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRGVsZXRlQ29uZmlybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWl0ZW0tZGVsZXRlLWNvbmZpcm1dJyk7XG4gICAgY29uc3QgaXRlbUZvcm1DYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLWNhbmNlbF0nKTtcbiAgICBjb25zdCBpdGVtRm9ybVNhdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pdGVtLXNhdmVdJyk7XG4gICAgY29uc3Qgc3RhdHVzQmFkZ2VCYXNlQ2xhc3MgPSAncm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgIGNvbnN0IGlzRGVza3RvcFZpZXdwb3J0ID0gKCkgPT4gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEwMjRweCknKS5tYXRjaGVzO1xuICAgIGNvbnN0IHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlID0gKGhpZGRlbikgPT4ge1xuICAgICAgaWYgKCFpdGVtUGFuZWwgfHwgaXNEZXNrdG9wVmlld3BvcnQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBoaWRkZW5DbGFzc2VzID0gaXRlbVBhbmVsLmRhdGFzZXQuaXRlbVBhbmVsSGlkZGVuIHx8ICcnO1xuICAgICAgY29uc3QgdmlzaWJsZUNsYXNzZXMgPSBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxWaXNpYmxlIHx8ICcnO1xuICAgICAgaWYgKGhpZGRlbikge1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIHZpc2libGVDbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ2FkZCcpO1xuICAgICAgICBpdGVtUGFuZWwuY2xhc3NMaXN0LmFkZCgncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgICAgICBpdGVtUGFuZWwuZGF0YXNldC5pdGVtUGFuZWxPcGVuID0gJ2ZhbHNlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGx5UGFuZWxDbGFzc2VzKGl0ZW1QYW5lbCwgaGlkZGVuQ2xhc3NlcywgJ3JlbW92ZScpO1xuICAgICAgICBhcHBseVBhbmVsQ2xhc3NlcyhpdGVtUGFuZWwsIHZpc2libGVDbGFzc2VzLCAnYWRkJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAndHJ1ZSc7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0ID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtUGFuZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgICAgY29uc3QgaGlkZGVuQ2xhc3NlcyA9IGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbEhpZGRlbiB8fCAnJztcbiAgICAgICAgYXBwbHlQYW5lbENsYXNzZXMoaXRlbVBhbmVsLCBoaWRkZW5DbGFzc2VzLCAncmVtb3ZlJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICAgIGl0ZW1QYW5lbC5kYXRhc2V0Lml0ZW1QYW5lbE9wZW4gPSAndHJ1ZSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICBzZXRJdGVtUGFuZWxIaWRkZW5TdGF0ZSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEl0ZW1QYW5lbEhpZGRlblN0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KTtcbiAgICBpdGVtUGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGlzRGVza3RvcFZpZXdwb3J0KCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0KCk7XG4gICAgXG4gICAgLy8gSGVhZGVyIGZpZWxkc1xuICAgIGNvbnN0IGhlYWRlckZpZWxkcyA9IHtcbiAgICAgIGxvZ286IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ29cIl0nKSxcbiAgICAgIGxvZ29BbHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWxvZ28tYWx0XCJdJyksXG4gICAgICBsb2dvVXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1sb2dvLXVybFwiXScpLFxuICAgICAgY3RhVGV4dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXRleHRcIl0nKSxcbiAgICAgIGN0YVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItY3RhLXVybFwiXScpLFxuICAgICAgY3RhU3R5bGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLWN0YS1zdHlsZVwiXScpLFxuICAgICAgY3RhVGV4dENvbG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImhlYWRlci1jdGEtdGV4dC1jb2xvclwiXScpLFxuICAgICAgcG9zaXRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiaGVhZGVyLXBvc2l0aW9uXCJdJyksXG4gICAgICBiZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJoZWFkZXItYmdcIl0nKSxcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlck5hdk9yZGVyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1uYXYtb3JkZXItbGlzdF0nKTtcbiAgICBjb25zdCBoZWFkZXJTYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaGVhZGVyLXNhdmVdJyk7XG4gICAgY29uc3QgaGVhZGVyTmF2SXRlbVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtaGVhZGVyLW5hdi1pdGVtXScpO1xuICAgIGNvbnN0IGhlYWRlclBhZ2VzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWhlYWRlci1wYWdlcy1saXN0XScpO1xuICAgIGxldCBzaXRlUGFnZXMgPSBbXTsgLy8gUGFnZXMgZHUgc2l0ZSBwb3VyIGxlcyBjaGVja2JveGVzXG4gICAgbGV0IHNlbGVjdGVkTmF2UGFnZXMgPSBbXTsgLy8gUGFnZXMgc1x1MDBFOWxlY3Rpb25uXHUwMEU5ZXMgcG91ciBsZSBtZW51IChhdmVjIG9yZHJlKVxuICAgIFxuICAgIC8vIEZvb3RlciBmaWVsZHNcbiAgICBjb25zdCBmb290ZXJGaWVsZHMgPSB7XG4gICAgICBsaW5rZWRpbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWxpbmtlZGluXCJdJyksXG4gICAgICB0d2l0dGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtdHdpdHRlclwiXScpLFxuICAgICAgaW5zdGFncmFtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtaW5zdGFncmFtXCJdJyksXG4gICAgICBmYWNlYm9vazogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItc29jaWFsLWZhY2Vib29rXCJdJyksXG4gICAgICB5b3V0dWJlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwteW91dHViZVwiXScpLFxuICAgICAgZ2l0aHViOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1zb2NpYWwtZ2l0aHViXCJdJyksXG4gICAgICBjb3B5cmlnaHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWNvcHlyaWdodFwiXScpLFxuICAgICAgbGVnYWxVcmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiZm9vdGVyLWxlZ2FsLXVybFwiXScpLFxuICAgICAgcHJpdmFjeVVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJmb290ZXItcHJpdmFjeS11cmxcIl0nKSxcbiAgICAgIGJnOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1iZ1wiXScpLFxuICAgICAgY29sdW1uc0NvdW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImZvb3Rlci1jb2x1bW5zLWNvdW50XCJdJyksXG4gICAgfTtcbiAgICBjb25zdCBmb290ZXJDb2x1bW5zTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1jb2x1bW5zLWxpc3RdJyk7XG4gICAgY29uc3QgZm9vdGVyQ29sdW1uQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9vdGVyLWNvbHVtbi1hZGRdJyk7XG4gICAgY29uc3QgZm9vdGVyU2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1zYXZlXScpO1xuICAgIGNvbnN0IGZvb3RlckNvbHVtblRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVtcGxhdGUtZm9vdGVyLWNvbHVtbl0nKTtcbiAgICBjb25zdCBmb290ZXJMaW5rVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZW1wbGF0ZS1mb290ZXItbGlua10nKTtcbiAgICBcbiAgICBsZXQgYWN0aXZlQ29udGVudFNlY3Rpb24gPSBudWxsO1xuICAgIGxldCBoZWFkZXJEYXRhID0geyBuYXY6IFtdLCBsb2dvOiB7fSwgY3RhOiB7fSwgc3R5bGU6IHt9IH07XG4gICAgbGV0IGZvb3RlckRhdGEgPSB7IGNvbHVtbnM6IFtdLCBzb2NpYWxzOiB7fSwgY29weXJpZ2h0OiAnJywgbGVnYWw6IHt9LCBzdHlsZToge30gfTtcbiAgICBcbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdGb3JMYXlvdXQgPSBzdHJpcExlYWRpbmdTbGFzaCh3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBjb25zdCBzbHVnID0gc2FmZVNpdGVTbHVnRm9yTGF5b3V0OyAvLyBBbGlhcyBwb3VyIGxlcyBmb25jdGlvbnMgcXVpIHV0aWxpc2VudCBzbHVnXG4gICAgY29uc3QgbGF5b3V0QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z0ZvckxheW91dCA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z0ZvckxheW91dCl9L2xheW91dGAgOiBudWxsO1xuICAgIFxuICAgIC8vIFZpZXcgc3dpdGNoaW5nXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRWaWV3ID0gKHZpZXdOYW1lKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhjb250ZW50Vmlld3MpLmZvckVhY2goKFtuYW1lLCBlbF0pID0+IHtcbiAgICAgICAgaWYgKGVsKSBlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBuYW1lICE9PSB2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnRlbnRTZWN0aW9uQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBidG4uZGF0YXNldC5jb250ZW50U2VjdGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24gPT09IHZpZXdOYW1lKSB7XG4gICAgICAgICAgYnRuLmRhdGFzZXQuYWN0aXZlID0gJ3RydWUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBidG4uZGF0YXNldC5hY3RpdmU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYWN0aXZlQ29udGVudFNlY3Rpb24gPSB2aWV3TmFtZTtcbiAgICB9O1xuICAgIFxuICAgIC8vIFNlY3Rpb24gYnV0dG9uIGhhbmRsZXJzXG4gICAgY29udGVudFNlY3Rpb25CdXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJ0bi5kYXRhc2V0LmNvbnRlbnRTZWN0aW9uO1xuICAgICAgICBpZiAoc2VjdGlvbiA9PT0gJ2hlYWRlcicgfHwgc2VjdGlvbiA9PT0gJ2Zvb3RlcicpIHtcbiAgICAgICAgICBzaG93Q29udGVudFZpZXcoc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gYnRuLmRhdGFzZXQuY29udGVudFNlY3Rpb25UcmlnZ2VyO1xuICAgICAgICBpZiAoc2VjdGlvbikgc2hvd0NvbnRlbnRWaWV3KHNlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4gICAgLy8gSEVBREVSIEZVTkNUSU9OU1xuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIFxuICAgIC8vIENoYXJnZXIgbGEgbGlzdGUgZGVzIHBhZ2VzIGR1IHNpdGUgcG91ciBsZXMgY2hlY2tib3hlc1xuICAgIGNvbnN0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNsdWcgfHwgIWhlYWRlclBhZ2VzTGlzdCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke3NsdWd9L3BhZ2VzYCwgeyBjcmVkZW50aWFsczogJ2luY2x1ZGUnIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IHBhZ2VzJyk7XG4gICAgICAgIHNpdGVQYWdlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmVuZGVyUGFnZUNoZWNrYm94ZXMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaGVhZGVyXSBsb2FkIHBhZ2VzIGVycm9yJywgZXJyKTtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+RXJyZXVyIGNoYXJnZW1lbnQgcGFnZXM8L3A+JztcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFmZmljaGVyIGxlcyBjaGVja2JveGVzIHBvdXIgY2hhcXVlIHBhZ2VcbiAgY29uc3Qgbm9ybWFsaXplTmF2UGFnZVVybCA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKS50cmltKCk7XG4gICAgaWYgKCFyYXcgfHwgcmF3ID09PSAnLycgfHwgcmF3ID09PSAnaW5kZXgnKSB7XG4gICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBjb25zdCBsb3dlciA9IHJhdy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChyYXcuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiAgICBpZiAobG93ZXIuc3RhcnRzV2l0aCgnbWFpbHRvOicpIHx8IGxvd2VyLnN0YXJ0c1dpdGgoJ3RlbDonKSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKC9eW2Etel0rOlxcL1xcLy9pLnRlc3QocmF3KSkge1xuICAgICAgcmV0dXJuIHJhdztcbiAgICB9XG4gICAgaWYgKHJhdy5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICBjb25zdCB3aXRob3V0U2xhc2hlcyA9IHJhdy5zbGljZSgyKTtcbiAgICAgIGlmICh3aXRob3V0U2xhc2hlcy5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgIHJldHVybiByYXc7XG4gICAgICB9XG4gICAgICBjb25zdCBjbGVhbmVkSW50ZXJuYWwgPSB3aXRob3V0U2xhc2hlcy5yZXBsYWNlKC9eXFwvKy8sICcnKS5yZXBsYWNlKC9cXC8rJC8sICcnKTtcbiAgICAgIHJldHVybiBjbGVhbmVkSW50ZXJuYWwgPyBgLyR7Y2xlYW5lZEludGVybmFsfWAgOiAnLyc7XG4gICAgfVxuICAgIGNvbnN0IGNsZWFuZWQgPSByYXcucmVwbGFjZSgvXlxcLysvLCAnJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgcmV0dXJuIGNsZWFuZWQgPyBgLyR7Y2xlYW5lZH1gIDogJy8nO1xuICB9O1xuICBjb25zdCBub3JtYWxpemVPcHRpb25hbE5hdlVybCA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlID0gJycpID0+IHtcbiAgICBjb25zdCB0cmltbWVkID0gKHZhbHVlIHx8ICcnKS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVOYXZQYWdlVXJsKHRyaW1tZWQpO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclBhZ2VDaGVja2JveGVzID0gKCkgPT4ge1xuICAgIGlmICghaGVhZGVyUGFnZXNMaXN0KSByZXR1cm47XG4gICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgaWYgKHNpdGVQYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaGVhZGVyUGFnZXNMaXN0LmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS00MDAgaXRhbGljXCI+QXVjdW5lIHBhZ2UgZGlzcG9uaWJsZTwvcD4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICBzaXRlUGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgY29uc3QgcGFnZVNsdWcgPSBwYWdlLnNsdWcgfHwgcGFnZS5pZCB8fCAnJztcbiAgICAgIC8vIFVzZSBwYWdlLm5hbWUgKHNob3J0IG5hbWUpIGlmIGF2YWlsYWJsZSwgZmFsbGJhY2sgdG8gdGl0bGVcbiAgICAgIGNvbnN0IHBhZ2VEaXNwbGF5TmFtZSA9IHBhZ2UubmFtZSB8fCBwYWdlLnRpdGxlIHx8IHBhZ2VTbHVnO1xuICAgICAgY29uc3QgcGFnZVVybCA9IG5vcm1hbGl6ZU5hdlBhZ2VVcmwocGFnZVNsdWcpO1xuXG4gICAgICAvLyBWXHUwMEU5cmlmaWVyIHNpIGNldHRlIHBhZ2UgZXN0IHNcdTAwRTlsZWN0aW9ublx1MDBFOWUgZGFucyBsYSBuYXZcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZE5hdlBhZ2VzLnNvbWUobmF2ID0+IG5hdi51cmwgPT09IHBhZ2VVcmwpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtMyBweS0yIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgaG92ZXI6Ymctc2xhdGUtNTAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMnO1xuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJuYXYtcGFnZVwiIHZhbHVlPVwiJHtwYWdlVXJsfVwiIGRhdGEtcGFnZS10aXRsZT1cIiR7cGFnZURpc3BsYXlOYW1lfVwiXG4gICAgICAgICAgICAgICAgIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGJvcmRlci1zbGF0ZS0zMDAgdGV4dC12aW9sZXQtNjAwIGZvY3VzOnJpbmctdmlvbGV0LTUwMFwiXG4gICAgICAgICAgICAgICAgICR7aXNTZWxlY3RlZCA/ICdjaGVja2VkJyA6ICcnfT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXgtMSB0ZXh0LXNtIHRleHQtc2xhdGUtNzAwXCI+JHtwYWdlRGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMFwiPiR7cGFnZVVybH08L3NwYW4+XG4gICAgICAgIGA7XG4gICAgICAgIFxuICAgICAgICAvLyBNZXR0cmUgXHUwMEUwIGpvdXIgc2VsZWN0ZWROYXZQYWdlcyBxdWFuZCBvbiBjb2NoZS9kXHUwMEU5Y29jaGVcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBzZWxlY3RlZE5hdlBhZ2VzLmZpbmRJbmRleCgobmF2KSA9PiBuYXYudXJsID09PSBwYWdlVXJsKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzLnB1c2goeyBsYWJlbDogcGFnZURpc3BsYXlOYW1lLCB1cmw6IHBhZ2VVcmwgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzW2V4aXN0aW5nSW5kZXhdID0geyAuLi5zZWxlY3RlZE5hdlBhZ2VzW2V4aXN0aW5nSW5kZXhdLCBsYWJlbDogcGFnZURpc3BsYXlOYW1lIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSBzZWxlY3RlZE5hdlBhZ2VzLmZpbHRlcigobmF2KSA9PiBuYXYudXJsICE9PSBwYWdlVXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVySGVhZGVyTmF2T3JkZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBoZWFkZXJQYWdlc0xpc3QuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlckhlYWRlck5hdk9yZGVyKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckhlYWRlck5hdk9yZGVyID0gKCkgPT4ge1xuICAgICAgaWYgKCFoZWFkZXJOYXZPcmRlckxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGVhZGVyTmF2T3JkZXJMaXN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICBpZiAoIXNlbGVjdGVkTmF2UGFnZXMgfHwgc2VsZWN0ZWROYXZQYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgZW1wdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGVtcHR5LmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGl0YWxpYyc7XG4gICAgICAgIGVtcHR5LnRleHRDb250ZW50ID0gJ0F1Y3VuIGxpZW4gZGUgbWVudSBzXHUwMEU5bGVjdGlvbm5cdTAwRTkuJztcbiAgICAgICAgaGVhZGVyTmF2T3JkZXJMaXN0LmFwcGVuZENoaWxkKGVtcHR5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3RlZE5hdlBhZ2VzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByb3cuY2xhc3NOYW1lID1cbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBiZy13aGl0ZSBweC0zIHB5LTInO1xuICAgICAgICByb3cuZGF0YXNldC5uYXZVcmwgPSBpdGVtLnVybDtcblxuICAgICAgICBjb25zdCBtZXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2ZsZXgtMSBtaW4tdy0wJztcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtODAwIHRydW5jYXRlJztcbiAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSBpdGVtLmxhYmVsIHx8IGl0ZW0udXJsO1xuICAgICAgICBjb25zdCB1cmwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHVybC5jbGFzc05hbWUgPSAndGV4dC1bMTFweF0gdGV4dC1zbGF0ZS00MDAgdHJ1bmNhdGUnO1xuICAgICAgICB1cmwudGV4dENvbnRlbnQgPSBpdGVtLnVybDtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQodXJsKTtcblxuICAgICAgICBjb25zdCBjb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250cm9scy5jbGFzc05hbWUgPSAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnO1xuXG4gICAgICAgIGNvbnN0IHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHVwLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdXAuY2xhc3NOYW1lID1cbiAgICAgICAgICAncm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0yIHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIGhvdmVyOmJnLXNsYXRlLTUwIGRpc2FibGVkOm9wYWNpdHktNDAgZGlzYWJsZWQ6aG92ZXI6YmctdHJhbnNwYXJlbnQnO1xuICAgICAgICB1cC50ZXh0Q29udGVudCA9ICdcdTIxOTEnO1xuICAgICAgICB1cC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgTW9udGVyICR7aXRlbS5sYWJlbCB8fCBpdGVtLnVybH1gKTtcbiAgICAgICAgdXAuZGlzYWJsZWQgPSBpbmRleCA9PT0gMDtcbiAgICAgICAgdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4IDw9IDApIHJldHVybjtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnNlbGVjdGVkTmF2UGFnZXNdO1xuICAgICAgICAgIGNvbnN0IHRtcCA9IG5leHRbaW5kZXggLSAxXTtcbiAgICAgICAgICBuZXh0W2luZGV4IC0gMV0gPSBuZXh0W2luZGV4XTtcbiAgICAgICAgICBuZXh0W2luZGV4XSA9IHRtcDtcbiAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gbmV4dDtcbiAgICAgICAgICByZW5kZXJIZWFkZXJOYXZPcmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRvd24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICBkb3duLmNsYXNzTmFtZSA9XG4gICAgICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCBob3ZlcjpiZy1zbGF0ZS01MCBkaXNhYmxlZDpvcGFjaXR5LTQwIGRpc2FibGVkOmhvdmVyOmJnLXRyYW5zcGFyZW50JztcbiAgICAgICAgZG93bi50ZXh0Q29udGVudCA9ICdcdTIxOTMnO1xuICAgICAgICBkb3duLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGBEZXNjZW5kcmUgJHtpdGVtLmxhYmVsIHx8IGl0ZW0udXJsfWApO1xuICAgICAgICBkb3duLmRpc2FibGVkID0gaW5kZXggPT09IHNlbGVjdGVkTmF2UGFnZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gc2VsZWN0ZWROYXZQYWdlcy5sZW5ndGggLSAxKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5zZWxlY3RlZE5hdlBhZ2VzXTtcbiAgICAgICAgICBjb25zdCB0bXAgPSBuZXh0W2luZGV4ICsgMV07XG4gICAgICAgICAgbmV4dFtpbmRleCArIDFdID0gbmV4dFtpbmRleF07XG4gICAgICAgICAgbmV4dFtpbmRleF0gPSB0bXA7XG4gICAgICAgICAgc2VsZWN0ZWROYXZQYWdlcyA9IG5leHQ7XG4gICAgICAgICAgcmVuZGVySGVhZGVyTmF2T3JkZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVtb3ZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHJlbW92ZS50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIHJlbW92ZS5jbGFzc05hbWUgPVxuICAgICAgICAgICdyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1yb3NlLTcwMCBob3ZlcjpiZy1yb3NlLTUwJztcbiAgICAgICAgcmVtb3ZlLnRleHRDb250ZW50ID0gJ1x1MjcxNSc7XG4gICAgICAgIHJlbW92ZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgUmV0aXJlciAke2l0ZW0ubGFiZWwgfHwgaXRlbS51cmx9YCk7XG4gICAgICAgIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZWxlY3RlZE5hdlBhZ2VzID0gc2VsZWN0ZWROYXZQYWdlcy5maWx0ZXIoKG5hdikgPT4gbmF2LnVybCAhPT0gaXRlbS51cmwpO1xuICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gaGVhZGVyUGFnZXNMaXN0Py5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgYGlucHV0W25hbWU9XFxcIm5hdi1wYWdlXFxcIl1bdmFsdWU9XFxcIiR7Q1NTLmVzY2FwZShpdGVtLnVybCl9XFxcIl1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGNoZWNrYm94KSBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgcmVuZGVySGVhZGVyTmF2T3JkZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29udHJvbHMuYXBwZW5kQ2hpbGQodXApO1xuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZChkb3duKTtcbiAgICAgICAgY29udHJvbHMuYXBwZW5kQ2hpbGQocmVtb3ZlKTtcblxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQobWV0YSk7XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb250cm9scyk7XG4gICAgICAgIGhlYWRlck5hdk9yZGVyTGlzdC5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0SGVhZGVyRGF0YSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG5hdiA9IChzZWxlY3RlZE5hdlBhZ2VzIHx8IFtdKVxuICAgICAgICAubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgIGxhYmVsOiAoaXRlbS5sYWJlbCB8fCBpdGVtLnVybCB8fCAnJykudG9TdHJpbmcoKS50cmltKCksXG4gICAgICAgICAgdXJsOiBub3JtYWxpemVOYXZQYWdlVXJsKGl0ZW0udXJsKSxcbiAgICAgICAgfSkpXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udXJsKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9nbzoge1xuICAgICAgICAgIHNyYzogaGVhZGVyRmllbGRzLmxvZ28/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgYWx0OiBoZWFkZXJGaWVsZHMubG9nb0FsdD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5sb2dvVXJsPy52YWx1ZSwgJy8nKSxcbiAgICAgICAgfSxcbiAgICAgICAgbmF2LFxuICAgICAgICBjdGE6IHtcbiAgICAgICAgICB0ZXh0OiBoZWFkZXJGaWVsZHMuY3RhVGV4dD8udmFsdWU/LnRyaW0oKSB8fCAnJyxcbiAgICAgICAgICB1cmw6IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGhlYWRlckZpZWxkcy5jdGFVcmw/LnZhbHVlLCAnJyksXG4gICAgICAgICAgc3R5bGU6IGhlYWRlckZpZWxkcy5jdGFTdHlsZT8udmFsdWUgfHwgJ3ByaW1hcnknLFxuICAgICAgICAgIHRleHRDb2xvcjogaGVhZGVyRmllbGRzLmN0YVRleHRDb2xvcj8udmFsdWUgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IGhlYWRlckZpZWxkcy5wb3NpdGlvbj8udmFsdWUgfHwgJ3N0YXRpYycsXG4gICAgICAgICAgYmc6IGhlYWRlckZpZWxkcy5iZz8udmFsdWUgfHwgJ2JnLXdoaXRlJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBwb3B1bGF0ZUhlYWRlckZvcm0gPSBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ28pIGhlYWRlckZpZWxkcy5sb2dvLnZhbHVlID0gZGF0YS5sb2dvPy5zcmMgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ29BbHQpIGhlYWRlckZpZWxkcy5sb2dvQWx0LnZhbHVlID0gZGF0YS5sb2dvPy5hbHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmxvZ29VcmwpIGhlYWRlckZpZWxkcy5sb2dvVXJsLnZhbHVlID0gbm9ybWFsaXplT3B0aW9uYWxOYXZVcmwoZGF0YS5sb2dvPy51cmwsICcvJyk7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVRleHQpIGhlYWRlckZpZWxkcy5jdGFUZXh0LnZhbHVlID0gZGF0YS5jdGE/LnRleHQgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVVybCkgaGVhZGVyRmllbGRzLmN0YVVybC52YWx1ZSA9IG5vcm1hbGl6ZU9wdGlvbmFsTmF2VXJsKGRhdGEuY3RhPy51cmwsICcnKTtcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuY3RhU3R5bGUpIGhlYWRlckZpZWxkcy5jdGFTdHlsZS52YWx1ZSA9IGRhdGEuY3RhPy5zdHlsZSB8fCAncHJpbWFyeSc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLmN0YVRleHRDb2xvcikgaGVhZGVyRmllbGRzLmN0YVRleHRDb2xvci52YWx1ZSA9IGRhdGEuY3RhPy50ZXh0Q29sb3IgfHwgJyc7XG4gICAgICBpZiAoaGVhZGVyRmllbGRzLnBvc2l0aW9uKSBoZWFkZXJGaWVsZHMucG9zaXRpb24udmFsdWUgPSBkYXRhLnN0eWxlPy5wb3NpdGlvbiB8fCAnc3RhdGljJztcbiAgICAgIGlmIChoZWFkZXJGaWVsZHMuYmcpIGhlYWRlckZpZWxkcy5iZy52YWx1ZSA9IGRhdGEuc3R5bGU/LmJnIHx8ICdiZy13aGl0ZSc7XG4gICAgICBcbiAgICAgIC8vIFN0b2NrZXIgbGVzIHBhZ2VzIHNcdTAwRTlsZWN0aW9ublx1MDBFOWVzIHBvdXIgbGVzIGNoZWNrYm94ZXNcbiAgICAgIHNlbGVjdGVkTmF2UGFnZXMgPSAoZGF0YS5uYXYgfHwgW10pLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgdXJsOiBub3JtYWxpemVOYXZQYWdlVXJsKGl0ZW0udXJsKSxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gQ2hhcmdlciBsZXMgcGFnZXMgZXQgYWZmaWNoZXIgbGVzIGNoZWNrYm94ZXNcbiAgICAgIGF3YWl0IGxvYWRTaXRlUGFnZXNGb3JIZWFkZXIoKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmxvZ28/LnNyYyB8fCBkYXRhLm5hdj8ubGVuZ3RoID4gMCB8fCBkYXRhLmN0YT8udGV4dDtcbiAgICAgIGlmIChoZWFkZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgaGVhZGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGhlYWRlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhlYWRlclNhdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICBoZWFkZXJTYXZlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGhlYWRlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZW1lbnQuLi4nO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGNvbGxlY3RIZWFkZXJEYXRhKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bGF5b3V0QXBpQmFzZX0vaGVhZGVyYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgaGVhZGVyRGF0YSA9IGRhdGE7XG4gICAgICAgIHBvcHVsYXRlSGVhZGVyRm9ybShkYXRhKTtcbiAgICAgICAgc2hvd1RvYXN0KCdIZWFkZXIgZW5yZWdpc3RyXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2hlYWRlcl0gc2F2ZSBlcnJvcicsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBoZWFkZXJTYXZlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGhlYWRlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAgIC8vIEZPT1RFUiBGVU5DVElPTlNcbiAgICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgICBjb25zdCBhZGRGb290ZXJMaW5rID0gKGNvbnRhaW5lciwgbGFiZWwgPSAnJywgdXJsID0gJycpID0+IHtcbiAgICAgIGlmICghZm9vdGVyTGlua1RlbXBsYXRlIHx8ICFjb250YWluZXIpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsb25lID0gZm9vdGVyTGlua1RlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgY29uc3QgaXRlbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlci1saW5rXScpO1xuICAgICAgY29uc3QgbGFiZWxJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibGluay1sYWJlbFwiXScpO1xuICAgICAgY29uc3QgdXJsSW5wdXQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstdXJsXCJdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1saW5rLXJlbW92ZV0nKTtcbiAgICAgIGlmIChsYWJlbElucHV0KSBsYWJlbElucHV0LnZhbHVlID0gbGFiZWw7XG4gICAgICBpZiAodXJsSW5wdXQpIHVybElucHV0LnZhbHVlID0gdXJsO1xuICAgICAgcmVtb3ZlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGl0ZW0/LnJlbW92ZSgpKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBhZGRGb290ZXJDb2x1bW4gPSAodGl0bGUgPSAnJywgbGlua3MgPSBbXSkgPT4ge1xuICAgICAgaWYgKCFmb290ZXJDb2x1bW5UZW1wbGF0ZSB8fCAhZm9vdGVyQ29sdW1uc0xpc3QpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsb25lID0gZm9vdGVyQ29sdW1uVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCBjb2x1bW4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mb290ZXItY29sdW1uXScpO1xuICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiY29sdW1uLXRpdGxlXCJdJyk7XG4gICAgICBjb25zdCBsaW5rc0NvbnRhaW5lciA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbHVtbi1saW5rc10nKTtcbiAgICAgIGNvbnN0IGFkZExpbmtCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tbGluay1hZGRdJyk7XG4gICAgICBjb25zdCByZW1vdmVCdG4gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2x1bW4tcmVtb3ZlXScpO1xuICAgICAgaWYgKHRpdGxlSW5wdXQpIHRpdGxlSW5wdXQudmFsdWUgPSB0aXRsZTtcbiAgICAgIGxpbmtzLmZvckVhY2gobGluayA9PiBhZGRGb290ZXJMaW5rKGxpbmtzQ29udGFpbmVyLCBsaW5rLmxhYmVsLCBsaW5rLnVybCkpO1xuICAgICAgYWRkTGlua0J0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGb290ZXJMaW5rKGxpbmtzQ29udGFpbmVyKSk7XG4gICAgICByZW1vdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29sdW1uPy5yZW1vdmUoKSk7XG4gICAgICBmb290ZXJDb2x1bW5zTGlzdC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBjb2xsZWN0Rm9vdGVyRGF0YSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbnMgPSBbXTtcbiAgICAgIGZvb3RlckNvbHVtbnNMaXN0Py5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mb290ZXItY29sdW1uXScpLmZvckVhY2goY29sID0+IHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBjb2wucXVlcnlTZWxlY3RvcignW25hbWU9XCJjb2x1bW4tdGl0bGVcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgY29uc3QgbGlua3MgPSBbXTtcbiAgICAgICAgY29sLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZvb3Rlci1saW5rXScpLmZvckVhY2gobGlua0VsID0+IHtcbiAgICAgICAgICBjb25zdCBsYWJlbCA9IGxpbmtFbC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImxpbmstbGFiZWxcIl0nKT8udmFsdWU/LnRyaW0oKSB8fCAnJztcbiAgICAgICAgICBjb25zdCB1cmwgPSBsaW5rRWwucXVlcnlTZWxlY3RvcignW25hbWU9XCJsaW5rLXVybFwiXScpPy52YWx1ZT8udHJpbSgpIHx8ICcnO1xuICAgICAgICAgIGlmIChsYWJlbCB8fCB1cmwpIGxpbmtzLnB1c2goeyBsYWJlbCwgdXJsIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRpdGxlIHx8IGxpbmtzLmxlbmd0aCA+IDApIGNvbHVtbnMucHVzaCh7IHRpdGxlLCBsaW5rcyB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sdW1ucyxcbiAgICAgICAgc29jaWFsczoge1xuICAgICAgICAgIGxpbmtlZGluOiBmb290ZXJGaWVsZHMubGlua2VkaW4/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgdHdpdHRlcjogZm9vdGVyRmllbGRzLnR3aXR0ZXI/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgaW5zdGFncmFtOiBmb290ZXJGaWVsZHMuaW5zdGFncmFtPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICAgIGZhY2Vib29rOiBmb290ZXJGaWVsZHMuZmFjZWJvb2s/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgeW91dHViZTogZm9vdGVyRmllbGRzLnlvdXR1YmU/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgZ2l0aHViOiBmb290ZXJGaWVsZHMuZ2l0aHViPy52YWx1ZT8udHJpbSgpIHx8ICcnLFxuICAgICAgICB9LFxuICAgICAgICBjb3B5cmlnaHQ6IGZvb3RlckZpZWxkcy5jb3B5cmlnaHQ/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIGxlZ2FsOiB7XG4gICAgICAgICAgdXJsOiBmb290ZXJGaWVsZHMubGVnYWxVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgICAgcHJpdmFjeVVybDogZm9vdGVyRmllbGRzLnByaXZhY3lVcmw/LnZhbHVlPy50cmltKCkgfHwgJycsXG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYmc6IGZvb3RlckZpZWxkcy5iZz8udmFsdWUgfHwgJ2JnLXNsYXRlLTkwMCB0ZXh0LXdoaXRlJyxcbiAgICAgICAgICBjb2x1bW5zQ291bnQ6IGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQ/LnZhbHVlIHx8ICc0JyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBwb3B1bGF0ZUZvb3RlckZvcm0gPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmxpbmtlZGluKSBmb290ZXJGaWVsZHMubGlua2VkaW4udmFsdWUgPSBkYXRhLnNvY2lhbHM/LmxpbmtlZGluIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy50d2l0dGVyKSBmb290ZXJGaWVsZHMudHdpdHRlci52YWx1ZSA9IGRhdGEuc29jaWFscz8udHdpdHRlciB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuaW5zdGFncmFtKSBmb290ZXJGaWVsZHMuaW5zdGFncmFtLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5pbnN0YWdyYW0gfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmZhY2Vib29rKSBmb290ZXJGaWVsZHMuZmFjZWJvb2sudmFsdWUgPSBkYXRhLnNvY2lhbHM/LmZhY2Vib29rIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy55b3V0dWJlKSBmb290ZXJGaWVsZHMueW91dHViZS52YWx1ZSA9IGRhdGEuc29jaWFscz8ueW91dHViZSB8fCAnJztcbiAgICAgIGlmIChmb290ZXJGaWVsZHMuZ2l0aHViKSBmb290ZXJGaWVsZHMuZ2l0aHViLnZhbHVlID0gZGF0YS5zb2NpYWxzPy5naXRodWIgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmNvcHlyaWdodCkgZm9vdGVyRmllbGRzLmNvcHlyaWdodC52YWx1ZSA9IGRhdGEuY29weXJpZ2h0IHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5sZWdhbFVybCkgZm9vdGVyRmllbGRzLmxlZ2FsVXJsLnZhbHVlID0gZGF0YS5sZWdhbD8udXJsIHx8ICcnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5wcml2YWN5VXJsKSBmb290ZXJGaWVsZHMucHJpdmFjeVVybC52YWx1ZSA9IGRhdGEubGVnYWw/LnByaXZhY3lVcmwgfHwgJyc7XG4gICAgICBpZiAoZm9vdGVyRmllbGRzLmJnKSBmb290ZXJGaWVsZHMuYmcudmFsdWUgPSBkYXRhLnN0eWxlPy5iZyB8fCAnYmctc2xhdGUtOTAwIHRleHQtd2hpdGUnO1xuICAgICAgaWYgKGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQpIGZvb3RlckZpZWxkcy5jb2x1bW5zQ291bnQudmFsdWUgPSBkYXRhLnN0eWxlPy5jb2x1bW5zQ291bnQgfHwgJzQnO1xuICAgICAgLy8gUG9wdWxhdGUgY29sdW1uc1xuICAgICAgaWYgKGZvb3RlckNvbHVtbnNMaXN0KSBmb290ZXJDb2x1bW5zTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIChkYXRhLmNvbHVtbnMgfHwgW10pLmZvckVhY2goY29sID0+IGFkZEZvb3RlckNvbHVtbihjb2wudGl0bGUsIGNvbC5saW5rcykpO1xuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IGhhc0RhdGEgPSBkYXRhLmNvbHVtbnM/Lmxlbmd0aCA+IDAgfHwgZGF0YS5jb3B5cmlnaHQgfHwgT2JqZWN0LnZhbHVlcyhkYXRhLnNvY2lhbHMgfHwge30pLnNvbWUodiA9PiB2KTtcbiAgICAgIGlmIChmb290ZXJTdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgZm9vdGVyU3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC50b2dnbGUoJ2JnLWdyZWVuLTUwMCcsICEhaGFzRGF0YSk7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci5jbGFzc0xpc3QudG9nZ2xlKCdiZy1zbGF0ZS0zMDAnLCAhaGFzRGF0YSk7XG4gICAgICAgIGZvb3RlclN0YXR1c0luZGljYXRvci50aXRsZSA9IGhhc0RhdGEgPyAnQ29uZmlndXJcdTAwRTknIDogJ05vbiBjb25maWd1clx1MDBFOSc7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmb290ZXJDb2x1bW5BZGRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRm9vdGVyQ29sdW1uKCkpO1xuICAgIFxuICAgIGZvb3RlclNhdmVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICBmb290ZXJTYXZlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGZvb3RlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZW1lbnQuLi4nO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGNvbGxlY3RGb290ZXJEYXRhKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7bGF5b3V0QXBpQmFzZX0vZm9vdGVyYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTtcbiAgICAgICAgZm9vdGVyRGF0YSA9IGRhdGE7XG4gICAgICAgIHBvcHVsYXRlRm9vdGVyRm9ybShkYXRhKTtcbiAgICAgICAgc2hvd1RvYXN0KCdGb290ZXIgZW5yZWdpc3RyXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2Zvb3Rlcl0gc2F2ZSBlcnJvcicsIGVycik7XG4gICAgICAgIHNob3dUb2FzdCgnRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50JywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBmb290ZXJTYXZlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGZvb3RlclNhdmVCdG4udGV4dENvbnRlbnQgPSAnRW5yZWdpc3RyZXInO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIExvYWQgbGF5b3V0IGRhdGEgb24gaW5pdFxuICAgIGNvbnN0IGxvYWRMYXlvdXREYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFsYXlvdXRBcGlCYXNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGxheW91dEFwaUJhc2UsIHsgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBpZiAoZGF0YS5oZWFkZXIpIHtcbiAgICAgICAgICAgIGhlYWRlckRhdGEgPSBkYXRhLmhlYWRlcjtcbiAgICAgICAgICAgIHBvcHVsYXRlSGVhZGVyRm9ybShkYXRhLmhlYWRlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLmZvb3Rlcikge1xuICAgICAgICAgICAgZm9vdGVyRGF0YSA9IGRhdGEuZm9vdGVyO1xuICAgICAgICAgICAgcG9wdWxhdGVGb290ZXJGb3JtKGRhdGEuZm9vdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbGF5b3V0XSBsb2FkIGVycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgbGF5b3V0IGRhdGFcbiAgICBsb2FkTGF5b3V0RGF0YSgpO1xuICAgIFxuICAgIGNvbnN0IHNhZmVTaXRlU2x1Z1ZhbHVlID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgY29sbGVjdGlvbnNBcGlCYXNlID0gc2FmZVNpdGVTbHVnVmFsdWVcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnVmFsdWUpfS9jb2xsZWN0aW9uc2BcbiAgICAgIDogbnVsbDtcblxuICAgIGxldCBjb2xsZWN0aW9ucyA9IFtdO1xuICAgIGxldCBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICBsZXQgYWN0aXZlQ29sbGVjdGlvbklkID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICBsZXQgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICBsZXQgaXRlbVNsdWdNYW51YWxseUVkaXRlZCA9IGZhbHNlO1xuICAgIGxldCBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQgPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHJhdyA9ICh2YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCFyYXcpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgaWYgKHJhdyA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBjb25zdCBzZWdtZW50cyA9IHJhdy5yZXBsYWNlKC9eXFwvLywgJycpLnNwbGl0KCcvJyk7XG4gICAgICBjb25zdCBjbGVhbmVkU2VnbWVudHMgPSBzZWdtZW50c1xuICAgICAgICAubWFwKChzZWdtZW50KSA9PiB3b3Jrc3BhY2VTbHVnaWZ5KHNlZ21lbnQgfHwgJycpKVxuICAgICAgICAuZmlsdGVyKChzZWdtZW50KSA9PiBzZWdtZW50Lmxlbmd0aCA+IDApO1xuICAgICAgaWYgKCFjbGVhbmVkU2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBgLyR7Y2xlYW5lZFNlZ21lbnRzLmpvaW4oJy8nKX1gO1xuICAgIH07XG5cbiAgICBjb25zdCBmb3JtYXRJdGVtRGF0ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJ1x1MjAxNCc7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgaWYgKE51bWJlci5pc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicsIHsgZGF5OiAnMi1kaWdpdCcsIG1vbnRoOiAnc2hvcnQnLCB5ZWFyOiAnbnVtZXJpYycgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnMuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBhY3RpdmVDb2xsZWN0aW9uSWQpO1xuICAgICAgaWYgKGNvbGxlY3Rpb25UaXRsZSkge1xuICAgICAgICBjb2xsZWN0aW9uVGl0bGUudGV4dENvbnRlbnQgPSBjb2xsZWN0aW9uPy5uYW1lIHx8ICdTXHUwMEU5bGVjdGlvbm5leiB1bmUgY29sbGVjdGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGVjdGlvbkRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbGxlY3Rpb25EZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGNvbGxlY3Rpb24/LmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtc0VtcHR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5LnRleHRDb250ZW50ID1cbiAgICAgICAgbWVzc2FnZSB8fFxuICAgICAgICAoYWN0aXZlQ29sbGVjdGlvbklkXG4gICAgICAgICAgPyAnQXVjdW4gaXRlbSBkYW5zIGNldHRlIGNvbGxlY3Rpb24gcG91ciBsZSBtb21lbnQuJ1xuICAgICAgICAgIDogJ0Nob2lzaXNzZXogdW5lIGNvbGxlY3Rpb24gZGFucyBsZSBwYW5uZWF1IGRlIGdhdWNoZS4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGlkZUl0ZW1Gb3JtID0gKCkgPT4ge1xuICAgICAgaWYgKGl0ZW1Gb3JtKSB7XG4gICAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBpdGVtRm9ybS5kYXRhc2V0Lml0ZW1JZCA9ICcnO1xuICAgICAgfVxuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChpdGVtU3RhdHVzQmFkZ2UpIHtcbiAgICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGBoaWRkZW4gJHtzdGF0dXNCYWRnZUJhc2VDbGFzc31gO1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1QYW5lbFdpdGhWaWV3cG9ydCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93SXRlbUZvcm0gPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHN5bmNJdGVtUGFuZWxXaXRoVmlld3BvcnQoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3luY0FkZEJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtQWRkQnV0dG9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQgPSAhYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgaWYgKGl0ZW1BZGRCdXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgaXRlbUFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTYwJywgJ3BvaW50ZXItZXZlbnRzLW5vbmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW1BZGRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS02MCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHN5bmNJdGVtU3RhdHVzQmFkZ2UgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1TdGF0dXNCYWRnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXN0YXR1cykge1xuICAgICAgICBpdGVtU3RhdHVzQmFkZ2UuY2xhc3NOYW1lID0gYGhpZGRlbiAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfWA7XG4gICAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XG4gICAgICBsZXQgY29sb3JDbGFzcyA9ICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS02MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAnO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09ICdwdWJsaVx1MDBFOScgfHwgbm9ybWFsaXplZCA9PT0gJ3B1YmxpZScpIHtcbiAgICAgICAgY29sb3JDbGFzcyA9ICdiZy1lbWVyYWxkLTUwIHRleHQtZW1lcmFsZC03MDAgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTEwMCc7XG4gICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWQgPT09ICdicm91aWxsb24nKSB7XG4gICAgICAgIGNvbG9yQ2xhc3MgPSAnYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAgYm9yZGVyIGJvcmRlci1hbWJlci0xMDAnO1xuICAgICAgfVxuICAgICAgaXRlbVN0YXR1c0JhZGdlLmNsYXNzTmFtZSA9IGAke3N0YXR1c0JhZGdlQmFzZUNsYXNzfSAke2NvbG9yQ2xhc3N9YDtcbiAgICAgIGl0ZW1TdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IHN0YXR1cztcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyQ29sbGVjdGlvbkxpc3QgPSAoKSA9PiB7XG4gICAgICBjb2xsZWN0aW9uTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIC8vIFVwZGF0ZSBjb2xsZWN0aW9uIGNvdW50XG4gICAgICBpZiAoY29sbGVjdGlvbkNvdW50RWwpIGNvbGxlY3Rpb25Db3VudEVsLnRleHRDb250ZW50ID0gY29sbGVjdGlvbnMubGVuZ3RoO1xuICAgICAgaWYgKCFjb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2xsZWN0aW9uRW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBjb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gY29sbGVjdGlvbi5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLmRhdGFzZXQuY29sbGVjdGlvbklkID0gY29sbGVjdGlvbi5pZDtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFtcbiAgICAgICAgICAndy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYmctWyNGN0YwRkZdIGJvcmRlci1bIzlDNkJGRl0vNDAgdGV4dC1zbGF0ZS05MDAnXG4gICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMjAwIHRleHQtc2xhdGUtNzAwIGhvdmVyOmJvcmRlci1bIzlDNkJGRl0vNDAnLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+JHtjb2xsZWN0aW9uLm5hbWUgfHwgY29sbGVjdGlvbi5pZH08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPiR7Y29sbGVjdGlvbi5kZXNjcmlwdGlvbiB8fCAnJ308L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1bMTFweF0gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS00MDBcIj4ke2NvbGxlY3Rpb24udHlwZSB8fCAnJ308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBzZXRBY3RpdmVDb2xsZWN0aW9uKGNvbGxlY3Rpb24uaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29sbGVjdGlvbkxpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJJdGVtVGFibGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1UYWJsZUJvZHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbVRhYmxlQm9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghY29sbGVjdGlvbkl0ZW1zLmxlbmd0aCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoKTtcbiAgICAgICAgaXRlbVRhYmxlV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbGxlY3Rpb25JdGVtc0VtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1UYWJsZVdyYXBwZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY29sbGVjdGlvbkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgcm93LmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlkID09PSBhY3RpdmVJdGVtSWQgJiYgIWlzQ3JlYXRpbmdJdGVtO1xuICAgICAgICByb3cuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uIGZvY3VzLXdpdGhpbjpiZy1bI0Y3RjBGRl0vNzAgZm9jdXM6b3V0bGluZS1ub25lJyxcbiAgICAgICAgICBpc0FjdGl2ZSA/ICdiZy1bI0Y3RjBGRl0vNzAnIDogJ2hvdmVyOmJnLXNsYXRlLTUwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIHJvdy50YWJJbmRleCA9IDA7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbS5zdGF0dXMgfHwgJ0Jyb3VpbGxvbic7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdGF0dXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzQ2xhc3NlcyA9XG4gICAgICAgICAgbm9ybWFsaXplZCA9PT0gJ3B1YmxpXHUwMEU5JyB8fCBub3JtYWxpemVkID09PSAncHVibGllJ1xuICAgICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgICA6ICdiZy1hbWJlci01MCB0ZXh0LWFtYmVyLTcwMCBib3JkZXIgYm9yZGVyLWFtYmVyLTEwMCc7XG4gICAgICAgIHJvdy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj4ke2l0ZW0udGl0bGUgfHwgJ1NhbnMgdGl0cmUnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtpdGVtLnN1bW1hcnkgfHwgaXRlbS5leGNlcnB0IHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwXCI+JHtpdGVtLnNsdWcgfHwgJyd9PC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJweC00IHB5LTMgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCAke3N0YXR1c0NsYXNzZXN9XCI+XG4gICAgICAgICAgICAgICR7c3RhdHVzfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIGFsaWduLXRvcCB0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+JHtmb3JtYXRJdGVtRGF0ZShcbiAgICAgICAgICAgIGl0ZW0udXBkYXRlZEF0IHx8IGl0ZW0uY3JlYXRlZEF0LFxuICAgICAgICAgICl9PC90ZD5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICAgIHNlbGVjdEl0ZW0oaXRlbS5pZCk7XG4gICAgICAgIH07XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlbGVjdCk7XG4gICAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW1UYWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RJdGVtID0gKGl0ZW1JZCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb25JdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IGl0ZW1JZCk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlSXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICBpdGVtU2x1Z01hbnVhbGx5RWRpdGVkID0gdHJ1ZTtcbiAgICAgIHBvcHVsYXRlSXRlbUZvcm0oaXRlbSk7XG4gICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcG9wdWxhdGVJdGVtRm9ybSA9IChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWl0ZW1Gb3JtIHx8ICFpdGVtKSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzaG93SXRlbUZvcm0oKTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gaXRlbS5pZDtcbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy50aXRsZSkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZS52YWx1ZSA9IGl0ZW0udGl0bGUgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc2x1Zykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zbHVnLnZhbHVlID0gaXRlbS5zbHVnIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmV4Y2VycHQpIHtcbiAgICAgICAgaXRlbUZvcm1GaWVsZHMuZXhjZXJwdC52YWx1ZSA9IGl0ZW0uc3VtbWFyeSB8fCBpdGVtLmV4Y2VycHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY29udGVudCkge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5jb250ZW50LnZhbHVlID0gaXRlbS5jb250ZW50IHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLmltYWdlKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmltYWdlLnZhbHVlID0gaXRlbS5pbWFnZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5jdGFUZXh0KSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQudmFsdWUgPSBpdGVtLmN0YT8udGV4dCB8fCBpdGVtLmN0YVRleHQgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuY3RhVXJsKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLmN0YVVybC52YWx1ZSA9IGl0ZW0uY3RhPy51cmwgfHwgaXRlbS5jdGFVcmwgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbUZvcm1GaWVsZHMuc3RhdHVzKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSA9IGl0ZW0uc3RhdHVzIHx8ICdCcm91aWxsb24nO1xuICAgICAgfVxuICAgICAgc3luY0l0ZW1TdGF0dXNCYWRnZShpdGVtLnN0YXR1cyB8fCAnQnJvdWlsbG9uJyk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByZXBhcmVOZXdJdGVtRm9ybSA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbUZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSB0cnVlO1xuICAgICAgYWN0aXZlSXRlbUlkID0gbnVsbDtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIGl0ZW1Gb3JtLmRhdGFzZXQuaXRlbUlkID0gJyc7XG4gICAgICBpdGVtRm9ybS5yZXNldCgpO1xuICAgICAgaWYgKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cykge1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy5zdGF0dXMudmFsdWUgPSAnQnJvdWlsbG9uJztcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtRm9ybUZpZWxkcy5zbHVnKSB7XG4gICAgICAgIGl0ZW1Gb3JtRmllbGRzLnNsdWcudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIHN5bmNJdGVtU3RhdHVzQmFkZ2UoJ0Jyb3VpbGxvbicpO1xuICAgICAgc2hvd0l0ZW1Gb3JtKCk7XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbikge1xuICAgICAgICBpdGVtRGVsZXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGl0ZW1Gb3JtRmllbGRzLnRpdGxlPy5mb2N1cygpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb2xsZWN0SXRlbUZvcm1WYWx1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0aXRsZSA9IChpdGVtRm9ybUZpZWxkcy50aXRsZT8udmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHNsdWdJbnB1dCA9IChpdGVtRm9ybUZpZWxkcy5zbHVnPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IChpdGVtRm9ybUZpZWxkcy5leGNlcnB0Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgY29udGVudCA9IChpdGVtRm9ybUZpZWxkcy5jb250ZW50Py52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3QgaW1hZ2UgPSAoaXRlbUZvcm1GaWVsZHMuaW1hZ2U/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjdGFUZXh0ID0gKGl0ZW1Gb3JtRmllbGRzLmN0YVRleHQ/LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICBjb25zdCBjdGFVcmwgPSAoaXRlbUZvcm1GaWVsZHMuY3RhVXJsPy52YWx1ZSB8fCAnJykudHJpbSgpO1xuICAgICAgY29uc3Qgc3RhdHVzID0gaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy52YWx1ZSB8fCAnQnJvdWlsbG9uJztcbiAgICAgIFxuICAgICAgLy8gQnVpbGQgQ1RBIG9iamVjdCBvbmx5IGlmIGF0IGxlYXN0IG9uZSBmaWVsZCBpcyBmaWxsZWRcbiAgICAgIGNvbnN0IGN0YSA9IChjdGFUZXh0IHx8IGN0YVVybCkgPyB7IHRleHQ6IGN0YVRleHQsIHVybDogY3RhVXJsIH0gOiBudWxsO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgc2x1Zzogc2x1Z0lucHV0ID8gbm9ybWFsaXplSXRlbVNsdWdJbnB1dChzbHVnSW5wdXQpIDogbm9ybWFsaXplSXRlbVNsdWdJbnB1dCh0aXRsZSksXG4gICAgICAgIHN1bW1hcnksXG4gICAgICAgIGV4Y2VycHQ6IHN1bW1hcnksXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGltYWdlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIC4uLihjdGEgJiYgeyBjdGEgfSksXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRGb3JtU2F2aW5nU3RhdGUgPSAoaXNTYXZpbmcpID0+IHtcbiAgICAgIGlmIChpdGVtRm9ybVNhdmUpIHtcbiAgICAgICAgaXRlbUZvcm1TYXZlLmRpc2FibGVkID0gaXNTYXZpbmc7XG4gICAgICAgIGl0ZW1Gb3JtU2F2ZS50ZXh0Q29udGVudCA9IGlzU2F2aW5nID8gJ0VucmVnaXN0cmVtZW50XHUyMDI2JyA6ICdFbnJlZ2lzdHJlcic7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbURlbGV0ZUJ1dHRvbiAmJiAhaXNDcmVhdGluZ0l0ZW0gJiYgYWN0aXZlSXRlbUlkKSB7XG4gICAgICAgIGl0ZW1EZWxldGVCdXR0b24uZGlzYWJsZWQgPSBpc1NhdmluZztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb2xsZWN0aW9uSXRlbXMgPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zYCxcbiAgICAgICAgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY2hhcmdlciBsZXMgaXRlbXMuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YS5pdGVtcykgPyBkYXRhLml0ZW1zIDogW107XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEFjdGl2ZUNvbGxlY3Rpb24gPSBhc3luYyAoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uSWQ7XG4gICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgaXNDcmVhdGluZ0l0ZW0gPSBmYWxzZTtcbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIC8vIFN3aXRjaCB0byBjb2xsZWN0aW9uIHZpZXdcbiAgICAgIHNob3dDb250ZW50VmlldygnY29sbGVjdGlvbicpO1xuICAgICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgaGlkZUl0ZW1Gb3JtKCk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgdXBkYXRlSXRlbXNFbXB0eU1lc3NhZ2UoJ0NoYXJnZW1lbnQgZGVzIGl0ZW1zXHUyMDI2Jyk7XG4gICAgICBjb2xsZWN0aW9uSXRlbXNFbXB0eT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBpdGVtVGFibGVXcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IGF3YWl0IGZldGNoQ29sbGVjdGlvbkl0ZW1zKGNvbGxlY3Rpb25JZCk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgICBpZiAoIWNvbGxlY3Rpb25JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICB1cGRhdGVJdGVtc0VtcHR5TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIGl0ZW1zIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBpdGVtcy4nKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjcmVhdGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIHBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbnNBcGlCYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l0ZSBpbmNvbm51LicpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Y29sbGVjdGlvbnNBcGlCYXNlfS8ke2VuY29kZVVSSUNvbXBvbmVudChjb2xsZWN0aW9uSWQpfS9pdGVtc2AsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgY3JcdTAwRTllciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvbGxlY3Rpb25JdGVtID0gYXN5bmMgKGNvbGxlY3Rpb25JZCwgaXRlbUlkLCBwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25zQXBpQmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpdGUgaW5jb25udS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGAke2NvbGxlY3Rpb25zQXBpQmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQoY29sbGVjdGlvbklkKX0vaXRlbXMvJHtlbmNvZGVVUklDb21wb25lbnQoaXRlbUlkKX1gLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVDb2xsZWN0aW9uSXRlbSA9IGFzeW5jIChjb2xsZWN0aW9uSWQsIGl0ZW1JZCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXRlIGluY29ubnUuJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtjb2xsZWN0aW9uc0FwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbGxlY3Rpb25JZCl9L2l0ZW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1JZCl9YCxcbiAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIHN1cHByaW1lciBjZXQgaXRlbS4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZENvbGxlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uc0FwaUJhc2UpIHtcbiAgICAgICAgY29sbGVjdGlvbkVtcHR5U3RhdGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgc3luY0FkZEJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29sbGVjdGlvbnNBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBjb2xsZWN0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IFtdKTtcbiAgICAgICAgY29sbGVjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtdO1xuICAgICAgICByZW5kZXJDb2xsZWN0aW9uTGlzdCgpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGNvbGxlY3Rpb25zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlQ29sbGVjdGlvbklkKT8uaWRcbiAgICAgICAgICAgIHx8IGNvbGxlY3Rpb25zWzBdLmlkO1xuICAgICAgICAgIHNldEFjdGl2ZUNvbGxlY3Rpb24oZGVmYXVsdElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVDb2xsZWN0aW9uSWQgPSBudWxsO1xuICAgICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFtdO1xuICAgICAgICAgIHVwZGF0ZUNvbGxlY3Rpb25IZWFkZXIoKTtcbiAgICAgICAgICBzeW5jQWRkQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBsb2FkIGNvbGxlY3Rpb25zJywgZXJyKTtcbiAgICAgICAgc2hvd1RvYXN0KGVyci5tZXNzYWdlIHx8ICdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbGxlY3Rpb25zLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpdGVtQWRkQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogZFx1MjAxOWFib3JkIHVuZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVwYXJlTmV3SXRlbUZvcm0oKTtcbiAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1DYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIGlzQ3JlYXRpbmdJdGVtID0gZmFsc2U7XG4gICAgICAgIGFjdGl2ZUl0ZW1JZCA9IG51bGw7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICByZW5kZXJJdGVtVGFibGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICBjb25zdCBpdGVtID0gY29sbGVjdGlvbkl0ZW1zLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gYWN0aXZlSXRlbUlkKTtcbiAgICAgICAgcG9wdWxhdGVJdGVtRm9ybShpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc3RhdHVzPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBzeW5jSXRlbVN0YXR1c0JhZGdlKGl0ZW1Gb3JtRmllbGRzLnN0YXR1cy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtIHx8ICFpdGVtRm9ybUZpZWxkcy5zbHVnIHx8IGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUZvcm1GaWVsZHMuc2x1Zy52YWx1ZSA9IG5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQoaXRlbUZvcm1GaWVsZHMudGl0bGUudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm1GaWVsZHMuc2x1Zz8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpZiAoIWlzQ3JlYXRpbmdJdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1TbHVnTWFudWFsbHlFZGl0ZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgaXRlbUZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU1x1MDBFOWxlY3Rpb25uZXogdW5lIGNvbGxlY3Rpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbGxlY3RJdGVtRm9ybVZhbHVlcygpO1xuICAgICAgaWYgKCF2YWx1ZXMudGl0bGUpIHtcbiAgICAgICAgc2hvd1RvYXN0KCdMZSB0aXRyZSBlc3QgcmVxdWlzLicpO1xuICAgICAgICBpdGVtRm9ybUZpZWxkcy50aXRsZT8uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Rm9ybVNhdmluZ1N0YXRlKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNhdmVkSXRlbTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmdJdGVtIHx8ICFhY3RpdmVJdGVtSWQpIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCBjcmVhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIHZhbHVlcyk7XG4gICAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gWy4uLmNvbGxlY3Rpb25JdGVtcywgc2F2ZWRJdGVtXTtcbiAgICAgICAgICBzaG93VG9hc3QoJ0l0ZW0gY3JcdTAwRTlcdTAwRTknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlZEl0ZW0gPSBhd2FpdCB1cGRhdGVDb2xsZWN0aW9uSXRlbShhY3RpdmVDb2xsZWN0aW9uSWQsIGFjdGl2ZUl0ZW1JZCwgdmFsdWVzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uSXRlbXMgPSBjb2xsZWN0aW9uSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgICAgaXRlbS5pZCA9PT0gc2F2ZWRJdGVtLmlkID8gc2F2ZWRJdGVtIDogaXRlbSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3dUb2FzdCgnSXRlbSBtaXMgXHUwMEUwIGpvdXInKTtcbiAgICAgICAgfVxuICAgICAgICBpc0NyZWF0aW5nSXRlbSA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVJdGVtSWQgPSBzYXZlZEl0ZW0uaWQ7XG4gICAgICAgIHBvcHVsYXRlSXRlbUZvcm0oc2F2ZWRJdGVtKTtcbiAgICAgICAgcmVuZGVySXRlbVRhYmxlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2NvbnRlbnRdIHNhdmUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc2F1dmVnYXJkZXIgY2V0IGl0ZW0uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRGb3JtU2F2aW5nU3RhdGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGl0ZW1EZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlbkRlbGV0ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgaWYgKCFpdGVtRGVsZXRlTW9kYWwgfHwgIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZW5kaW5nRGVsZXRlSXRlbUlkID0gYWN0aXZlSXRlbUlkO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgaXRlbURlbGV0ZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICB9O1xuXG4gICAgaXRlbURlbGV0ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWFjdGl2ZUl0ZW1JZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcGVuRGVsZXRlTW9kYWwoKTtcbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDYW5jZWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgIH0pO1xuXG4gICAgaXRlbURlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaXRlbURlbGV0ZU1vZGFsKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0ZW1EZWxldGVDb25maXJtPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ0RlbGV0ZUl0ZW1JZCB8fCAhYWN0aXZlQ29sbGVjdGlvbklkKSB7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJlc3Npb25cdTIwMjYnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlQ29sbGVjdGlvbkl0ZW0oYWN0aXZlQ29sbGVjdGlvbklkLCBwZW5kaW5nRGVsZXRlSXRlbUlkKTtcbiAgICAgICAgY29sbGVjdGlvbkl0ZW1zID0gY29sbGVjdGlvbkl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gcGVuZGluZ0RlbGV0ZUl0ZW1JZCk7XG4gICAgICAgIGlmIChhY3RpdmVJdGVtSWQgPT09IHBlbmRpbmdEZWxldGVJdGVtSWQpIHtcbiAgICAgICAgICBhY3RpdmVJdGVtSWQgPSBudWxsO1xuICAgICAgICAgIGhpZGVJdGVtRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnSXRlbSBzdXBwcmltXHUwMEU5Jyk7XG4gICAgICAgIHJlbmRlckl0ZW1UYWJsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjb250ZW50XSBkZWxldGUgaXRlbSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNldCBpdGVtLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaXRlbURlbGV0ZUNvbmZpcm0udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXBkYXRlQ29sbGVjdGlvbkhlYWRlcigpO1xuICAgIHN5bmNBZGRCdXR0b25TdGF0ZSgpO1xuICAgIGxvYWRDb2xsZWN0aW9ucygpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdERlcGxveVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZvcm1dJyk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3RvY29sU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXByb3RvY29sXScpO1xuICAgIGNvbnN0IGhvc3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1ob3N0XScpO1xuICAgIGNvbnN0IHBvcnRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS1wb3J0XScpO1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWRlcGxveS11c2VyXScpO1xuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktcGFzc3dvcmRdJyk7XG4gICAgY29uc3Qgc2hvd1Bhc3N3b3JkVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXNob3ctcGFzc3dvcmRdJyk7XG4gICAgY29uc3QgcmVtb3RlUGF0aElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXJlbW90ZS1wYXRoXScpO1xuICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LWZlZWRiYWNrXScpO1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktc2F2ZV0nKTtcbiAgICBjb25zdCB0ZXN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRlc3RdJyk7XG4gICAgY29uc3QgZGVwbG95QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVwbG95LXRyaWdnZXJdJyk7XG4gICAgY29uc3QgaGlzdG9yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktaGlzdG9yeV0nKTtcbiAgICBjb25zdCBsb2dCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXBsb3ktbG9nXScpO1xuXG4gICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICk7XG4gICAgY29uc3QgZGVwbG95QXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3ktY29uZmlnYFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGRlcGxveVJ1bkFwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9kZXBsb3lgXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZGVwbG95TG9nQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2RlcGxveS1sb2dgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgaGFzUGFzc3dvcmQgPSBmYWxzZTtcbiAgICBsZXQgYnVzeUFjdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdCBzYW5pdGl6ZVJlbW90ZVBhdGggPSAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSAodmFsdWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJy93d3cnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyaW1tZWQuc3RhcnRzV2l0aCgnLycpID8gdHJpbW1lZCA6IGAvJHt0cmltbWVkfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWZlZWRiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQnO1xuICAgICAgY29uc3QgdG9uZUNsYXNzID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAnYmctZW1lcmFsZC01MCB0ZXh0LWVtZXJhbGQtNzAwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAnXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/ICdiZy1yb3NlLTUwIHRleHQtcm9zZS03MDAgYm9yZGVyIGJvcmRlci1yb3NlLTEwMCdcbiAgICAgICAgICAgIDogJ2JnLXNsYXRlLTUwIHRleHQtc2xhdGUtNjAwIGJvcmRlciBib3JkZXItc2xhdGUtMTAwJztcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBmZWVkYmFjay5jbGFzc05hbWUgPSAndGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGljb24gPSB0b25lID09PSAnc3VjY2VzcycgPyAnXHUyNzA1JyA6IHRvbmUgPT09ICdlcnJvcicgPyAnXHUyNzRDJyA6ICdcdTIxMzlcdUZFMEYnO1xuICAgICAgZmVlZGJhY2suaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtiYXNlQ2xhc3N9ICR7dG9uZUNsYXNzfVwiPiR7aWNvbn08c3Bhbj4ke21lc3NhZ2V9PC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgZmVlZGJhY2suY2xhc3NOYW1lID0gJ3RleHQtc20nO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXRCdXN5ID0gKGFjdGlvbiA9IG51bGwpID0+IHtcbiAgICAgIGJ1c3lBY3Rpb24gPSBhY3Rpb247XG4gICAgICBjb25zdCBkaXNhYmxlID0gQm9vbGVhbihhY3Rpb24pO1xuICAgICAgY29uc3Qgc3Bpbm5lciA9XG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+PHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD48L3N2Zz4nO1xuICAgICAgaWYgKHNhdmVCdXR0b24pIHtcbiAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIHNhdmVCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdzYXZlJ1xuICAgICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj4ke3NwaW5uZXJ9PHNwYW4+RW5yZWdpc3RyZW1lbnRcdTIwMjY8L3NwYW4+PC9zcGFuPmBcbiAgICAgICAgICAgIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIH1cbiAgICAgIGlmICh0ZXN0QnV0dG9uKSB7XG4gICAgICAgIHRlc3RCdXR0b24uZGlzYWJsZWQgPSBkaXNhYmxlO1xuICAgICAgICB0ZXN0QnV0dG9uLmlubmVySFRNTCA9XG4gICAgICAgICAgYWN0aW9uID09PSAndGVzdCdcbiAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PHNwYW4gY2xhc3M9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCBib3JkZXItdC1zbGF0ZS02MDBcIj48L3NwYW4+PHNwYW4+VGVzdCBlbiBjb3Vyc1x1MjAyNjwvc3Bhbj48L3NwYW4+YFxuICAgICAgICAgICAgOiAnVGVzdGVyIGxhIGNvbm5leGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoZGVwbG95QnV0dG9uKSB7XG4gICAgICAgIGRlcGxveUJ1dHRvbi5kaXNhYmxlZCA9IGRpc2FibGUgJiYgYWN0aW9uICE9PSBudWxsO1xuICAgICAgICBkZXBsb3lCdXR0b24uaW5uZXJIVE1MID1cbiAgICAgICAgICBhY3Rpb24gPT09ICdkZXBsb3knXG4gICAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxzcGFuIGNsYXNzPVwiaC00IHctNCBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZS82MCBib3JkZXItdC13aGl0ZVwiPjwvc3Bhbj48c3Bhbj5EXHUwMEU5cGxvaWVtZW50XHUyMDI2PC9zcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICA6ICdEXHUwMEU5cGxveWVyIG1haW50ZW5hbnQnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwb3B1bGF0ZUZvcm0gPSAoY29uZmlnKSA9PiB7XG4gICAgICBwcm90b2NvbFNlbGVjdCAmJiAocHJvdG9jb2xTZWxlY3QudmFsdWUgPSBjb25maWcucHJvdG9jb2wgfHwgJ3NmdHAnKTtcbiAgICAgIGhvc3RJbnB1dCAmJiAoaG9zdElucHV0LnZhbHVlID0gY29uZmlnLmhvc3QgfHwgJycpO1xuICAgICAgcG9ydElucHV0ICYmIChwb3J0SW5wdXQudmFsdWUgPSBjb25maWcucG9ydCB8fCAnJyk7XG4gICAgICB1c2VySW5wdXQgJiYgKHVzZXJJbnB1dC52YWx1ZSA9IGNvbmZpZy51c2VyIHx8ICcnKTtcbiAgICAgIHJlbW90ZVBhdGhJbnB1dCAmJiAocmVtb3RlUGF0aElucHV0LnZhbHVlID0gY29uZmlnLnJlbW90ZVBhdGggfHwgJy93d3cnKTtcbiAgICAgIGhhc1Bhc3N3b3JkID0gQm9vbGVhbihjb25maWcuaGFzUGFzc3dvcmQpO1xuICAgICAgaWYgKHBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBwYXNzd29yZElucHV0LnBsYWNlaG9sZGVyID0gaGFzUGFzc3dvcmQgPyAnTm9uIGFmZmljaFx1MDBFOScgOiAnTW90IGRlIHBhc3NlJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVySGlzdG9yeSA9IChlbnRyaWVzID0gW10pID0+IHtcbiAgICAgIGlmICghaGlzdG9yeUxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGlzdG9yeUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSAnQXVjdW4gZFx1MDBFOXBsb2llbWVudCBwb3VyIGxlIG1vbWVudC4nO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc05hbWUgPVxuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC0zIHB5LTInO1xuICAgICAgICBjb25zdCBzdGF0dXNCYWRnZSA9XG4gICAgICAgICAgZW50cnkuc3RhdHVzID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLWVtZXJhbGQtNTAgcHgtMiBweS0wLjUgdGV4dC1bMTFweF0gZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNzAwXCI+U3VjY1x1MDBFOHM8L3NwYW4+J1xuICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJyb3VuZGVkLWZ1bGwgYmctcm9zZS01MCBweC0yIHB5LTAuNSB0ZXh0LVsxMXB4XSBmb250LXNlbWlib2xkIHRleHQtcm9zZS03MDBcIj5cdTAwQzljaGVjPC9zcGFuPic7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBlbnRyeS5maW5pc2hlZEF0IHx8IGVudHJ5LnN0YXJ0ZWRBdCB8fCAnJztcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPVxuICAgICAgICAgIGVudHJ5LmR1cmF0aW9uTXMgJiYgTnVtYmVyKGVudHJ5LmR1cmF0aW9uTXMpID49IDBcbiAgICAgICAgICAgID8gYCR7TWF0aC5yb3VuZChOdW1iZXIoZW50cnkuZHVyYXRpb25NcykgLyAxMDAwKX1zYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgbGkuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPiR7c3RhdHVzQmFkZ2V9PHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+JHtkYXRlfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTgwMFwiPiR7ZW50cnkubWVzc2FnZSB8fCAnJ308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj4ke2R1cmF0aW9ufTwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBsaS5kYXRhc2V0LmRlcGxveUlkID0gZW50cnkuaWQgfHwgJyc7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChlbnRyeS5sb2dzICYmIGxvZ0JveCkge1xuICAgICAgICAgICAgbG9nQm94LnRleHRDb250ZW50ID0gZW50cnkubG9ncy5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5TGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyTG9ncyA9IChsaW5lcyA9IFtdKSA9PiB7XG4gICAgICBpZiAoIWxvZ0JveCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dCb3gudGV4dENvbnRlbnQgPSBsaW5lcy5sZW5ndGggPyBsaW5lcy5qb2luKCdcXG4nKSA6ICdBdWN1biBsb2cgcG91ciBsZSBtb21lbnQuJztcbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFkZXBsb3lMb2dBcGkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lMb2dBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICByZW5kZXJIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbFx1MjAxOWhpc3RvcmlxdWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5lbnRyaWVzKSA/IHBheWxvYWQuZW50cmllcyA6IFtdO1xuICAgICAgICByZW5kZXJIaXN0b3J5KGVudHJpZXMpO1xuICAgICAgICBpZiAoZW50cmllc1swXT8ubG9ncykge1xuICAgICAgICAgIHJlbmRlckxvZ3MoZW50cmllc1swXS5sb2dzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGhpc3RvcnkgZmFpbGVkJywgZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmV0Y2hDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCdsb2FkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGRlcGxveUFwaUJhc2UsIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBwb3B1bGF0ZUZvcm0ocGF5bG9hZCB8fCB7fSk7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbmZpZ3VyYXRpb24gY2hhcmdcdTAwRTllLicsICdtdXRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcHVsYXRlRm9ybShwYXlsb2FkIHx8IHt9KTtcbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ0NvbmZpZ3VyYXRpb24gcGFyIGRcdTAwRTlmYXV0IGNoYXJnXHUwMEU5ZS4nLCAnbXV0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIGxvYWQgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBidWlsZFBheWxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBwcm90b2NvbDogcHJvdG9jb2xTZWxlY3Q/LnZhbHVlIHx8ICdzZnRwJyxcbiAgICAgICAgaG9zdDogaG9zdElucHV0Py52YWx1ZS50cmltKCkgfHwgJycsXG4gICAgICAgIHBvcnQ6IE51bWJlcihwb3J0SW5wdXQ/LnZhbHVlKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHVzZXI6IHVzZXJJbnB1dD8udmFsdWUudHJpbSgpIHx8ICcnLFxuICAgICAgICByZW1vdGVQYXRoOiBzYW5pdGl6ZVJlbW90ZVBhdGgocmVtb3RlUGF0aElucHV0Py52YWx1ZSB8fCAnL3d3dycpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHB3ZCA9IHBhc3N3b3JkSW5wdXQ/LnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKHB3ZC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXlsb2FkLnBhc3N3b3JkID0gcHdkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFkZXBsb3lBcGlCYXNlKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkUGF5bG9hZCgpO1xuICAgICAgc2V0QnVzeSgnc2F2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXBsb3lBcGlCYXNlLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGF5bG9hZC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHBvcHVsYXRlRm9ybShzYXZlZCB8fCB7fSk7XG4gICAgICAgIHNldEZlZWRiYWNrKCdDb25maWd1cmF0aW9uIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdDb25maWd1cmF0aW9uIGRcdTAwRTlwbG9pZW1lbnQgc2F1dmVnYXJkXHUwMEU5ZScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHNhdmUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRlcGxveUFwaUJhc2UpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBwYXlsb2FkID0gYnVpbGRQYXlsb2FkKCk7XG4gICAgICBpZiAoIXBheWxvYWQuaG9zdCB8fCAhcGF5bG9hZC51c2VyIHx8ICFwYXlsb2FkLnJlbW90ZVBhdGgpIHtcbiAgICAgICAgc2V0RmVlZGJhY2soJ1JlbXBsaXNzZXogbGVzIGNoYW1wcyByZXF1aXMgYXZhbnQgZGUgdGVzdGVyLicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCdXN5KCd0ZXN0Jyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2RlcGxveUFwaUJhc2V9L3Rlc3RgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25uZXhpb24gT0suJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgc2hvd1RvYXN0KCdUZXN0IGRlIGNvbm5leGlvbiByXHUwMEU5dXNzaScpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZXBsb3ldIHRlc3QgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ1Rlc3QgZGUgY29ubmV4aW9uIFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVwbG95QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZGVwbG95UnVuQXBpKSB7XG4gICAgICAgIHNldEZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmIHNcdTAwRTlsZWN0aW9ublx1MDBFOS4nLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QnVzeSgnZGVwbG95Jyk7XG4gICAgICByZW5kZXJMb2dzKFsnRFx1MDBFOXBsb2llbWVudCBlbiBjb3Vyc1x1MjAyNiddKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZGVwbG95UnVuQXBpLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYnVpbGRQYXlsb2FkKCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBzZXRGZWVkYmFjaygnQVBJIGRcdTAwRTlwbG9pZW1lbnQgaW5kaXNwb25pYmxlIChyZWRcdTAwRTltYXJyZSBsZSBzZXJ2ZXVyKS4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJlbmRlckxvZ3MoWydBUEkgZFx1MDBFOXBsb2llbWVudCBpbmRpc3BvbmlibGUgKHJlZFx1MDBFOW1hcnJlIGxlIHNlcnZldXIpLiddKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyTG9ncyhyZXN1bHQubG9ncyB8fCBbXSk7XG4gICAgICAgIGF3YWl0IGZldGNoSGlzdG9yeSgpO1xuICAgICAgICBzaG93VG9hc3QoJ0RcdTAwRTlwbG9pZW1lbnQgdGVybWluXHUwMEU5Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2RlcGxveV0gcnVuIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNldEZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdEXHUwMEU5cGxvaWVtZW50IFx1MDBFOWNob3VcdTAwRTkuJywgJ2Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRCdXN5KG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2hvd1Bhc3N3b3JkVG9nZ2xlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoIXBhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFzc3dvcmRJbnB1dC50eXBlID0gc2hvd1Bhc3N3b3JkVG9nZ2xlLmNoZWNrZWQgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgIH0pO1xuXG4gICAgLy8gRG93bmxvYWQgYnVpbGQgYXMgWklQXG4gICAgY29uc3QgZG93bmxvYWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kb3dubG9hZC1idWlsZF0nKTtcbiAgICBjb25zdCBkb3dubG9hZEZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZG93bmxvYWQtZmVlZGJhY2tdJyk7XG4gICAgY29uc3QgZG93bmxvYWRBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vZG93bmxvYWRgXG4gICAgICA6IG51bGw7XG5cbiAgICBjb25zdCBzZXREb3dubG9hZEZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICBpZiAoIWRvd25sb2FkRmVlZGJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICBkb3dubG9hZEZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgIGRvd25sb2FkRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgIH07XG5cbiAgICBkb3dubG9hZEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWRvd25sb2FkQXBpKSB7XG4gICAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkb3dubG9hZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBjb25zdCBvcmlnaW5hbENvbnRlbnQgPSBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUw7XG4gICAgICBkb3dubG9hZEJ1dHRvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI0XCI+PC9jaXJjbGU+XG4gICAgICAgICAgPHBhdGggY2xhc3M9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOHY0YTQgNCAwIDAwLTQgNEg0elwiPjwvcGF0aD5cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIDxzcGFuPkJ1aWxkIGVuIGNvdXJzLi4uPC9zcGFuPlxuICAgICAgYDtcbiAgICAgIHNldERvd25sb2FkRmVlZGJhY2soJ0dcdTAwRTluXHUwMEU5cmF0aW9uIGR1IGJ1aWxkIGVuIGNvdXJzLi4uJywgJ211dGVkJyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZG93bmxvYWRBcGkpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBnXHUwMEU5blx1MDBFOXJlciBsZSBaSVAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVFx1MDBFOWxcdTAwRTljaGFyZ2VyIGxlIGZpY2hpZXJcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgYS5kb3dubG9hZCA9IGAke3NhZmVTaXRlU2x1Z30tYnVpbGQuemlwYDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgYS5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICBzZXREb3dubG9hZEZlZWRiYWNrKCdUXHUwMEU5bFx1MDBFOWNoYXJnZW1lbnQgdGVybWluXHUwMEU5ICEnLCAnc3VjY2VzcycpO1xuICAgICAgICBzaG93VG9hc3QoJ0J1aWxkIHRcdTAwRTlsXHUwMEU5Y2hhcmdcdTAwRTkgYXZlYyBzdWNjXHUwMEU4cycpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkb3dubG9hZF0gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgc2V0RG93bmxvYWRGZWVkYmFjayhlcnIubWVzc2FnZSB8fCAnRXJyZXVyIGxvcnMgZHUgdFx1MDBFOWxcdTAwRTljaGFyZ2VtZW50LicsICdlcnJvcicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZG93bmxvYWRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZG93bmxvYWRCdXR0b24uaW5uZXJIVE1MID0gb3JpZ2luYWxDb250ZW50O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZmV0Y2hDb25maWcoKTtcbiAgICBmZXRjaEhpc3RvcnkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTZXR0aW5nc1dvcmtzcGFjZSgpIHtcbiAgICBjb25zdCB0YWJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2V0dGluZ3MtdGFiXScpO1xuICAgIGNvbnN0IHRhYlBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzLXBhbmVsXScpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1mb3JtXScpO1xuICAgIGNvbnN0IHNpdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1jb25maWctZm9ybV0nKTtcbiAgICBjb25zdCBzaXRlRmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWNvbmZpZy1mZWVkYmFja10nKTtcbiAgICBjb25zdCB0aGVtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mb3JtXScpO1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChuYW1lKSA9PiB7XG4gICAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiID09PSBuYW1lO1xuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgaXNBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ2JnLVsjOUM2QkZGXScsIGlzQWN0aXZlKTtcbiAgICAgICAgYnRuLmNsYXNzTGlzdC50b2dnbGUoJ3RleHQtd2hpdGUnLCBpc0FjdGl2ZSk7XG4gICAgICB9KTtcbiAgICAgIHRhYlBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBwYW5lbC5kYXRhc2V0LnNldHRpbmdzUGFuZWwgIT09IG5hbWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc3dpdGNoVGFiKGJ0bi5kYXRhc2V0LnNldHRpbmdzVGFiIHx8ICdhY2NvdW50JykpO1xuICAgIH0pO1xuICAgIHN3aXRjaFRhYignYWNjb3VudCcpO1xuXG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICAvLyBzdGlsbCBhbGxvdyBzaXRlIGZvcm0gZXZlbiBpZiBwYXNzd29yZCBmb3JtIGFic2VudFxuICAgIH1cbiAgICBpZiAoZm9ybSkge1xuICAgICAgY29uc3QgZmVlZGJhY2sgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFkbWluLXBhc3N3b3JkLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc3VibWl0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hZG1pbi1wYXNzd29yZC1zdWJtaXRdJyk7XG4gICAgICBjb25zdCBzZXRGZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIWZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBmZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhc3N3b3JkID0gZm9ybURhdGEuZ2V0KCdjdXJyZW50UGFzc3dvcmQnKSB8fCAnJztcbiAgICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ25ld1Bhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGNvbnN0IGNvbmZpcm1QYXNzd29yZCA9IGZvcm1EYXRhLmdldCgnY29uZmlybVBhc3N3b3JkJykgfHwgJyc7XG4gICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkIHx8ICFuZXdQYXNzd29yZCB8fCAhY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgc2V0RmVlZGJhY2soJ0NvbXBsXHUwMEU4dGUgdG91cyBsZXMgY2hhbXBzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdWJtaXQgJiYgKHN1Ym1pdC5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGN1cnJlbnRQYXNzd29yZCwgbmV3UGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcGF5bG9hZC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBheWxvYWQubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMEUwIGpvdXIgbGUgbW90IGRlIHBhc3NlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRGZWVkYmFjayhwYXlsb2FkLm1lc3NhZ2UgfHwgJ01vdCBkZSBwYXNzZSBtaXMgXHUwMEUwIGpvdXIuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gY2hhbmdlIHBhc3N3b3JkIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2UgXHUwMEUwIGpvdXIuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc3VibWl0ICYmIChzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzaXRlRm9ybSkge1xuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1uYW1lXScpO1xuICAgICAgY29uc3QgbGFuZ1NlbGVjdCA9IHNpdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbGFuZ3VhZ2VdJyk7XG4gICAgICBjb25zdCB0YWdsaW5lSW5wdXQgPSBzaXRlRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLXRhZ2xpbmVdJyk7XG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2l0ZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1zYXZlXScpO1xuICAgICAgY29uc3Qgc2V0U2l0ZUZlZWRiYWNrID0gKG1lc3NhZ2UsIHRvbmUgPSAnbXV0ZWQnKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzaXRlRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBzaXRlRmVlZGJhY2suY2xhc3NOYW1lID0gYHRleHQtc20gJHtjb2xvcn1gO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2FmZVNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goXG4gICAgICAgIHdvcmtzcGFjZUNvbnRleHQ/LnNsdWdWYWx1ZSB8fCBzdG9yZWRTaXRlLnNsdWcgfHwgJycsXG4gICAgICApO1xuICAgICAgY29uc3Qgc2l0ZUNvbmZpZ0FwaSA9IHNhZmVTaXRlU2x1Z1xuICAgICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Zyl9L2NvbmZpZy9zaXRlYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGxvYWRTaXRlQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChuYW1lSW5wdXQpIG5hbWVJbnB1dC52YWx1ZSA9IHBheWxvYWQubmFtZSB8fCAnJztcbiAgICAgICAgICBpZiAobGFuZ1NlbGVjdCkgbGFuZ1NlbGVjdC52YWx1ZSA9IHBheWxvYWQubGFuZ3VhZ2UgfHwgJ2ZyJztcbiAgICAgICAgICBpZiAodGFnbGluZUlucHV0KSB0YWdsaW5lSW5wdXQudmFsdWUgPSBwYXlsb2FkLnRhZ2xpbmUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBzaXRlIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzaXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5hbWVJbnB1dD8udmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKCdOb20gcmVxdWlzLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzYXZlQnV0dG9uICYmIChzYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldFNpdGVGZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ1NlbGVjdD8udmFsdWUgfHwgJ2ZyJyxcbiAgICAgICAgICAgIHRhZ2xpbmU6IHRhZ2xpbmVJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8IHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdTYXV2ZWdhcmRlIGltcG9zc2libGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpdGVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnUGFyYW1cdTAwRTh0cmVzIGVucmVnaXN0clx1MDBFOXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIHNpdGUgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0U2l0ZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNhdmVCdXR0b24gJiYgKHNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2l0ZUNvbmZpZygpO1xuICAgIH1cblxuICAgIGlmICh0aGVtZUZvcm0pIHtcbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRoZW1lQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3RoZW1lYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IGNvbG9yU2VsZWN0cyA9IHtcbiAgICAgICAgcHJpbWFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXByaW1hcnldJyksXG4gICAgICAgIHNlY29uZGFyeTogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXNlY29uZGFyeV0nKSxcbiAgICAgICAgYWNjZW50OiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYWNjZW50XScpLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYmFja2dyb3VuZF0nKSxcbiAgICAgICAgdGV4dDogdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXRleHRdJyksXG4gICAgICB9O1xuICAgICAgY29uc3QgaGVhZGluZ1NlbGVjdCA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1oZWFkaW5nc10nKTtcbiAgICAgIGNvbnN0IGJvZHlTZWxlY3QgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtYm9keV0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c1NtYWxsID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLXJhZGl1cy1zbWFsbF0nKTtcbiAgICAgIGNvbnN0IHJhZGl1c01lZGl1bSA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1yYWRpdXMtbWVkaXVtXScpO1xuICAgICAgY29uc3QgcmFkaXVzTGFyZ2UgPSB0aGVtZUZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtdGhlbWUtcmFkaXVzLWxhcmdlXScpO1xuICAgICAgY29uc3QgcHJldmlldyA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1wcmV2aWV3XScpO1xuICAgICAgY29uc3QgdGhlbWVGZWVkYmFjayA9IHRoZW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10aGVtZS1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFwcGx5QnV0dG9uID0gdGhlbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWFwcGx5XScpO1xuICAgICAgY29uc3QgdGFpbHdpbmRCYXNlTWFwID0ge1xuICAgICAgICBzbGF0ZTonI2UyZThmMCcsZ3JheTonI2QxZDVkYicsemluYzonI2Q0ZDRkOCcsbmV1dHJhbDonI2Q0ZDRkNCcsc3RvbmU6JyNkNmQzZDEnLFxuICAgICAgICByZWQ6JyNlZjQ0NDQnLG9yYW5nZTonI2Y5NzMxNicsYW1iZXI6JyNmNTllMGInLHllbGxvdzonI2VhYjMwOCcsbGltZTonIzg0Y2MxNicsXG4gICAgICAgIGdyZWVuOicjMjJjNTVlJyxlbWVyYWxkOicjMTBiOTgxJyx0ZWFsOicjMTRiOGE2JyxjeWFuOicjMDZiNmQ0Jyxza3k6JyMwZWE1ZTknLFxuICAgICAgICBibHVlOicjM2I4MmY2JyxpbmRpZ286JyM2MzY2ZjEnLHZpb2xldDonIzhiNWNmNicscHVycGxlOicjYTg1NWY3JyxmdWNoc2lhOicjZDk0NmVmJyxcbiAgICAgICAgcGluazonI2VjNDg5OScscm9zZTonI2Y0M2Y1ZSdcbiAgICAgIH07XG4gICAgICBjb25zdCB0YWlsd2luZFRva2VuVG9IZXggPSAodG9rZW4pID0+IHtcbiAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gJ3doaXRlJykgcmV0dXJuICcjZmZmZmZmJztcbiAgICAgICAgaWYgKHRva2VuID09PSAnYmxhY2snKSByZXR1cm4gJyMwMDAwMDAnO1xuICAgICAgICBpZiAodG9rZW4gPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiAndHJhbnNwYXJlbnQnO1xuICAgICAgICBjb25zdCBbaCxzXSA9IHRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgIGlmICghaCB8fCAhcykgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGJhc2UgPSB0YWlsd2luZEJhc2VNYXBbaF07XG4gICAgICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHNoYWRlTnVtID0gTnVtYmVyKHMpIHx8IDUwMDtcbiAgICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5taW4oTWF0aC5tYXgoKHNoYWRlTnVtIC0gNTApIC8gOTAwLCAwKSwgMSk7XG4gICAgICAgIGNvbnN0IHRvUmdiID0gKGhleCkgPT5cbiAgICAgICAgICBoZXhcbiAgICAgICAgICAgIC5yZXBsYWNlKCcjJywgJycpXG4gICAgICAgICAgICAubWF0Y2goL1tBLUZhLWYwLTldezJ9L2cpXG4gICAgICAgICAgICAubWFwKCh2KSA9PiBwYXJzZUludCh2LCAxNikpO1xuICAgICAgICBjb25zdCBbciwgZywgYl0gPSB0b1JnYihiYXNlKTtcbiAgICAgICAgY29uc3QgbWl4ID0gKHYpID0+IE1hdGgucm91bmQoMjU1IC0gKDI1NSAtIHYpICogZmFjdG9yKTtcbiAgICAgICAgcmV0dXJuIGByZ2IoJHttaXgocil9LCAke21peChnKX0sICR7bWl4KGIpfSlgO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHRhaWx3aW5kSHVlcyA9IFtcbiAgICAgICAgJ3NsYXRlJywnZ3JheScsJ3ppbmMnLCduZXV0cmFsJywnc3RvbmUnLCdyZWQnLCdvcmFuZ2UnLCdhbWJlcicsJ3llbGxvdycsJ2xpbWUnLCdncmVlbicsJ2VtZXJhbGQnLCd0ZWFsJywnY3lhbicsJ3NreScsJ2JsdWUnLCdpbmRpZ28nLCd2aW9sZXQnLCdwdXJwbGUnLCdmdWNoc2lhJywncGluaycsJ3Jvc2UnXG4gICAgICBdO1xuICAgICAgY29uc3QgdGFpbHdpbmRTaGFkZXMgPSBbJzUwJywnMTAwJywnMjAwJywnMzAwJywnNDAwJywnNTAwJywnNjAwJywnNzAwJywnODAwJywnOTAwJ107XG4gICAgICBjb25zdCB0YWlsd2luZFRva2VucyA9IHRhaWx3aW5kSHVlcy5mbGF0TWFwKChoKT0+dGFpbHdpbmRTaGFkZXMubWFwKChzKT0+YCR7aH0tJHtzfWApKTtcblxuICAgICAgY29uc3QgbmV1dHJhbFRva2VucyA9IFtcbiAgICAgICAgeyB2YWx1ZTogJ3doaXRlJywgbGFiZWw6ICdCbGFuYycsIGNvbG9yOiAnI2ZmZmZmZicsIGVtb2ppOiAnXHUyQjFDJyB9LFxuICAgICAgICB7IHZhbHVlOiAndHJhbnNwYXJlbnQnLCBsYWJlbDogJ1RyYW5zcGFyZW50JywgY29sb3I6ICd0cmFuc3BhcmVudCcsIGVtb2ppOiAnXHUyQjFDJyB9LFxuICAgICAgICB7IHZhbHVlOiAnYmxhY2snLCBsYWJlbDogJ05vaXInLCBjb2xvcjogJyMwMDAwMDAnLCBlbW9qaTogJ1x1MkIxQicgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IGNvbG9yT3B0aW9uRGVmaW5pdGlvbnMgPSAoKCkgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gW107XG4gICAgICAgIG5ldXRyYWxUb2tlbnMuZm9yRWFjaCgoeyB2YWx1ZSwgbGFiZWwsIGNvbG9yLCBlbW9qaSB9KSA9PiB7XG4gICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbGFiZWw6IGAke2Vtb2ppfSAke2xhYmVsfWAsXG4gICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRhaWx3aW5kVG9rZW5zLmZvckVhY2goKHRva2VuKSA9PiB7XG4gICAgICAgICAgY29uc3QgW2gsIHNdID0gdG9rZW4uc3BsaXQoJy0nKTtcbiAgICAgICAgICBjb25zdCBjb2xvclZhbHVlID0gdGFpbHdpbmRUb2tlblRvSGV4KHRva2VuKSB8fCAnI2ZmZmZmZic7XG4gICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlOiB0b2tlbixcbiAgICAgICAgICAgIGxhYmVsOiBgJHtoLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgaC5zbGljZSgxKX0gJHtzfWAsXG4gICAgICAgICAgICBjb2xvcjogY29sb3JWYWx1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgfSkoKTtcblxuICAgICAgY29uc3Qgbm9ybWFsaXplU2VsZWN0Q29sb3IgPSAodmFsdWUpID0+XG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKSA6ICcnO1xuXG4gICAgICBjb25zdCBmaWxsQ29sb3JPcHRpb25zID0gKHNlbGVjdGVkQ29sb3JzID0ge30pID0+IHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChba2V5LCBzZWxdKSA9PiB7XG4gICAgICAgICAgaWYgKCFzZWwpIHJldHVybjtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemVTZWxlY3RDb2xvcihzZWxlY3RlZENvbG9yc1trZXldKTtcbiAgICAgICAgICBzZWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgY29sb3JPcHRpb25EZWZpbml0aW9ucy5mb3JFYWNoKCh7IHZhbHVlLCBsYWJlbCwgY29sb3IgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICAgICAgb3B0aW9uLmRhdGFzZXQuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkVmFsdWUgJiYgbm9ybWFsaXplZFZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2VsLmRhdGFzZXQuZGVmYXVsdCA9IHNlbC5kYXRhc2V0LmRlZmF1bHQgfHwgc2VsLm9wdGlvbnNbMF0/LnZhbHVlIHx8ICcnO1xuICAgICAgICAgIGlmICghbm9ybWFsaXplZFZhbHVlICYmIHNlbC5kYXRhc2V0LmRlZmF1bHQpIHtcbiAgICAgICAgICAgIHNlbC52YWx1ZSA9IHNlbC5kYXRhc2V0LmRlZmF1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0eWxlU2VsZWN0T3B0aW9ucyhzZWwpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldFRoZW1lRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICB0aGVtZUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgdGhlbWVGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzeW5jUHJldmlldyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFwcmV2aWV3KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRva2VuVG9IZXggPSAodG9rZW4pID0+IHtcbiAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyBHXHUwMEU5cmVyIGxlcyBjYXMgc3BcdTAwRTljaWF1eCB3aGl0ZSwgYmxhY2ssIHRyYW5zcGFyZW50XG4gICAgICAgICAgaWYgKHRva2VuID09PSAnd2hpdGUnKSByZXR1cm4gJyNmZmZmZmYnO1xuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJ2JsYWNrJykgcmV0dXJuICcjMDAwMDAwJztcbiAgICAgICAgICBpZiAodG9rZW4gPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IFtoLHNdPXRva2VuLnNwbGl0KCctJyk7XG4gICAgICAgICAgaWYgKCFoIHx8ICFzKSByZXR1cm4gbnVsbDsgLy8gRm9ybWF0IGludmFsaWRlXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbWFwID0ge1xuICAgICAgICAgICAgc2xhdGU6JyNlMmU4ZjAnLGdyYXk6JyNkMWQ1ZGInLHppbmM6JyNkNGQ0ZDgnLG5ldXRyYWw6JyNkNGQ0ZDQnLHN0b25lOicjZDZkM2QxJyxcbiAgICAgICAgICAgIHJlZDonI2VmNDQ0NCcsb3JhbmdlOicjZjk3MzE2JyxhbWJlcjonI2Y1OWUwYicseWVsbG93OicjZWFiMzA4JyxsaW1lOicjODRjYzE2JyxcbiAgICAgICAgICAgIGdyZWVuOicjMjJjNTVlJyxlbWVyYWxkOicjMTBiOTgxJyx0ZWFsOicjMTRiOGE2JyxjeWFuOicjMDZiNmQ0Jyxza3k6JyMwZWE1ZTknLFxuICAgICAgICAgICAgYmx1ZTonIzNiODJmNicsaW5kaWdvOicjNjM2NmYxJyx2aW9sZXQ6JyM4YjVjZjYnLHB1cnBsZTonI2E4NTVmNycsZnVjaHNpYTonI2Q5NDZlZicsXG4gICAgICAgICAgICBwaW5rOicjZWM0ODk5Jyxyb3NlOicjZjQzZjVlJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgYmFzZT1tYXBbaF07XG4gICAgICAgICAgaWYgKCFiYXNlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAvLyByb3VnaCBzaGFkZSB0d2VhayB1c2luZyBvcGFjaXR5OyBub3QgZXhhY3QgVGFpbHdpbmQgcGFsZXR0ZSBidXQgcHJldmlldy1mcmllbmRseVxuICAgICAgICAgIGNvbnN0IHNoYWRlTnVtPU51bWJlcihzKXx8NTAwO1xuICAgICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgubWluKE1hdGgubWF4KChzaGFkZU51bS01MCkvOTAwLDApLDEpO1xuICAgICAgICAgIGNvbnN0IHRvUmdiPShoZXgpPT5oZXgubWF0Y2goL1tBLUZhLWYwLTldezJ9L2cpLm1hcCgodik9PnBhcnNlSW50KHYsMTYpKTtcbiAgICAgICAgICBjb25zdCBbcixnLGJdPXRvUmdiKGJhc2UucmVwbGFjZSgnIycsJycpKTtcbiAgICAgICAgICBjb25zdCBtaXg9KHYpPT5NYXRoLnJvdW5kKDI1NSAtICgyNTUgLSB2KSpmYWN0b3IpO1xuICAgICAgICAgIHJldHVybiBgcmdiKCR7bWl4KHIpfSwgJHttaXgoZyl9LCAke21peChiKX0pYDtcbiAgICAgICAgfTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1wcmltYXJ5JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5wcmltYXJ5Py52YWx1ZSkgfHwgJyM5QzZCRkYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1zZWNvbmRhcnknLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnNlY29uZGFyeT8udmFsdWUpIHx8ICcjMEVBNUU5Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItYWNjZW50JywgdGFpbHdpbmRUb2tlblRvSGV4KGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlKSB8fCAnI0Y5NzMxNicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLWJhY2tncm91bmQnLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLmJhY2tncm91bmQ/LnZhbHVlKSB8fCAnI0ZGRkZGRicpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yLXRleHQnLCB0YWlsd2luZFRva2VuVG9IZXgoY29sb3JTZWxlY3RzLnRleHQ/LnZhbHVlKSB8fCAnIzBGMTcyQScpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtaGVhZGluZ3MnLCBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250LWJvZHknLCBib2R5U2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnKTtcbiAgICAgICAgcHJldmlldy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1yYWRpdXMtc21hbGwnLCByYWRpdXNTbWFsbD8udmFsdWUgfHwgJzhweCcpO1xuICAgICAgICBwcmV2aWV3LnN0eWxlLnNldFByb3BlcnR5KCctLXJhZGl1cy1tZWRpdW0nLCByYWRpdXNNZWRpdW0/LnZhbHVlIHx8ICcxNnB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcmFkaXVzLWxhcmdlJywgcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4Jyk7XG4gICAgICAgIHByZXZpZXcuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCc7XG4gICAgICB9O1xuXG4gICAgICAvLyBJbml0aWFsaXNlciBsZXMgcHJldmlld3MgZGUgY291bGV1ciBldCBham91dGVyIGxlcyBsaXN0ZW5lcnNcbiAgICAgIGNvbnN0IHN0eWxlVGhlbWVDb2xvckNoaXAgPSAoY2hpcCwgY29sb3IpID0+IHtcbiAgICAgICAgaWYgKCFjaGlwKSByZXR1cm47XG4gICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgIGNoaXAuc3R5bGUuYmFja2dyb3VuZCA9ICdyZXBlYXRpbmctY29uaWMtZ3JhZGllbnQoI2NjYyAwJSAyNSUsIHdoaXRlIDAlIDUwJSkgNTAlIC8gOHB4IDhweCc7XG4gICAgICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjY2JkNWY1JztcbiAgICAgICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcnO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjaGlwLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgY2hpcC5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbG9yO1xuICAgICAgICBjaGlwLnN0eWxlLmJveFNoYWRvdyA9ICcwIDAgMCAxcHggcmdiYSgxNSwyMyw0MiwwLjE1KSc7XG4gICAgICB9O1xuICAgICAgY29uc3QgdXBkYXRlVGhlbWVDb2xvclByZXZpZXcgPSAoc2VsZWN0KSA9PiB7XG4gICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHNlbGVjdGVkT3B0aW9uPy5kYXRhc2V0Py5jb2xvciB8fCAnI2ZmZmZmZic7XG4gICAgICAgIGNvbnN0IGNvbG9yUHJldmlldyA9IHNlbGVjdC5jbG9zZXN0KCcucmVsYXRpdmUnKT8ucXVlcnlTZWxlY3RvcignW2RhdGEtY29sb3ItcHJldmlld10nKTtcbiAgICAgICAgaWYgKGNvbG9yUHJldmlldykge1xuICAgICAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgY29sb3JQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBUUkFOU1BBUkVOVF9QQVRURVJOO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvclByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2xvckNoaXAgPSBzZWxlY3QuY2xvc2VzdCgnLnJlbGF0aXZlJyk/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRoZW1lLWNvbG9yLWNoaXBdJyk7XG4gICAgICAgIHN0eWxlVGhlbWVDb2xvckNoaXAoY29sb3JDaGlwLCBjb2xvcik7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBpbml0Q29sb3JQcmV2aWV3cyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKHNlbGVjdCkgPT4ge1xuICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgICAgc3R5bGVTZWxlY3RPcHRpb25zKHNlbGVjdCk7XG4gICAgICAgICAgdXBkYXRlVGhlbWVDb2xvclByZXZpZXcoc2VsZWN0KTtcbiAgICAgICAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdXBkYXRlVGhlbWVDb2xvclByZXZpZXcoc2VsZWN0KSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgT2JqZWN0LmtleXMoY29sb3JTZWxlY3RzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29sb3JTZWxlY3RzW2tleV0/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHN5bmNQcmV2aWV3KTtcbiAgICAgIH0pO1xuICAgICAgW2hlYWRpbmdTZWxlY3QsIGJvZHlTZWxlY3QsIHJhZGl1c1NtYWxsLCByYWRpdXNNZWRpdW0sIHJhZGl1c0xhcmdlXS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbD8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc3luY1ByZXZpZXcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvYWRUaGVtZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgdGhlbWVDb2xvcnMgPSBwYXlsb2FkLmNvbG9ycyB8fCB7fTtcbiAgICAgICAgICBmaWxsQ29sb3JPcHRpb25zKHRoZW1lQ29sb3JzKTtcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhjb2xvclNlbGVjdHMpLmZvckVhY2goKFtrZXksIHNlbGVjdF0pID0+IHtcbiAgICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoZW1lQ29sb3JzW2tleV07XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemVTZWxlY3RDb2xvcih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFZhbHVlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IG5vcm1hbGl6ZWRWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdC5kYXRhc2V0LmRlZmF1bHQpIHtcbiAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gc2VsZWN0LmRhdGFzZXQuZGVmYXVsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVRoZW1lQ29sb3JQcmV2aWV3KHNlbGVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGhlYWRpbmdTZWxlY3QpIGhlYWRpbmdTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmhlYWRpbmdzIHx8ICdJbnRlciwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgaWYgKGJvZHlTZWxlY3QpIGJvZHlTZWxlY3QudmFsdWUgPSBwYXlsb2FkLnR5cG9ncmFwaHk/LmJvZHkgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICBpZiAocmFkaXVzU21hbGwpIHJhZGl1c1NtYWxsLnZhbHVlID0gcGF5bG9hZC5yYWRpdXM/LnNtYWxsIHx8ICc4cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNNZWRpdW0pIHJhZGl1c01lZGl1bS52YWx1ZSA9IHBheWxvYWQucmFkaXVzPy5tZWRpdW0gfHwgJzE2cHgnO1xuICAgICAgICAgIGlmIChyYWRpdXNMYXJnZSkgcmFkaXVzTGFyZ2UudmFsdWUgPSBwYXlsb2FkLnJhZGl1cz8ubGFyZ2UgfHwgJzI0cHgnO1xuICAgICAgICAgIHN5bmNQcmV2aWV3KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCB0aGVtZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhcHBseUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCF0aGVtZUFwaSkge1xuICAgICAgICAgIHNldFRoZW1lRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICBwcmltYXJ5OiBjb2xvclNlbGVjdHMucHJpbWFyeT8udmFsdWUgfHwgJ3Zpb2xldC01MDAnLFxuICAgICAgICAgICAgc2Vjb25kYXJ5OiBjb2xvclNlbGVjdHMuc2Vjb25kYXJ5Py52YWx1ZSB8fCAnaW5kaWdvLTQwMCcsXG4gICAgICAgICAgICBhY2NlbnQ6IGNvbG9yU2VsZWN0cy5hY2NlbnQ/LnZhbHVlIHx8ICdlbWVyYWxkLTUwMCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvclNlbGVjdHMuYmFja2dyb3VuZD8udmFsdWUgfHwgJ3NsYXRlLTUwJyxcbiAgICAgICAgICAgIHRleHQ6IGNvbG9yU2VsZWN0cy50ZXh0Py52YWx1ZSB8fCAnc2xhdGUtOTAwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiBoZWFkaW5nU2VsZWN0Py52YWx1ZSB8fCAnSW50ZXIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgYm9keTogYm9keVNlbGVjdD8udmFsdWUgfHwgJ0ludGVyLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgc21hbGw6IHJhZGl1c1NtYWxsPy52YWx1ZSB8fCAnOHB4JyxcbiAgICAgICAgICAgIG1lZGl1bTogcmFkaXVzTWVkaXVtPy52YWx1ZSB8fCAnMTZweCcsXG4gICAgICAgICAgICBsYXJnZTogcmFkaXVzTGFyZ2U/LnZhbHVlIHx8ICcyNHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRoZW1lRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhlbWVBcGksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnQXBwbGljYXRpb24gZHUgdGhcdTAwRThtZSBcdTAwRTljaG91XHUwMEU5ZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgbG9hZFRoZW1lKCk7XG4gICAgICAgICAgc2V0VGhlbWVGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnVGhcdTAwRThtZSBhcHBsaXF1XHUwMEU5LicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gYXBwbHkgdGhlbWUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXHUyMDE5YXBwbGljYXRpb24gZHUgdGhcdTAwRThtZS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhcHBseUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZmlsbENvbG9yT3B0aW9ucygpO1xuICAgICAgaW5pdENvbG9yUHJldmlld3MoKTtcbiAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgc3luY1ByZXZpZXcoKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FpLXRoZW1lLXVwZGF0ZWQnLCAoKSA9PiB7XG4gICAgICAgIGxvYWRUaGVtZSgpO1xuICAgICAgICBzZXRUaGVtZUZlZWRiYWNrKCdUaFx1MDBFOG1lIG1pcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU0VPIENvbmZpZyBmb3JtIChVUzkuQjEpXG4gICAgY29uc3Qgc2VvQ29uZmlnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlby1jb25maWctZm9ybV0nKTtcbiAgICBpZiAoc2VvQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgaW5kZXhBbGxDaGVja2JveCA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLWluZGV4LWFsbF0nKTtcbiAgICAgIGNvbnN0IHNlb0NvbmZpZ0ZlZWRiYWNrID0gc2VvQ29uZmlnRm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZW8tY29uZmlnLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3Qgc2VvU2F2ZUJ1dHRvbiA9IHNlb0NvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2VvLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRTZW9GZWVkYmFjayA9IChtZXNzYWdlLCB0b25lID0gJ211dGVkJykgPT4ge1xuICAgICAgICBpZiAoIXNlb0NvbmZpZ0ZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBzZW9Db25maWdGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIHNlb0NvbmZpZ0ZlZWRiYWNrLmNsYXNzTmFtZSA9IGB0ZXh0LXNtICR7Y29sb3J9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvYWRTZW9Db25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgY29uc3QgaW5kZXhBbGwgPSBwYXlsb2FkLnNlbz8uaW5kZXhBbGxQYWdlc0J5RGVmYXVsdCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKGluZGV4QWxsQ2hlY2tib3gpIGluZGV4QWxsQ2hlY2tib3guY2hlY2tlZCA9IGluZGV4QWxsO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZW9Db25maWdGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRTZW9GZWVkYmFjaygnQXVjdW4gc2l0ZSBhY3RpZi4nLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VvU2F2ZUJ1dHRvbiAmJiAoc2VvU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRTZW9GZWVkYmFjaygnJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmlyc3QgbG9hZCBjdXJyZW50IGNvbmZpZyB0byBwcmVzZXJ2ZSBvdGhlciBmaWVsZHNcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVzID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwgeyBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGN1cnJlbnRSZXMub2sgPyBhd2FpdCBjdXJyZW50UmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKSA6IHt9O1xuXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBzZW86IHtcbiAgICAgICAgICAgICAgLi4uKGN1cnJlbnRDb25maWcuc2VvIHx8IHt9KSxcbiAgICAgICAgICAgICAgaW5kZXhBbGxQYWdlc0J5RGVmYXVsdDogaW5kZXhBbGxDaGVja2JveD8uY2hlY2tlZCA/PyB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2l0ZUNvbmZpZ0FwaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgcmVzdWx0LnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ1NhdXZlZ2FyZGUgaW1wb3NzaWJsZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2VvRmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1BhcmFtXHUwMEU4dHJlcyBTRU8gZW5yZWdpc3RyXHUwMEU5cy4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgc2VvIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldFNlb0ZlZWRiYWNrKGVyci5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsYSBzYXV2ZWdhcmRlLicsICdlcnJvcicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNlb1NhdmVCdXR0b24gJiYgKHNlb1NhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkU2VvQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgLy8gQW5hbHl0aWNzIGZvcm0gKFVTOS5CMilcbiAgICBjb25zdCBhbmFseXRpY3NGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWZvcm1dJyk7XG4gICAgaWYgKGFuYWx5dGljc0Zvcm0pIHtcbiAgICAgIGNvbnN0IGhlYWRUZXh0YXJlYSA9IGFuYWx5dGljc0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWhlYWRdJyk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1ib2R5XScpO1xuICAgICAgY29uc3QgYW5hbHl0aWNzRmVlZGJhY2sgPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1mZWVkYmFja10nKTtcbiAgICAgIGNvbnN0IGFuYWx5dGljc1NhdmVCdXR0b24gPSBhbmFseXRpY3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1zYXZlXScpO1xuXG4gICAgICBjb25zdCBzYWZlU2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChcbiAgICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICAgICk7XG4gICAgICBjb25zdCBzaXRlQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL3NpdGVgXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3Qgc2V0QW5hbHl0aWNzRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhbmFseXRpY3NGZWVkYmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2xvciA9XG4gICAgICAgICAgdG9uZSA9PT0gJ3N1Y2Nlc3MnXG4gICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNjAwJ1xuICAgICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICAgID8gJ3RleHQtcm9zZS02MDAnXG4gICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNTAwJztcbiAgICAgICAgYW5hbHl0aWNzRmVlZGJhY2sudGV4dENvbnRlbnQgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICBhbmFseXRpY3NGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQW5hbHl0aWNzQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNpdGVDb25maWdBcGksIHsgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGlmIChoZWFkVGV4dGFyZWEpIGhlYWRUZXh0YXJlYS52YWx1ZSA9IHBheWxvYWQuYW5hbHl0aWNzPy5oZWFkQ29kZSB8fCAnJztcbiAgICAgICAgICBpZiAoYm9keVRleHRhcmVhKSBib2R5VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLmFuYWx5dGljcz8uYm9keUVuZENvZGUgfHwgJyc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gbG9hZCBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFuYWx5dGljc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghc2l0ZUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCdBdWN1biBzaXRlIGFjdGlmLicsICdlcnJvcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbmFseXRpY3NTYXZlQnV0dG9uICYmIChhbmFseXRpY3NTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFuYWx5dGljc0ZlZWRiYWNrKCcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGaXJzdCBsb2FkIGN1cnJlbnQgY29uZmlnIHRvIHByZXNlcnZlIG90aGVyIGZpZWxkc1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG5cbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudENvbmZpZyxcbiAgICAgICAgICAgIGFuYWx5dGljczoge1xuICAgICAgICAgICAgICBoZWFkQ29kZTogaGVhZFRleHRhcmVhPy52YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgICAgYm9keUVuZENvZGU6IGJvZHlUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBbmFseXRpY3NGZWVkYmFjayhyZXN1bHQubWVzc2FnZSB8fCAnU2NyaXB0cyBlbnJlZ2lzdHJcdTAwRTlzLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZXR0aW5nc10gc2F2ZSBhbmFseXRpY3MgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgc2V0QW5hbHl0aWNzRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYW5hbHl0aWNzU2F2ZUJ1dHRvbiAmJiAoYW5hbHl0aWNzU2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRBbmFseXRpY3NDb25maWcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhY2Nlc3NpYmlsaXR5Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktZm9ybV0nKTtcbiAgICBpZiAoYWNjZXNzaWJpbGl0eUZvcm0pIHtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbnNUb2dnbGUgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWFuaW1hdGlvbnNdJyk7XG4gICAgICBjb25zdCBjb250cmFzdFRvZ2dsZSA9IGFjY2Vzc2liaWxpdHlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjY2Vzc2liaWxpdHktY29udHJhc3RdJyk7XG4gICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gPSBhY2Nlc3NpYmlsaXR5Rm9ybS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY2Nlc3NpYmlsaXR5LXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpdGVDb25maWdBcGkgPSBzYWZlU2l0ZVNsdWdcbiAgICAgICAgPyBgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU2l0ZVNsdWcpfS9jb25maWcvc2l0ZWBcbiAgICAgICAgOiBudWxsO1xuXG4gICAgICBjb25zdCBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhY2Nlc3NpYmlsaXR5RmVlZGJhY2spIHJldHVybjtcbiAgICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICAgIHRvbmUgPT09ICdzdWNjZXNzJ1xuICAgICAgICAgICAgPyAndGV4dC1lbWVyYWxkLTYwMCdcbiAgICAgICAgICAgIDogdG9uZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICA/ICd0ZXh0LXJvc2UtNjAwJ1xuICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTUwMCc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay50ZXh0Q29udGVudCA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQWNjZXNzaWJpbGl0eUNvbmZpZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFzaXRlQ29uZmlnQXBpKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uc1RvZ2dsZSkge1xuICAgICAgICAgICAgYW5pbWF0aW9uc1RvZ2dsZS5jaGVja2VkID0gcGF5bG9hZC5hY2Nlc3NpYmlsaXR5Py5hbmltYXRpb25zRW5hYmxlZCAhPT0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb250cmFzdFRvZ2dsZSkge1xuICAgICAgICAgICAgY29udHJhc3RUb2dnbGUuY2hlY2tlZCA9IHBheWxvYWQuYWNjZXNzaWJpbGl0eT8uaGlnaENvbnRyYXN0ID09PSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBsb2FkIGFjY2Vzc2liaWxpdHkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFjY2Vzc2liaWxpdHlGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXNpdGVDb25maWdBcGkpIHtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uICYmIChhY2Nlc3NpYmlsaXR5U2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWUpO1xuICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZXMgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gY3VycmVudFJlcy5vayA/IGF3YWl0IGN1cnJlbnRSZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpIDoge307XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRDb25maWcsXG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbnNFbmFibGVkOiBhbmltYXRpb25zVG9nZ2xlPy5jaGVja2VkID8/IHRydWUsXG4gICAgICAgICAgICAgIGhpZ2hDb250cmFzdDogY29udHJhc3RUb2dnbGU/LmNoZWNrZWQgPz8gZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaXRlQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2socmVzdWx0Lm1lc3NhZ2UgfHwgJ1ByXHUwMEU5Zlx1MDBFOXJlbmNlcyBtaXNlcyBcdTAwRTAgam91ci4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIHNhdmUgYWNjZXNzaWJpbGl0eSBjb25maWcgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5RmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24gJiYgKGFjY2Vzc2liaWxpdHlTYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbG9hZEFjY2Vzc2liaWxpdHlDb25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBBSSBDb25maWcgZm9ybSAoVVMgLSBBSSBBc3Npc3RhbnQpXG4gICAgY29uc3QgYWlDb25maWdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtYWktY29uZmlnLWZvcm1dJyk7XG4gICAgaWYgKGFpQ29uZmlnRm9ybSkge1xuICAgICAgY29uc3QgYXBpS2V5SW5wdXQgPSBhaUNvbmZpZ0Zvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtYWktYXBpLWtleV0nKTtcbiAgICAgIGNvbnN0IG1vZGVsU2VsZWN0ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLW1vZGVsXScpO1xuICAgICAgY29uc3QgcHJvamVjdFByb21wdFRleHRhcmVhID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXByb2plY3QtcHJvbXB0XScpO1xuICAgICAgY29uc3QgZW5hYmxlZENoZWNrYm94ID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWVuYWJsZWRdJyk7XG4gICAgICBjb25zdCBhaUZlZWRiYWNrID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLWZlZWRiYWNrXScpO1xuICAgICAgY29uc3QgYWlTYXZlQnV0dG9uID0gYWlDb25maWdGb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXNhdmVdJyk7XG5cbiAgICAgIGNvbnN0IHNhZmVTaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgICB3b3Jrc3BhY2VDb250ZXh0Py5zbHVnVmFsdWUgfHwgc3RvcmVkU2l0ZS5zbHVnIHx8ICcnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGFpQ29uZmlnQXBpID0gc2FmZVNpdGVTbHVnXG4gICAgICAgID8gYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNpdGVTbHVnKX0vY29uZmlnL2FpYFxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIGNvbnN0IHNldEFJRmVlZGJhY2sgPSAobWVzc2FnZSwgdG9uZSA9ICdtdXRlZCcpID0+IHtcbiAgICAgICAgaWYgKCFhaUZlZWRiYWNrKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbG9yID1cbiAgICAgICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgICAgID8gJ3RleHQtZW1lcmFsZC02MDAnXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdlcnJvcidcbiAgICAgICAgICAgICAgPyAndGV4dC1yb3NlLTYwMCdcbiAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS01MDAnO1xuICAgICAgICBhaUZlZWRiYWNrLnRleHRDb250ZW50ID0gbWVzc2FnZSB8fCAnJztcbiAgICAgICAgYWlGZWVkYmFjay5jbGFzc05hbWUgPSBgdGV4dC1zbSAke2NvbG9yfWA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb2FkQUlDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghYWlDb25maWdBcGkpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7IGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICAvLyBBUEkga2V5IGlzIG1hc2tlZCwgd2Ugc2hvdyBwbGFjZWhvbGRlciBpZiBpdCBleGlzdHNcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9IHBheWxvYWQuaGFzQXBpS2V5ID8gJ1x1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMlx1MjAyMicgOiAnQ2xcdTAwRTkgQVBJIEdlbWluaSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtb2RlbFNlbGVjdCkgbW9kZWxTZWxlY3QudmFsdWUgPSBwYXlsb2FkLm1vZGVsIHx8ICdnZW1pbmktMi41LWZsYXNoJztcbiAgICAgICAgICBpZiAocHJvamVjdFByb21wdFRleHRhcmVhKSBwcm9qZWN0UHJvbXB0VGV4dGFyZWEudmFsdWUgPSBwYXlsb2FkLnByb2plY3RQcm9tcHQgfHwgJyc7XG4gICAgICAgICAgaWYgKGVuYWJsZWRDaGVja2JveCkgZW5hYmxlZENoZWNrYm94LmNoZWNrZWQgPSBwYXlsb2FkLmVuYWJsZWQgIT09IGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbc2V0dGluZ3NdIGxvYWQgQUkgY29uZmlnIGZhaWxlZCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFpQ29uZmlnRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFhaUNvbmZpZ0FwaSkge1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soJ0F1Y3VuIHNpdGUgYWN0aWYuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFpU2F2ZUJ1dHRvbiAmJiAoYWlTYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XG4gICAgICAgIHNldEFJRmVlZGJhY2soJycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBtb2RlbDogbW9kZWxTZWxlY3Q/LnZhbHVlIHx8ICdnZW1pbmktMi41LWZsYXNoJyxcbiAgICAgICAgICAgIHByb2plY3RQcm9tcHQ6IHByb2plY3RQcm9tcHRUZXh0YXJlYT8udmFsdWUgfHwgJycsXG4gICAgICAgICAgICBlbmFibGVkOiBlbmFibGVkQ2hlY2tib3g/LmNoZWNrZWQgPz8gdHJ1ZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBhcGlLZXkgaWYgdGhlIHVzZXIgZW50ZXJlZCBvbmUgKG5vdCBlbXB0eSlcbiAgICAgICAgICBjb25zdCBhcGlLZXlWYWx1ZSA9IGFwaUtleUlucHV0Py52YWx1ZT8udHJpbSgpO1xuICAgICAgICAgIGlmIChhcGlLZXlWYWx1ZSkge1xuICAgICAgICAgICAgcGF5bG9hZC5hcGlLZXkgPSBhcGlLZXlWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFpQ29uZmlnQXBpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCByZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnU2F1dmVnYXJkZSBpbXBvc3NpYmxlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBSUZlZWRiYWNrKHJlc3VsdC5tZXNzYWdlIHx8ICdDb25maWd1cmF0aW9uIElBIGVucmVnaXN0clx1MDBFOWUuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgQVBJIGtleSBmaWVsZCBhZnRlciBzdWNjZXNzZnVsIHNhdmVcbiAgICAgICAgICBpZiAoYXBpS2V5SW5wdXQpIHtcbiAgICAgICAgICAgIGFwaUtleUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC5wbGFjZWhvbGRlciA9ICdcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjJcdTIwMjInO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW3NldHRpbmdzXSBzYXZlIEFJIGNvbmZpZyBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgIHNldEFJRmVlZGJhY2soZXJyLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUuJywgJ2Vycm9yJyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWlTYXZlQnV0dG9uICYmIChhaVNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2FkQUlDb25maWcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TWVkaWFXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWdyaWRdJyk7XG4gICAgaWYgKCFncmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1lbXB0eV0nKTtcbiAgICBjb25zdCBjb3VudEJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtY291bnRdJyk7XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWZpbHRlci10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbEVtcHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLWVtcHR5XScpO1xuICAgIGNvbnN0IGRldGFpbFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsXScpO1xuICAgIGNvbnN0IGRldGFpbFByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtcHJldmlld10nKTtcbiAgICBjb25zdCBkZXRhaWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLW5hbWVdJyk7XG4gICAgY29uc3QgZGV0YWlsVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC10eXBlXScpO1xuICAgIGNvbnN0IGRldGFpbFNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1kZXRhaWwtc2l6ZV0nKTtcbiAgICBjb25zdCBkZXRhaWxQYXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGV0YWlsLXBhdGhdJyk7XG4gICAgY29uc3QgZGV0YWlsVXNlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRldGFpbC11c2VkXScpO1xuICAgIGNvbnN0IGRldGFpbEFsdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtYWx0LWVkaXRdJyk7XG4gICAgY29uc3QgZGV0YWlsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXNhdmVdJyk7XG4gICAgY29uc3QgZGV0YWlsRGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlXScpO1xuICAgIGNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtZGVsZXRlLW1vZGFsXScpO1xuICAgIGNvbnN0IGRlbGV0ZUNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jYW5jZWxdJyk7XG4gICAgY29uc3QgZGVsZXRlQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLWRlbGV0ZS1jb25maXJtXScpO1xuICAgIGNvbnN0IHVwbG9hZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS11cGxvYWQtb3Blbl0nKTtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWRpYS1maWxlLWlucHV0XScpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXVwbG9hZC1zdGF0dXNdJyk7XG5cbiAgICBjb25zdCBzYWZlU2l0ZVNsdWdWYWx1ZSA9IHN0cmlwTGVhZGluZ1NsYXNoKFxuICAgICAgd29ya3NwYWNlQ29udGV4dD8uc2x1Z1ZhbHVlIHx8IHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyxcbiAgICApO1xuICAgIGNvbnN0IG1lZGlhQXBpQmFzZSA9IHNhZmVTaXRlU2x1Z1ZhbHVlXG4gICAgICA/IGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVTaXRlU2x1Z1ZhbHVlKX0vbWVkaWFgXG4gICAgICA6IG51bGw7XG5cbiAgICBsZXQgbWVkaWFJdGVtcyA9IFtdO1xuICAgIGxldCBmaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgbGV0IGFjdGl2ZU1lZGlhSWQgPSBudWxsO1xuICAgIGxldCBoaWdobGlnaHRNZWRpYUlkID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ1VwbG9hZEZpbGUgPSBudWxsO1xuICAgIGxldCB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgbGV0IGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgbGV0IHVwbG9hZE1vZGUgPSBmYWxzZTtcbiAgICBsZXQgdXBsb2FkUHJldmlld1VybCA9IG51bGw7XG5cbiAgICBjb25zdCBkZXJpdmVHcm91cFR5cGUgPSAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IChpdGVtLnR5cGUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IChpdGVtLmZpbGVuYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ2ltYWdlJykgfHwgL1xcLihwbmd8anBlP2d8d2VicHxzdmd8Z2lmKSQvaS50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdwZGYnKSB8fCB0eXBlLmluY2x1ZGVzKCdkb2MnKSB8fCAvXFwuKHBkZnxkb2N4PykkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2N1bWVudCc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5pbmNsdWRlcygndmlkZW8nKSB8fCAvXFwuKG1wNHxtb3Z8d2VibSkkL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgaXNJbWFnZVR5cGUgPSAoaXRlbSkgPT4gZGVyaXZlR3JvdXBUeXBlKGl0ZW0pID09PSAnaW1hZ2UnO1xuXG4gICAgY29uc3QgZm9ybWF0VHlwZUxhYmVsID0gKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXh0ID0gKGl0ZW0uZmlsZW5hbWUgfHwgJycpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ID8gZXh0LnRvVXBwZXJDYXNlKCkgOiAnRklMRSc7XG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKHNpemUpID0+IHtcbiAgICAgIGlmICghc2l6ZSB8fCBzaXplIDw9IDApIHtcbiAgICAgICAgcmV0dXJuICdcdTIwMTQnO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPCAxMDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtzaXplfSBvYDtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplIDwgMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgcmV0dXJuIGAkeyhzaXplIC8gMTAyNCkudG9GaXhlZCgxKX0ga29gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAkeyhzaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTW9gO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldERldGFpbFBhbmVsID0gKCkgPT4ge1xuICAgICAgZGV0YWlsUGFuZWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsRW1wdHk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgYWN0aXZlTWVkaWFJZCA9IG51bGw7XG4gICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICBpZiAoZGV0YWlsUHJldmlldykge1xuICAgICAgICBkZXRhaWxQcmV2aWV3LmlubmVySFRNTCA9XG4gICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbVwiPkF1Y3VuIG1cdTAwRTlkaWEgc1x1MDBFOWxlY3Rpb25uXHUwMEU5PC9zcGFuPic7XG4gICAgICB9XG4gICAgICBpZiAoZGV0YWlsTmFtZSkge1xuICAgICAgICBkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gJycpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9ICcnKTtcbiAgICAgIGlmIChkZXRhaWxVc2VkKSB7XG4gICAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyVXBsb2FkU3RhdGUgPSAoKSA9PiB7XG4gICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICB1cGxvYWRNb2RlID0gZmFsc2U7XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBpZiAodXBsb2FkUHJldmlld1VybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVwbG9hZFByZXZpZXdVcmwpO1xuICAgICAgICB1cGxvYWRQcmV2aWV3VXJsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFN0YXR1cyAmJiAodXBsb2FkU3RhdHVzLnRleHRDb250ZW50ID0gJ0F1Y3VuIGZpY2hpZXIgc1x1MDBFOWxlY3Rpb25uXHUwMEU5LicpO1xuICAgICAgZmlsZUlucHV0ICYmIChmaWxlSW5wdXQudmFsdWUgPSAnJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUNvdW50QmFkZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvdW50QmFkZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBjb3VudEJhZGdlLnRleHRDb250ZW50ID0gJzAgbVx1MDBFOWRpYSc7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSAnMSBtXHUwMEU5ZGlhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50QmFkZ2UudGV4dENvbnRlbnQgPSBgJHtmaWx0ZXJlZEl0ZW1zLmxlbmd0aH0gbVx1MDBFOWRpYXNgO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJHcmlkID0gKCkgPT4ge1xuICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICghZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBmaWx0ZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBjYXJkLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgY2FyZC5kYXRhc2V0Lm1lZGlhSWQgPSBpdGVtLmlkO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQ7XG4gICAgICAgIGNhcmQuY2xhc3NOYW1lID0gW1xuICAgICAgICAgICdncm91cCByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtMnhsIGJvcmRlciBweC0zIHB5LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lIGZvY3VzLXZpc2libGU6b3V0bGluZS0yIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtWyM5QzZCRkZdJyxcbiAgICAgICAgICBpc0FjdGl2ZVxuICAgICAgICAgICAgPyAnYm9yZGVyLVsjOUM2QkZGXSBiZy1bI0Y3RjBGRl0vNjAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgOiAnYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItWyM5QzZCRkZdLzQwJyxcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBpc0ltYWdlVHlwZShpdGVtKVxuICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCBvYmplY3QtY292ZXJcIiAvPmBcbiAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXNsYXRlLTQwMFwiPlx1RDgzRFx1RENDNDwvZGl2PmA7XG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBhc3BlY3QtWzQvM10gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAke3ByZXZpZXd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCB0cnVuY2F0ZVwiPiR7aXRlbS5maWxlbmFtZX08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAgICAgICAgJHtmb3JtYXRUeXBlTGFiZWwoaXRlbSl9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBoaWdobGlnaHRNZWRpYUlkKSB7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1bIzlDNkJGRl0nKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLVsjOUM2QkZGXScpO1xuICAgICAgICAgIH0sIDE2MDApO1xuICAgICAgICB9XG4gICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZWxlY3RNZWRpYShpdGVtLmlkKSk7XG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICAgIGhpZ2hsaWdodE1lZGlhSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJVc2VkSW4gPSAoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFkZXRhaWxVc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFVzZWQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoIWl0ZW0udXNlZEluIHx8IGl0ZW0udXNlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gJ05vbiB1dGlsaXNcdTAwRTknO1xuICAgICAgICBsaS5jbGFzc05hbWUgPSAndGV4dC14cyB0ZXh0LXNsYXRlLTQwMCc7XG4gICAgICAgIGRldGFpbFVzZWQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpdGVtLnVzZWRJbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnRleHRDb250ZW50ID0gZW50cnk7XG4gICAgICAgIGxpLmNsYXNzTmFtZSA9ICd0ZXh0LXhzIHRleHQtc2xhdGUtNjAwJztcbiAgICAgICAgZGV0YWlsVXNlZC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlRGV0YWlsQWN0aW9ucyA9IChzYXZpbmcpID0+IHtcbiAgICAgIGlmICghZGV0YWlsU2F2ZUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodXBsb2FkTW9kZSkge1xuICAgICAgICBkZXRhaWxTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gc2F2aW5nID8gJ1RcdTAwRTlsXHUwMEU5dmVyc2VtZW50XHUyMDI2JyA6ICdUXHUwMEU5bFx1MDBFOXZlcnNlcic7XG4gICAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIXBlbmRpbmdVcGxvYWRGaWxlO1xuICAgICAgICBpZiAoZGV0YWlsRGVsZXRlQnV0dG9uKSB7XG4gICAgICAgICAgZGV0YWlsRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRldGFpbFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBzYXZpbmcgPyAnRW5yZWdpc3RyZW1lbnRcdTIwMjYnIDogJ0VucmVnaXN0cmVyJztcbiAgICAgIGRldGFpbFNhdmVCdXR0b24uZGlzYWJsZWQgPSBzYXZpbmcgfHwgIWRldGFpbERpcnR5O1xuICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9ICFhY3RpdmVNZWRpYUlkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxlY3RNZWRpYSA9IChtZWRpYUlkKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbWVkaWFJdGVtcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IG1lZGlhSWQpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgICAgcmVuZGVyR3JpZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclVwbG9hZFN0YXRlKCk7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gaXRlbS5pZDtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGlmIChpc0ltYWdlVHlwZShpdGVtKSkge1xuICAgICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtpdGVtLnBhdGh9XCIgYWx0PVwiJHtpdGVtLmFsdCB8fCBpdGVtLmZpbGVuYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlsUHJldmlldy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHRleHQtc2xhdGUtNDAwXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LTN4bFwiPlx1RDgzRFx1RENDNDwvc3Bhbj48c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZFwiPkRvY3VtZW50PC9zcGFuPjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRldGFpbE5hbWUgJiYgKGRldGFpbE5hbWUudGV4dENvbnRlbnQgPSBpdGVtLmZpbGVuYW1lIHx8ICdGaWNoaWVyJyk7XG4gICAgICBkZXRhaWxUeXBlICYmIChkZXRhaWxUeXBlLnRleHRDb250ZW50ID0gZm9ybWF0VHlwZUxhYmVsKGl0ZW0pKTtcbiAgICAgIGRldGFpbFNpemUgJiYgKGRldGFpbFNpemUudGV4dENvbnRlbnQgPSBmb3JtYXRGaWxlU2l6ZShpdGVtLnNpemUpKTtcbiAgICAgIGlmIChkZXRhaWxBbHRJbnB1dCkge1xuICAgICAgICBkZXRhaWxBbHRJbnB1dC52YWx1ZSA9IGl0ZW0uYWx0IHx8ICcnO1xuICAgICAgfVxuICAgICAgZGV0YWlsUGF0aCAmJiAoZGV0YWlsUGF0aC50ZXh0Q29udGVudCA9IGl0ZW0ucGF0aCB8fCAnXHUyMDE0Jyk7XG4gICAgICByZW5kZXJVc2VkSW4oaXRlbSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dVcGxvYWRQcmV2aWV3ID0gKGZpbGUpID0+IHtcbiAgICAgIGlmICghZmlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRNb2RlID0gdHJ1ZTtcbiAgICAgIGRldGFpbERpcnR5ID0gZmFsc2U7XG4gICAgICBhY3RpdmVNZWRpYUlkID0gbnVsbDtcbiAgICAgIGRldGFpbEVtcHR5Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRldGFpbFBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIGlmICh1cGxvYWRQcmV2aWV3VXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXBsb2FkUHJldmlld1VybCk7XG4gICAgICB9XG4gICAgICB1cGxvYWRQcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIGlmIChkZXRhaWxQcmV2aWV3KSB7XG4gICAgICAgIGRldGFpbFByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHt1cGxvYWRQcmV2aWV3VXJsfVwiIGFsdD1cIiR7ZmlsZS5uYW1lfVwiIGNsYXNzPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLTJ4bCBvYmplY3QtY292ZXJcIiAvPmA7XG4gICAgICB9XG4gICAgICBkZXRhaWxOYW1lICYmIChkZXRhaWxOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lKTtcbiAgICAgIGRldGFpbFR5cGUgJiYgKGRldGFpbFR5cGUudGV4dENvbnRlbnQgPSBmb3JtYXRUeXBlTGFiZWwoeyB0eXBlOiBmaWxlLnR5cGUsIGZpbGVuYW1lOiBmaWxlLm5hbWUgfSkpO1xuICAgICAgZGV0YWlsU2l6ZSAmJiAoZGV0YWlsU2l6ZS50ZXh0Q29udGVudCA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSkpO1xuICAgICAgaWYgKGRldGFpbEFsdElucHV0ICYmICFkZXRhaWxBbHRJbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgICAgZGV0YWlsQWx0SW5wdXQudmFsdWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpLnJlcGxhY2UoL1stX10vZywgJyAnKTtcbiAgICAgIH1cbiAgICAgIGRldGFpbFBhdGggJiYgKGRldGFpbFBhdGgudGV4dENvbnRlbnQgPSAnRW4gYXR0ZW50ZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlbWVudCcpO1xuICAgICAgaWYgKGRldGFpbFVzZWQpIHtcbiAgICAgICAgZGV0YWlsVXNlZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9ICdOb24gdXRpbGlzXHUwMEU5JztcbiAgICAgICAgbGkuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zbGF0ZS00MDAnO1xuICAgICAgICBkZXRhaWxVc2VkLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBhcHBseUZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0eXBlRmlsdGVyID0gZmlsdGVyVHlwZT8udmFsdWUgfHwgJ2FsbCc7XG4gICAgICBpZiAodHlwZUZpbHRlciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFsuLi5tZWRpYUl0ZW1zXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBtZWRpYUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5ncm91cFR5cGUgPT09IHR5cGVGaWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQpKSB7XG4gICAgICAgIHJlc2V0RGV0YWlsUGFuZWwoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNvdW50QmFkZ2UoKTtcbiAgICAgIHJlbmRlckdyaWQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgZW1wdHlTdGF0ZT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWVkaWFBcGlCYXNlLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IGl0ZW1zOiBbXSB9KSk7XG4gICAgICAgIG1lZGlhSXRlbXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQuaXRlbXMpXG4gICAgICAgICAgPyBwYXlsb2FkLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHsgLi4uaXRlbSwgZ3JvdXBUeXBlOiBkZXJpdmVHcm91cFR5cGUoaXRlbSkgfSkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW21lZGlhXSBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxlcyBtXHUwMEU5ZGlhcy4nKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IFtdO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsdGVyVHlwZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgYXBwbHlGaWx0ZXJzKCk7XG4gICAgfSk7XG4gICAgZGV0YWlsQWx0SW5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZXRhaWxEaXJ0eSA9IHRydWU7XG4gICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3Rpb24gPSAoZmlsZSkgPT4ge1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIHNob3dUb2FzdCgnU2V1bGVzIGxlcyBpbWFnZXMgc29udCBhY2NlcHRcdTAwRTllcyBwb3VyIGxlIG1vbWVudC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IDQgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICBzaG93VG9hc3QoJ0ZpY2hpZXIgdHJvcCB2b2x1bWluZXV4ICg0IE1vIG1heCkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdVcGxvYWRGaWxlID0gZmlsZTtcbiAgICAgIHNob3dVcGxvYWRQcmV2aWV3KGZpbGUpO1xuICAgICAgaWYgKHVwbG9hZFN0YXR1cykge1xuICAgICAgICB1cGxvYWRTdGF0dXMudGV4dENvbnRlbnQgPSBgJHtmaWxlLm5hbWV9IFx1MDBCNyAke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVhZEZpbGVBc0Jhc2U2NCA9IChmaWxlKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQgfHwgJyc7XG4gICAgICAgICAgY29uc3QgWywgYmFzZTY0ID0gJyddID0gU3RyaW5nKHJlc3VsdCkuc3BsaXQoJywnKTtcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignSW1wb3NzaWJsZSBkZSBsaXJlIGNlIGZpY2hpZXIuJykpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgdXBsb2FkU2VsZWN0ZWRNZWRpYSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcGVuZGluZ1VwbG9hZEZpbGUgfHwgIW1lZGlhQXBpQmFzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGxvYWRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnModHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KHBlbmRpbmdVcGxvYWRGaWxlKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogcGVuZGluZ1VwbG9hZEZpbGUubmFtZSxcbiAgICAgICAgICB0eXBlOiBwZW5kaW5nVXBsb2FkRmlsZS50eXBlLFxuICAgICAgICAgIHNpemU6IHBlbmRpbmdVcGxvYWRGaWxlLnNpemUsXG4gICAgICAgICAgYWx0OiBkZXRhaWxBbHRJbnB1dD8udmFsdWUgfHwgJycsXG4gICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG1lZGlhQXBpQmFzZSwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ1VwbG9hZCBpbXBvc3NpYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzYXZlZC5ncm91cFR5cGUgPSBkZXJpdmVHcm91cFR5cGUoc2F2ZWQpO1xuICAgICAgICBtZWRpYUl0ZW1zID0gWy4uLm1lZGlhSXRlbXMsIHNhdmVkXTtcbiAgICAgICAgaGlnaGxpZ2h0TWVkaWFJZCA9IHNhdmVkLmlkO1xuICAgICAgICBhcHBseUZpbHRlcnMoKTtcbiAgICAgICAgc2VsZWN0TWVkaWEoc2F2ZWQuaWQpO1xuICAgICAgICBzaG93VG9hc3QoJ01cdTAwRTlkaWEgYWpvdXRcdTAwRTknKTtcbiAgICAgICAgY2xlYXJVcGxvYWRTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBsb2FkIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnSW1wb3NzaWJsZSBkZSB0XHUwMEU5bFx1MDBFOXZlcnNlciBjZSBtXHUwMEU5ZGlhLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBsb2FkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBwZW5kaW5nVXBsb2FkRmlsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZURldGFpbEFjdGlvbnMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGxvYWRPcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGZpbGVJbnB1dD8uY2xpY2soKSk7XG4gICAgZmlsZUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBpZiAoZmlsZUlucHV0LmZpbGVzICYmIGZpbGVJbnB1dC5maWxlc1swXSkge1xuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0aW9uKGZpbGVJbnB1dC5maWxlc1swXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xvc2VEZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5EZWxldGVNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICghYWN0aXZlTWVkaWFJZCB8fCB1cGxvYWRNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVNb2RhbCkge1xuICAgICAgICBkZWxldGVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBGYWxsYmFjayBzaSBhdWN1bmUgbW9kYWxlIG4nZXN0IGRpc3BvbmlibGVcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnU3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEgPycpKSB7XG4gICAgICAgIGRlbGV0ZUFjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUFjdGl2ZU1lZGlhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFhY3RpdmVNZWRpYUlkIHx8ICFtZWRpYUFwaUJhc2UpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNhYmxlQnV0dG9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGRldGFpbERlbGV0ZUJ1dHRvbikge1xuICAgICAgICAgIGRldGFpbERlbGV0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1CdXR0b24pIHtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByZXNzaW9uXHUyMDI2JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGVuYWJsZUJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXRhaWxEZWxldGVCdXR0b24pIHtcbiAgICAgICAgICBkZXRhaWxEZWxldGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQ29uZmlybUJ1dHRvbikge1xuICAgICAgICAgIGRlbGV0ZUNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBkZWxldGVDb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ1N1cHByaW1lcic7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAgeyBtZXRob2Q6ICdERUxFVEUnIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXlsb2FkLm1lc3NhZ2UgfHwgJ1N1cHByZXNzaW9uIGltcG9zc2libGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBhY3RpdmVNZWRpYUlkKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIHN1cHByaW1cdTAwRTknKTtcbiAgICAgICAgcmVzZXREZXRhaWxQYW5lbCgpO1xuICAgICAgICB1cGRhdGVDb3VudEJhZGdlKCk7XG4gICAgICAgIHJlbmRlckdyaWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbbWVkaWFdIGRlbGV0ZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBzaG93VG9hc3QoZXJyLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgc3VwcHJpbWVyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gICAgICAgIGNsb3NlRGVsZXRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVsZXRlQ2FuY2VsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlRGVsZXRlTW9kYWwpO1xuICAgIGRlbGV0ZU1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZGVsZXRlTW9kYWwpIHtcbiAgICAgICAgY2xvc2VEZWxldGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVsZXRlQ29uZmlybUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkZWxldGVBY3RpdmVNZWRpYSgpKTtcbiAgICBkZXRhaWxEZWxldGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRlbGV0ZU1vZGFsKTtcblxuICAgIGRldGFpbFNhdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHVwbG9hZE1vZGUpIHtcbiAgICAgICAgdXBsb2FkU2VsZWN0ZWRNZWRpYSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2ZU1lZGlhSWQgfHwgIW1lZGlhQXBpQmFzZSB8fCAhZGV0YWlsQWx0SW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdXBkYXRlRGV0YWlsQWN0aW9ucyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFsdDogZGV0YWlsQWx0SW5wdXQudmFsdWUgfHwgJycgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgJHttZWRpYUFwaUJhc2V9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjdGl2ZU1lZGlhSWQpfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQYXlsb2FkLm1lc3NhZ2UgfHwgJ0ltcG9zc2libGUgZGUgbWV0dHJlIFx1MDBFMCBqb3VyIGNlIG1cdTAwRTlkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgbWVkaWFJdGVtcyA9IG1lZGlhSXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGFjdGl2ZU1lZGlhSWQgPyB7IC4uLml0ZW0sIC4uLnVwZGF0ZWQgfSA6IGl0ZW0sXG4gICAgICAgICk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSBhY3RpdmVNZWRpYUlkID8geyAuLi5pdGVtLCAuLi51cGRhdGVkIH0gOiBpdGVtLFxuICAgICAgICApO1xuICAgICAgICBkZXRhaWxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgICAgc2hvd1RvYXN0KCdNXHUwMEU5ZGlhIG1pcyBcdTAwRTAgam91cicpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ttZWRpYV0gdXBkYXRlIGZhaWxlZCcsIGVycik7XG4gICAgICAgIHNob3dUb2FzdChlcnIubWVzc2FnZSB8fCAnXHUwMEM5Y2hlYyBkZSBsYSBtaXNlIFx1MDBFMCBqb3VyLicpO1xuICAgICAgICB1cGRhdGVEZXRhaWxBY3Rpb25zKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvYWRNZWRpYSgpO1xuICB9XG5cbiAgLy8gXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXHUyNTUwXG4gIC8vIEFJIENIQVQgLSBBc3Npc3RhbnQgSUEgY29udGV4dHVlbFxuICAvLyBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcdTI1NTBcblxuICBjb25zdCBhaUNoYXRUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC10b2dnbGUnKTtcbiAgY29uc3QgYWlDaGF0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1wYW5lbCcpO1xuICBjb25zdCBhaUNoYXRPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtb3ZlcmxheScpO1xuICBjb25zdCBhaUNoYXRDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWNsb3NlJyk7XG4gIGNvbnN0IGFpQ2hhdENsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWNoYXQtY2xlYXInKTtcbiAgY29uc3QgYWlDaGF0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LWZvcm0nKTtcbiAgY29uc3QgYWlDaGF0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWktY2hhdC1pbnB1dCcpO1xuICBjb25zdCBhaUNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW1lc3NhZ2VzJyk7XG4gIGNvbnN0IGFpQ2hhdFN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LXN0YXR1cycpO1xuICBjb25zdCBhaUNoYXROb0FwaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaS1jaGF0LW5vLWFwaScpO1xuICBjb25zdCBhaVF1aWNrQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWFpLXF1aWNrXScpO1xuXG4gIGxldCBhaUNoYXRPcGVuID0gZmFsc2U7XG4gIGxldCBhaUlzTG9hZGluZyA9IGZhbHNlO1xuICBsZXQgYWlDb25maWdDaGVja2VkID0gZmFsc2U7XG4gIGxldCBhaUhhc0FwaUtleSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBPdXZyZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBvcGVuQUlDaGF0KCkge1xuICAgIGlmICghYWlDaGF0UGFuZWwpIHJldHVybjtcbiAgICBhaUNoYXRPcGVuID0gdHJ1ZTtcbiAgICBhaUNoYXRQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd0cmFuc2xhdGUteC1mdWxsJyk7XG4gICAgYWlDaGF0UGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMCcsICdwb2ludGVyLWV2ZW50cy1ub25lJyk7XG4gICAgYWlDaGF0T3ZlcmxheT8uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS0xMDAnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIGFpQ2hhdElucHV0Py5mb2N1cygpO1xuXG4gICAgLy8gVlx1MDBFOXJpZmllciBsYSBjb25maWcgQUkgYXUgcHJlbWllciBvdXZlcnR1cmVcbiAgICBpZiAoIWFpQ29uZmlnQ2hlY2tlZCkge1xuICAgICAgY2hlY2tBSUNvbmZpZygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGZXJtZSBsZSBwYW5lbCBkZSBjaGF0IElBXG4gICAqL1xuICBmdW5jdGlvbiBjbG9zZUFJQ2hhdCgpIHtcbiAgICBpZiAoIWFpQ2hhdFBhbmVsKSByZXR1cm47XG4gICAgYWlDaGF0T3BlbiA9IGZhbHNlO1xuICAgIGFpQ2hhdFBhbmVsLmNsYXNzTGlzdC5hZGQoJ3RyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICBhaUNoYXRQYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBhaUNoYXRPdmVybGF5Py5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTAnLCAncG9pbnRlci1ldmVudHMtbm9uZScpO1xuICAgIGFpQ2hhdE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktMTAwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWXHUwMEU5cmlmaWUgc2kgbCdBUEkgQUkgZXN0IGNvbmZpZ3VyXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gY2hlY2tBSUNvbmZpZygpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1Zykge1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zaXRlcy8ke2VuY29kZVVSSUNvbXBvbmVudChzaXRlU2x1Zyl9L2NvbmZpZy9haWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdDb25maWcgY2hlY2sgZmFpbGVkJyk7XG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBhaUNvbmZpZ0NoZWNrZWQgPSB0cnVlO1xuICAgICAgYWlIYXNBcGlLZXkgPSBjb25maWcuaGFzQXBpS2V5O1xuICAgICAgXG4gICAgICBpZiAoIWNvbmZpZy5lbmFibGVkIHx8ICFjb25maWcuaGFzQXBpS2V5KSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFpQ2hhdE5vQXBpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgLy8gQ2hhcmdlciBsJ2hpc3RvcmlxdWVcbiAgICAgICAgbG9hZEFJQ2hhdEhpc3RvcnkoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gQ29uZmlnIGNoZWNrIGZhaWxlZDonLCBlcnIpO1xuICAgICAgYWlDaGF0Tm9BcGk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFyZ2UgbCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZEFJQ2hhdEhpc3RvcnkoKSB7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghc2l0ZVNsdWcgfHwgIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5tZXNzYWdlcyAmJiBkYXRhLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZVxuICAgICAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXMucXVlcnlTZWxlY3RvcignW2RhdGEtYWktd2VsY29tZV0nKTtcbiAgICAgICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZmZpY2hlciBsZXMgbWVzc2FnZXNcbiAgICAgICAgZGF0YS5tZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiB7XG4gICAgICAgICAgYXBwZW5kQUlNZXNzYWdlKG1zZy5jb250ZW50LCBtc2cucm9sZSA9PT0gJ3VzZXInID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNjcm9sbCB2ZXJzIGxlIGJhc1xuICAgICAgICBhaUNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBhaUNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIEhpc3RvcnkgbG9hZCBmYWlsZWQ6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWpvdXRlIHVuIG1lc3NhZ2UgYXUgY2hhdFxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kQUlNZXNzYWdlKGNvbnRlbnQsIHJvbGUgPSAnYXNzaXN0YW50Jykge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtc2dEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIFxuICAgIGlmIChyb2xlID09PSAndXNlcicpIHtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTFcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LVs4MCVdIGJnLXZpb2xldC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLTJ4bCByb3VuZGVkLXRyLW5vbmUgcC0zXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj4ke2VzY2FwZUh0bWwoY29udGVudCl9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLXNsYXRlLTIwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC1zbGF0ZS01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03elwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3JtYXR0ZXIgbGUgY29udGVudSBNYXJrZG93biBiYXNpcXVlXG4gICAgICBjb25zdCBmb3JtYXR0ZWRDb250ZW50ID0gZm9ybWF0QUlSZXNwb25zZShjb250ZW50KTtcbiAgICAgIG1zZ0Rpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXZpb2xldC01MDAgdG8taW5kaWdvLTYwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zIG92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNzAwIHByb3NlIHByb3NlLXNtIG1heC13LW5vbmUgWyY+cHJlXTpiZy1zbGF0ZS04MDAgWyY+cHJlXTp0ZXh0LXNsYXRlLTEwMCBbJj5wcmVdOnJvdW5kZWQtbGcgWyY+cHJlXTpwLTMgWyY+cHJlXTpvdmVyZmxvdy14LWF1dG8gWyY+Y29kZV06Ymctc2xhdGUtMjAwIFsmPmNvZGVdOnB4LTEgWyY+Y29kZV06cm91bmRlZFwiPiR7Zm9ybWF0dGVkQ29udGVudH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgICBcbiAgICBhaUNoYXRNZXNzYWdlcy5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZmZpY2hlIHVuIGluZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gc2hvd0FJTG9hZGluZygpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvYWRpbmdEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMnO1xuICAgIGxvYWRpbmdEaXYuaWQgPSAnYWktbG9hZGluZy1pbmRpY2F0b3InO1xuICAgIGxvYWRpbmdEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZSBhbmltYXRlLXB1bHNlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDBtc1wiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTIgaC0yIGJnLXZpb2xldC00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9XCJhbmltYXRpb24tZGVsYXk6IDE1MG1zXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctdmlvbGV0LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMzAwbXNcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGFpQ2hhdE1lc3NhZ2VzLmFwcGVuZENoaWxkKGxvYWRpbmdEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBsJ2luZGljYXRldXIgZGUgY2hhcmdlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gaGlkZUFJTG9hZGluZygpIHtcbiAgICBjb25zdCBsb2FkaW5nRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FpLWxvYWRpbmctaW5kaWNhdG9yJyk7XG4gICAgbG9hZGluZ0Rpdj8ucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0ZSBsYSByXHUwMEU5cG9uc2UgZGUgbCdJQSAoTWFya2Rvd24gYmFzaXF1ZSlcbiAgICovXG4gIGZ1bmN0aW9uIGZvcm1hdEFJUmVzcG9uc2UodGV4dCkge1xuICAgIGlmICghdGV4dCkgcmV0dXJuICcnO1xuICAgIFxuICAgIC8vIEVzY2FwZSBIVE1MIGQnYWJvcmRcbiAgICBsZXQgZm9ybWF0dGVkID0gZXNjYXBlSHRtbCh0ZXh0KTtcbiAgICBcbiAgICAvLyBDb2RlIGJsb2NrcyBgYGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYGBgKFxcdyopXFxuKFtcXHNcXFNdKj8pYGBgL2csIChtYXRjaCwgbGFuZywgY29kZSkgPT4ge1xuICAgICAgcmV0dXJuIGA8cHJlIGNsYXNzPVwibGFuZ3VhZ2UtJHtsYW5nIHx8ICd0ZXh0J31cIj48Y29kZT4ke2NvZGUudHJpbSgpfTwvY29kZT48L3ByZT5gO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIElubGluZSBjb2RlIGBcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvYChbXmBdKylgL2csICc8Y29kZT4kMTwvY29kZT4nKTtcbiAgICBcbiAgICAvLyBCb2xkICoqdGV4dCoqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKlxcKihbXipdKylcXCpcXCovZywgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKTtcbiAgICBcbiAgICAvLyBJdGFsaWMgKnRleHQqXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcKihbXipdKylcXCovZywgJzxlbT4kMTwvZW0+Jyk7XG4gICAgXG4gICAgLy8gVGl0cmVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jIyMgKC4rKSQvZ20sICc8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMVwiPiQxPC9oND4nKTtcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXiMjICguKykkL2dtLCAnPGgzIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMCBtdC0zIG1iLTFcIj4kMTwvaDM+Jyk7XG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL14jICguKykkL2dtLCAnPGgyIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIG10LTMgbWItMlwiPiQxPC9oMj4nKTtcbiAgICBcbiAgICAvLyBMaXN0ZXNcbiAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvXi0gKC4rKSQvZ20sICc8bGkgY2xhc3M9XCJtbC00XCI+JDE8L2xpPicpO1xuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eKFxcZCspXFwuICguKykkL2dtLCAnPGxpIGNsYXNzPVwibWwtNFwiPiQyPC9saT4nKTtcbiAgICBcbiAgICAvLyBQYXJhZ3JhcGhlcyAobGlnbmVzIHZpZGVzKVxuICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXG5cXG4vZywgJzwvcD48cCBjbGFzcz1cIm1iLTJcIj4nKTtcbiAgICBmb3JtYXR0ZWQgPSAnPHAgY2xhc3M9XCJtYi0yXCI+JyArIGZvcm1hdHRlZCArICc8L3A+JztcbiAgICBcbiAgICAvLyBOZXR0b3llciBsZXMgPHA+IHZpZGVzXG4gICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoLzxwIGNsYXNzPVwibWItMlwiPjxcXC9wPi9nLCAnJyk7XG4gICAgXG4gICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTAwQzljaGFwcGUgbGUgSFRNTFxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0KSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnZvaWUgdW4gbWVzc2FnZSBhdSBjaGF0IElBXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFtZXNzYWdlIHx8ICFzaXRlU2x1ZyB8fCBhaUlzTG9hZGluZykgcmV0dXJuO1xuICAgIFxuICAgIGFpSXNMb2FkaW5nID0gdHJ1ZTtcbiAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgXG4gICAgLy8gRWZmYWNlciBsZSBtZXNzYWdlIGRlIGJpZW52ZW51ZSBhdSBwcmVtaWVyIG1lc3NhZ2VcbiAgICBjb25zdCB3ZWxjb21lTXNnID0gYWlDaGF0TWVzc2FnZXM/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFpLXdlbGNvbWVdJyk7XG4gICAgaWYgKHdlbGNvbWVNc2cpIHdlbGNvbWVNc2cucmVtb3ZlKCk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgYXBwZW5kQUlNZXNzYWdlKG1lc3NhZ2UsICd1c2VyJyk7XG4gICAgXG4gICAgLy8gQWZmaWNoZXIgbGUgbG9hZGVyXG4gICAgc2hvd0FJTG9hZGluZygpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvY2hhdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBoaWRlQUlMb2FkaW5nKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdFcnJldXIgZGUgY29tbXVuaWNhdGlvbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoZGF0YS5yZXNwb25zZSkge1xuICAgICAgICBhcHBlbmRBSU1lc3NhZ2UoZGF0YS5yZXNwb25zZSwgJ2Fzc2lzdGFudCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHXHUwMEU5cmVyIGxlcyBwcm9wb3NpdGlvbnMgZCdcdTAwRTlkaXRpb24gZGUgcGFnZVxuICAgICAgaWYgKGRhdGEuZWRpdFByb3Bvc2FsKSB7XG4gICAgICAgIGFwcGVuZEVkaXRQcm9wb3NhbChkYXRhLmVkaXRQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdcdTAwRTlyZXIgbGVzIHByb3Bvc2l0aW9ucyBkZSBtb2RpZmljYXRpb24gZHUgdGhcdTAwRThtZVxuICAgICAgaWYgKGRhdGEudGhlbWVQcm9wb3NhbCkge1xuICAgICAgICBhcHBlbmRUaGVtZVByb3Bvc2FsKGRhdGEudGhlbWVQcm9wb3NhbCk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGhpZGVBSUxvYWRpbmcoKTtcbiAgICAgIGFwcGVuZEFJTWVzc2FnZShgXHUyNzRDIEVycmV1cjogJHtlcnIubWVzc2FnZX1gLCAnYXNzaXN0YW50Jyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGFpSXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBhaUNoYXRJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYWlDaGF0SW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZCdcdTAwRTlkaXRpb24gYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZEVkaXRQcm9wb3NhbChwcm9wb3NhbCkge1xuICAgIGlmICghYWlDaGF0TWVzc2FnZXMgfHwgIXByb3Bvc2FsKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcHJvcG9zYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9wb3NhbERpdi5jbGFzc05hbWUgPSAnZmxleCBnYXAtMyBtdC0yJztcbiAgICBwcm9wb3NhbERpdi5kYXRhc2V0LnByb3Bvc2FsSWQgPSBwcm9wb3NhbC5wcm9wb3NhbElkO1xuICAgIFxuICAgIC8vIENvbnN0cnVpcmUgbGUgclx1MDBFOXN1bVx1MDBFOSBkZXMgY2hhbmdlbWVudHNcbiAgICBsZXQgY2hhbmdlc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcykge1xuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMudGl0bGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5UaXRyZSBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy50aXRsZSl9PC9zdHJvbmc+PC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5EZXNjcmlwdGlvbiBcdTIxOTIgJHtlc2NhcGVIdG1sKHByb3Bvc2FsLmNoYW5nZXMuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDgwKSl9Li4uPC9saT5gO1xuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuc2VvKSB7XG4gICAgICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpIHtcbiAgICAgICAgICBjaGFuZ2VzSHRtbCArPSBgPGxpPk1ldGEgdGl0bGUgXHUyMTkyICR7ZXNjYXBlSHRtbChwcm9wb3NhbC5jaGFuZ2VzLnNlby5tZXRhVGl0bGUpfTwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5NZXRhIGRlc2NyaXB0aW9uIFx1MjE5MiAke2VzY2FwZUh0bWwocHJvcG9zYWwuY2hhbmdlcy5zZW8ubWV0YURlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA2MCkpfS4uLjwvbGk+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3Bvc2FsLmNoYW5nZXMuYmxvY2tVcGRhdGUpIHtcbiAgICAgICAgY2hhbmdlc0h0bWwgKz0gYDxsaT5CbG9jIFwiJHtwcm9wb3NhbC5jaGFuZ2VzLmJsb2NrVXBkYXRlLmJsb2NrSWR9XCIgbW9kaWZpXHUwMEU5PC9saT5gO1xuICAgICAgICBpZiAocHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncykge1xuICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gcHJvcG9zYWwuY2hhbmdlcy5ibG9ja1VwZGF0ZS5zZXR0aW5ncztcbiAgICAgICAgICBpZiAoc2V0dGluZ3MudGl0bGUpIGNoYW5nZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJtbC00XCI+XHUyMTkyIHRpdGxlOiAke2VzY2FwZUh0bWwoc2V0dGluZ3MudGl0bGUpfTwvbGk+YDtcbiAgICAgICAgICBpZiAoc2V0dGluZ3MuY29udGVudCkgY2hhbmdlc0h0bWwgKz0gYDxsaSBjbGFzcz1cIm1sLTRcIj5cdTIxOTIgY29udGVudCBtb2RpZmlcdTAwRTk8L2xpPmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJvcG9zYWxEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWFtYmVyLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSA1SDZhMiAyIDAgMDAtMiAydjExYTIgMiAwIDAwMiAyaDExYTIgMiAwIDAwMi0ydi01bS0xLjQxNC05LjQxNGEyIDIgMCAxMTIuODI4IDIuODI4TDExLjgyOCAxNUg5di0yLjgyOGw4LjU4Ni04LjU4NnpcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWFtYmVyLTcwMCBiZy1hbWJlci0xMDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPlByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtODAwIG1iLTFcIj5QYWdlIDogJHtlc2NhcGVIdG1sKHByb3Bvc2FsLnBhZ2VUaXRsZSB8fCBwcm9wb3NhbC5wYWdlSWQpfTwvcD5cbiAgICAgICAgJHtwcm9wb3NhbC5yZWFzb24gPyBgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNjAwIG1iLTJcIj4ke2VzY2FwZUh0bWwocHJvcG9zYWwucmVhc29uKX08L3A+YCA6ICcnfVxuICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+XG4gICAgICAgICAgJHtjaGFuZ2VzSHRtbCB8fCAnPGxpPk1vZGlmaWNhdGlvbnMgcHJvcG9zXHUwMEU5ZXM8L2xpPid9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktZWRpdCBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctZW1lcmFsZC02MDAgaG92ZXI6YmctZW1lcmFsZC03MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICBkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbC5wcm9wb3NhbElkfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEFwcGxpcXVlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImFpLXJlamVjdC1lZGl0IHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktZWRpdCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFwcGx5RWRpdCk7XG4gICAgcHJvcG9zYWxEaXYucXVlcnlTZWxlY3RvcignLmFpLXJlamVjdC1lZGl0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7XG4gIH1cblxuICAvKipcbiAgICogQWZmaWNoZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWUgYXZlYyBib3V0b25zIGRlIHZhbGlkYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZFRoZW1lUHJvcG9zYWwocHJvcG9zYWwpIHtcbiAgICBpZiAoIWFpQ2hhdE1lc3NhZ2VzIHx8ICFwcm9wb3NhbCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3Bvc2FsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvcG9zYWxEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZ2FwLTMgbXQtMic7XG4gICAgcHJvcG9zYWxEaXYuZGF0YXNldC5wcm9wb3NhbElkID0gcHJvcG9zYWwucHJvcG9zYWxJZDtcbiAgICBcbiAgICAvLyBDb25zdHJ1aXJlIGxlIHJcdTAwRTlzdW1cdTAwRTkgZGVzIGNoYW5nZW1lbnRzIGRlIGNvdWxldXJzXG4gICAgbGV0IGNvbG9yc0h0bWwgPSAnJztcbiAgICBpZiAocHJvcG9zYWwuY2hhbmdlcz8uY29sb3JzKSB7XG4gICAgICBjb25zdCBjb2xvcnMgPSBwcm9wb3NhbC5jaGFuZ2VzLmNvbG9ycztcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbG9ycykpIHtcbiAgICAgICAgY29sb3JzSHRtbCArPSBgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMFwiIHN0eWxlPVwiYmFja2dyb3VuZDogJHtnZXRUYWlsd2luZENvbG9yQ3NzKHZhbHVlKX1cIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+JHtrZXl9OiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh2YWx1ZSl9PC9zdHJvbmc+PC9zcGFuPlxuICAgICAgICA8L2xpPmA7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFR5cG9ncmFwaGllc1xuICAgIGxldCB0eXBvSHRtbCA9ICcnO1xuICAgIGlmIChwcm9wb3NhbC5jaGFuZ2VzPy50eXBvZ3JhcGh5KSB7XG4gICAgICBjb25zdCB0eXBvID0gcHJvcG9zYWwuY2hhbmdlcy50eXBvZ3JhcGh5O1xuICAgICAgaWYgKHR5cG8uaGVhZGluZ3MpIHR5cG9IdG1sICs9IGA8bGk+VGl0cmVzIFx1MjE5MiA8c3Ryb25nPiR7ZXNjYXBlSHRtbCh0eXBvLmhlYWRpbmdzKX08L3N0cm9uZz48L2xpPmA7XG4gICAgICBpZiAodHlwby5ib2R5KSB0eXBvSHRtbCArPSBgPGxpPlRleHRlcyBcdTIxOTIgPHN0cm9uZz4ke2VzY2FwZUh0bWwodHlwby5ib2R5KX08L3N0cm9uZz48L2xpPmA7XG4gICAgfVxuICAgIFxuICAgIHByb3Bvc2FsRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMjFhNCA0IDAgMDEtNC00VjVhMiAyIDAgMDEyLTJoNGEyIDIgMCAwMTIgMnYxMmE0IDQgMCAwMS00IDR6bTAgMGgxMmEyIDIgMCAwMDItMnYtNGEyIDIgMCAwMC0yLTJoLTIuMzQzTTExIDcuMzQzbDEuNjU3LTEuNjU3YTIgMiAwIDAxMi44MjggMGwyLjgyOSAyLjgyOWEyIDIgMCAwMTAgMi44MjhsLTguNDg2IDguNDg1TTcgMTdoLjAxXCIvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtbm9uZSBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXB1cnBsZS03MDAgYmctcHVycGxlLTEwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+TW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke3Byb3Bvc2FsLnJlYXNvbiA/IGA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS02MDAgbWItM1wiPiR7ZXNjYXBlSHRtbChwcm9wb3NhbC5yZWFzb24pfTwvcD5gIDogJyd9XG4gICAgICAgICR7Y29sb3JzSHRtbCA/IGBcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS03MDAgbWItMVwiPkNvdWxldXJzIDo8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNsYXRlLTYwMCBzcGFjZS15LTEgbWItM1wiPiR7Y29sb3JzSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgICR7dHlwb0h0bWwgPyBgXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj5UeXBvZ3JhcGhpZXMgOjwvcD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNjAwIHNwYWNlLXktMSBtYi0zIGxpc3QtZGlzYyBtbC00XCI+JHt0eXBvSHRtbH08L3VsPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktYXBwbHktdGhlbWUgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgQXBwbGlxdWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYWktcmVqZWN0LXRoZW1lIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS02MDAgYmctc2xhdGUtMTAwIGhvdmVyOmJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgIGRhdGEtcHJvcG9zYWwtaWQ9XCIke3Byb3Bvc2FsLnByb3Bvc2FsSWR9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgUmVqZXRlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgYWlDaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQocHJvcG9zYWxEaXYpO1xuICAgIGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGFpQ2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBBdHRhY2hlciBsZXMgXHUwMEU5dlx1MDBFOW5lbWVudHMgYXV4IGJvdXRvbnNcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktYXBwbHktdGhlbWUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBcHBseVRoZW1lKTtcbiAgICBwcm9wb3NhbERpdi5xdWVyeVNlbGVjdG9yKCcuYWktcmVqZWN0LXRoZW1lJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVqZWN0RWRpdCk7IC8vIFJcdTAwRTl1dGlsaXNlIGxhIG1cdTAwRUFtZSBsb2dpcXVlIGRlIHJlamV0XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBDb252ZXJ0aXQgdW5lIGNvdWxldXIgVGFpbHdpbmQgZW4gQ1NTIGFwcHJveGltYXRpZiBwb3VyIHByZXZpZXdcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRhaWx3aW5kQ29sb3JDc3MoY29sb3JOYW1lKSB7XG4gICAgY29uc3QgY29sb3JzID0ge1xuICAgICAgJ3doaXRlJzogJyNmZmZmZmYnLCAnYmxhY2snOiAnIzAwMDAwMCcsICd0cmFuc3BhcmVudCc6ICd0cmFuc3BhcmVudCcsXG4gICAgICAnc2xhdGUtNTAnOiAnI2Y4ZmFmYycsICdzbGF0ZS0xMDAnOiAnI2YxZjVmOScsICdzbGF0ZS0yMDAnOiAnI2UyZThmMCcsICdzbGF0ZS0zMDAnOiAnI2NiZDVlMScsICdzbGF0ZS00MDAnOiAnIzk0YTNiOCcsICdzbGF0ZS01MDAnOiAnIzY0NzQ4YicsICdzbGF0ZS02MDAnOiAnIzQ3NTU2OScsICdzbGF0ZS03MDAnOiAnIzMzNDE1NScsICdzbGF0ZS04MDAnOiAnIzFlMjkzYicsICdzbGF0ZS05MDAnOiAnIzBmMTcyYScsXG4gICAgICAnZ3JheS01MCc6ICcjZjlmYWZiJywgJ2dyYXktMTAwJzogJyNmM2Y0ZjYnLCAnZ3JheS0yMDAnOiAnI2U1ZTdlYicsICdncmF5LTMwMCc6ICcjZDFkNWRiJywgJ2dyYXktNDAwJzogJyM5Y2EzYWYnLCAnZ3JheS01MDAnOiAnIzZiNzI4MCcsICdncmF5LTYwMCc6ICcjNGI1NTYzJywgJ2dyYXktNzAwJzogJyMzNzQxNTEnLCAnZ3JheS04MDAnOiAnIzFmMjkzNycsICdncmF5LTkwMCc6ICcjMTExODI3JyxcbiAgICAgICd2aW9sZXQtNTAnOiAnI2Y1ZjNmZicsICd2aW9sZXQtMTAwJzogJyNlZGU5ZmUnLCAndmlvbGV0LTIwMCc6ICcjZGRkNmZlJywgJ3Zpb2xldC0zMDAnOiAnI2M0YjVmZCcsICd2aW9sZXQtNDAwJzogJyNhNzhiZmEnLCAndmlvbGV0LTUwMCc6ICcjOGI1Y2Y2JywgJ3Zpb2xldC02MDAnOiAnIzdjM2FlZCcsICd2aW9sZXQtNzAwJzogJyM2ZDI4ZDknLCAndmlvbGV0LTgwMCc6ICcjNWIyMWI2JywgJ3Zpb2xldC05MDAnOiAnIzRjMWQ5NScsXG4gICAgICAncHVycGxlLTUwJzogJyNmYWY1ZmYnLCAncHVycGxlLTEwMCc6ICcjZjNlOGZmJywgJ3B1cnBsZS0yMDAnOiAnI2U5ZDVmZicsICdwdXJwbGUtMzAwJzogJyNkOGI0ZmUnLCAncHVycGxlLTQwMCc6ICcjYzA4NGZjJywgJ3B1cnBsZS01MDAnOiAnI2E4NTVmNycsICdwdXJwbGUtNjAwJzogJyM5MzMzZWEnLCAncHVycGxlLTcwMCc6ICcjN2UyMmNlJywgJ3B1cnBsZS04MDAnOiAnIzZiMjFhOCcsICdwdXJwbGUtOTAwJzogJyM1ODFjODcnLFxuICAgICAgJ2JsdWUtNTAnOiAnI2VmZjZmZicsICdibHVlLTEwMCc6ICcjZGJlYWZlJywgJ2JsdWUtMjAwJzogJyNiZmRiZmUnLCAnYmx1ZS0zMDAnOiAnIzkzYzVmZCcsICdibHVlLTQwMCc6ICcjNjBhNWZhJywgJ2JsdWUtNTAwJzogJyMzYjgyZjYnLCAnYmx1ZS02MDAnOiAnIzI1NjNlYicsICdibHVlLTcwMCc6ICcjMWQ0ZWQ4JywgJ2JsdWUtODAwJzogJyMxZTQwYWYnLCAnYmx1ZS05MDAnOiAnIzFlM2E4YScsXG4gICAgICAnZW1lcmFsZC01MCc6ICcjZWNmZGY1JywgJ2VtZXJhbGQtMTAwJzogJyNkMWZhZTUnLCAnZW1lcmFsZC0yMDAnOiAnI2E3ZjNkMCcsICdlbWVyYWxkLTMwMCc6ICcjNmVlN2I3JywgJ2VtZXJhbGQtNDAwJzogJyMzNGQzOTknLCAnZW1lcmFsZC01MDAnOiAnIzEwYjk4MScsICdlbWVyYWxkLTYwMCc6ICcjMDU5NjY5JywgJ2VtZXJhbGQtNzAwJzogJyMwNDc4NTcnLCAnZW1lcmFsZC04MDAnOiAnIzA2NWY0NicsICdlbWVyYWxkLTkwMCc6ICcjMDY0ZTNiJyxcbiAgICAgICd0ZWFsLTUwJzogJyNmMGZkZmEnLCAndGVhbC0xMDAnOiAnI2NjZmJmMScsICd0ZWFsLTIwMCc6ICcjOTlmNmU0JywgJ3RlYWwtMzAwJzogJyM1ZWVhZDQnLCAndGVhbC00MDAnOiAnIzJkZDRiZicsICd0ZWFsLTUwMCc6ICcjMTRiOGE2JywgJ3RlYWwtNjAwJzogJyMwZDk0ODgnLCAndGVhbC03MDAnOiAnIzBmNzY2ZScsICd0ZWFsLTgwMCc6ICcjMTE1ZTU5JywgJ3RlYWwtOTAwJzogJyMxMzRlNGEnLFxuICAgICAgJ2FtYmVyLTUwJzogJyNmZmZiZWInLCAnYW1iZXItMTAwJzogJyNmZWYzYzcnLCAnYW1iZXItMjAwJzogJyNmZGU2OGEnLCAnYW1iZXItMzAwJzogJyNmY2QzNGQnLCAnYW1iZXItNDAwJzogJyNmYmJmMjQnLCAnYW1iZXItNTAwJzogJyNmNTllMGInLCAnYW1iZXItNjAwJzogJyNkOTc3MDYnLCAnYW1iZXItNzAwJzogJyNiNDUzMDknLCAnYW1iZXItODAwJzogJyM5MjQwMGUnLCAnYW1iZXItOTAwJzogJyM3ODM1MGYnLFxuICAgICAgJ3JlZC01MCc6ICcjZmVmMmYyJywgJ3JlZC0xMDAnOiAnI2ZlZTJlMicsICdyZWQtMjAwJzogJyNmZWNhY2EnLCAncmVkLTMwMCc6ICcjZmNhNWE1JywgJ3JlZC00MDAnOiAnI2Y4NzE3MScsICdyZWQtNTAwJzogJyNlZjQ0NDQnLCAncmVkLTYwMCc6ICcjZGMyNjI2JywgJ3JlZC03MDAnOiAnI2I5MWMxYycsICdyZWQtODAwJzogJyM5OTFiMWInLCAncmVkLTkwMCc6ICcjN2YxZDFkJ1xuICAgIH07XG4gICAgcmV0dXJuIGNvbG9yc1tjb2xvck5hbWVdIHx8ICcjOUM2QkZGJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaXF1ZSB1bmUgcHJvcG9zaXRpb24gZGUgbW9kaWZpY2F0aW9uIGR1IHRoXHUwMEU4bWVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGx5VGhlbWUoZSkge1xuICAgIGNvbnN0IHByb3Bvc2FsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcm9wb3NhbC1pZF0nKT8uZGF0YXNldC5wcm9wb3NhbElkO1xuICAgIGNvbnN0IHNpdGVTbHVnID0gc3RyaXBMZWFkaW5nU2xhc2goc3RvcmVkU2l0ZS5zbHVnIHx8ICcnKTtcbiAgICBpZiAoIXByb3Bvc2FsSWQgfHwgIXNpdGVTbHVnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiYW5pbWF0ZS1zcGluXCI+XHUyM0YzPC9zcGFuPiBBcHBsaWNhdGlvbi4uLic7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9hcHBseS10aGVtZWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1wdXJwbGUtNTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIGJnLXB1cnBsZS01MCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1wdXJwbGUtNzAwXCI+XHUyNzA1IFRoXHUwMEU4bWUgbWlzIFx1MDBFMCBqb3VyIGF2ZWMgc3VjY1x1MDBFOHMgITwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTYwMCBtdC0xXCI+UmVjaGFyZ2V6IGxhIHByZXZpZXcgcG91ciB2b2lyIGxlcyBjaGFuZ2VtZW50cy48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIHNob3dUb2FzdCgnVGhcdTAwRThtZSBtaXMgXHUwMEUwIGpvdXIgIScpO1xuICAgICAgICBcbiAgICAgICAgLy8gRFx1MDBFOWNsZW5jaGVyIHVuIFx1MDBFOXZcdTAwRTluZW1lbnQgcGVyc29ubmFsaXNcdTAwRTkgcG91ciByYWZyYVx1MDBFRWNoaXJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXRoZW1lLXVwZGF0ZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7IHVwZGF0ZWRUaGVtZTogZGF0YS51cGRhdGVkVGhlbWUgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdFcnJldXIgbG9ycyBkZSBsXFwnYXBwbGljYXRpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgYnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPjwvc3ZnPiBSXHUwMEU5ZXNzYXllcmA7XG4gICAgICBzaG93VG9hc3QoYEVycmV1cjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbGlxdWUgdW5lIHByb3Bvc2l0aW9uIGQnXHUwMEU5ZGl0aW9uIHZhbGlkXHUwMEU5ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXBwbHlFZGl0KGUpIHtcbiAgICBjb25zdCBwcm9wb3NhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtcHJvcG9zYWwtaWRdJyk/LmRhdGFzZXQucHJvcG9zYWxJZDtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFwcm9wb3NhbElkIHx8ICFzaXRlU2x1ZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgYnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImFuaW1hdGUtc3BpblwiPlx1MjNGMzwvc3Bhbj4gQXBwbGljYXRpb24uLi4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3NpdGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpdGVTbHVnKX0vYWkvYXBwbHktZWRpdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb3Bvc2FsSWQgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbXBsYWNlciBsYSBjYXJkIHBhciB1biBtZXNzYWdlIGRlIHN1Y2NcdTAwRThzXG4gICAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgICBpZiAocHJvcG9zYWxDYXJkKSB7XG4gICAgICAgICAgcHJvcG9zYWxDYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTUwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzbDQgNEwxOSA3XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1lbWVyYWxkLTUwIGJvcmRlciBib3JkZXItZW1lcmFsZC0yMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1lbWVyYWxkLTcwMFwiPlx1MjcwNSBNb2RpZmljYXRpb25zIGFwcGxpcXVcdTAwRTllcyBhdmVjIHN1Y2NcdTAwRThzICE8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWVtZXJhbGQtNjAwIG10LTFcIj5MYSBwcmV2aWV3IHNlIG1ldCBcdTAwRTAgam91ciBhdXRvbWF0aXF1ZW1lbnQuPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBzaG93VG9hc3QoJ01vZGlmaWNhdGlvbnMgYXBwbGlxdVx1MDBFOWVzICEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERcdTAwRTljbGVuY2hlciB1biBcdTAwRTl2XHUwMEU5bmVtZW50IHBlcnNvbm5hbGlzXHUwMEU5IHBvdXIgcmFmcmFcdTAwRUVjaGlyIGxhIHByZXZpZXdcbiAgICAgICAgY29uc3QgcGFnZUlkID0gZGF0YS51cGRhdGVkUGFnZT8uaWQgfHwgbnVsbDtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FpLXBhZ2UtdXBkYXRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHsgcGFnZUlkLCB1cGRhdGVkUGFnZTogZGF0YS51cGRhdGVkUGFnZSB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxcXCdhcHBsaWNhdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBidG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJ3LTMuNSBoLTMuNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNsNCA0TDE5IDdcIi8+PC9zdmc+IFJcdTAwRTllc3NheWVyYDtcbiAgICAgIHNob3dUb2FzdChgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWpldHRlIHVuZSBwcm9wb3NpdGlvbiBkJ1x1MDBFOWRpdGlvblxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVqZWN0RWRpdChlKSB7XG4gICAgY29uc3QgcHJvcG9zYWxJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb3Bvc2FsLWlkXScpPy5kYXRhc2V0LnByb3Bvc2FsSWQ7XG4gICAgY29uc3Qgc2l0ZVNsdWcgPSBzdHJpcExlYWRpbmdTbGFzaChzdG9yZWRTaXRlLnNsdWcgfHwgJycpO1xuICAgIGlmICghcHJvcG9zYWxJZCB8fCAhc2l0ZVNsdWcpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9wcm9wb3NhbC8ke3Byb3Bvc2FsSWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUmVtcGxhY2VyIGxhIGNhcmQgcGFyIHVuIG1lc3NhZ2UgZGUgcmVqZXRcbiAgICAgIGNvbnN0IHByb3Bvc2FsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb3Bvc2FsLWlkPVwiJHtwcm9wb3NhbElkfVwiXWApO1xuICAgICAgaWYgKHByb3Bvc2FsQ2FyZCkge1xuICAgICAgICBwcm9wb3NhbENhcmQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1zbGF0ZS00MDAgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS0xMDAgcm91bmRlZC0yeGwgcm91bmRlZC10bC1ub25lIHAtM1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+UHJvcG9zaXRpb24gcmVqZXRcdTAwRTllLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBSV0gUmVqZWN0IGVkaXQgZXJyb3I6JywgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRWZmYWNlIGwnaGlzdG9yaXF1ZSBkdSBjaGF0XG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBjbGVhckFJSGlzdG9yeSgpIHtcbiAgICBjb25zdCBzaXRlU2x1ZyA9IHN0cmlwTGVhZGluZ1NsYXNoKHN0b3JlZFNpdGUuc2x1ZyB8fCAnJyk7XG4gICAgaWYgKCFzaXRlU2x1ZyB8fCAhYWlDaGF0TWVzc2FnZXMpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc2l0ZXMvJHtlbmNvZGVVUklDb21wb25lbnQoc2l0ZVNsdWcpfS9haS9oaXN0b3J5YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pO1xuICAgICAgXG4gICAgICAvLyBWaWRlciBsZXMgbWVzc2FnZXNcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICcnO1xuICAgICAgXG4gICAgICAvLyBSXHUwMEU5YWZmaWNoZXIgbGUgbWVzc2FnZSBkZSBiaWVudmVudWVcbiAgICAgIGFpQ2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTNcIiBkYXRhLWFpLXdlbGNvbWU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdmlvbGV0LTUwMCB0by1pbmRpZ28tNjAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS42NjMgMTdoNC42NzNNMTIgM3YxbTYuMzY0IDEuNjM2bC0uNzA3LjcwN00yMSAxMmgtMU00IDEySDNtMy4zNDMtNS42NTdsLS43MDctLjcwN20yLjgyOCA5LjlhNSA1IDAgMTE3LjA3MiAwbC0uNTQ4LjU0N0EzLjM3NCAzLjM3NCAwIDAwMTQgMTguNDY5VjE5YTIgMiAwIDExLTQgMHYtLjUzMWMwLS44OTUtLjM1Ni0xLjc1NC0uOTg4LTIuMzg2bC0uNTQ4LS41NDd6XCIvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBiZy1zbGF0ZS01MCByb3VuZGVkLTJ4bCByb3VuZGVkLXRsLW5vbmUgcC0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS03MDBcIj5cbiAgICAgICAgICAgICAgU2FsdXQgISBcdUQ4M0RcdURDNEIgSmUgc3VpcyB0b24gYXNzaXN0YW50IElBIHBvdXIgY2Ugc2l0ZS4gSmUgcGV1eCB0J2FpZGVyIFx1MDBFMCA6XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJtdC0yIHRleHQtc20gdGV4dC1zbGF0ZS02MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxsaT5cdUQ4M0NcdURGQTggU3VnZ1x1MDBFOXJlciBkZXMgcGFsZXR0ZXMgZGUgY291bGV1cnM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBEXHVGRTBGIEdcdTAwRTluXHUwMEU5cmVyIGR1IGNvbnRlbnUgcG91ciB0ZXMgYmxvY3M8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVEQ0M0IENyXHUwMEU5ZXIgZGVzIHN0cnVjdHVyZXMgZGUgcGFnZXM8L2xpPlxuICAgICAgICAgICAgICA8bGk+XHVEODNEXHVERDBEIEFtXHUwMEU5bGlvcmVyIHRvbiBTRU88L2xpPlxuICAgICAgICAgICAgICA8bGk+XHUyNzBGXHVGRTBGIDxzdHJvbmc+QW5hbHlzZXIgZXQgbW9kaWZpZXIgdGVzIHBhZ2VzPC9zdHJvbmc+IChhdmVjIHZhbGlkYXRpb24pPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIFxuICAgICAgc2hvd1RvYXN0KCdIaXN0b3JpcXVlIGVmZmFjXHUwMEU5Jyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQUldIENsZWFyIGhpc3RvcnkgZmFpbGVkOicsIGVycik7XG4gICAgICBzaG93VG9hc3QoJ0VycmV1ciBsb3JzIGRlIGxcXCdlZmZhY2VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvbXB0cyByYXBpZGVzXG4gIGNvbnN0IHF1aWNrUHJvbXB0cyA9IHtcbiAgICBjb2xvcnM6ICdTdWdnXHUwMEU4cmUtbW9pIDMgcGFsZXR0ZXMgZGUgY291bGV1cnMgaGFybW9uaWV1c2VzIHBvdXIgbW9uIHNpdGUuIFBvdXIgY2hhcXVlIHBhbGV0dGUsIGRvbm5lIGxlcyBjb3VsZXVycyBUYWlsd2luZDogcHJpbWFyeSwgc2Vjb25kYXJ5LCBhY2NlbnQsIGV0IGJhY2tncm91bmQuJyxcbiAgICBoZXJvOiAnR1x1MDBFOW5cdTAwRThyZSB1biBibG9jIEhlcm8gZW4gSlNPTiBhdmVjIHVuIHRpdHJlIGFjY3JvY2hldXIsIHVuIHNvdXMtdGl0cmUgZW5nYWdlYW50IGV0IHVuIENUQS4nLFxuICAgIHNlbzogJ0FuYWx5c2UgbW9uIHNpdGUgZXQgc3VnZ1x1MDBFOHJlIGRlcyBhbVx1MDBFOWxpb3JhdGlvbnMgU0VPIHBvdXIgbGUgbWV0YSB0aXRsZSBldCBsYSBtZXRhIGRlc2NyaXB0aW9uIGRlIG1hIHBhZ2UgZFxcJ2FjY3VlaWwuJyxcbiAgICBsYW5kaW5nOiAnR1x1MDBFOW5cdTAwRThyZSBsYSBzdHJ1Y3R1cmUgSlNPTiBkXFwndW5lIGxhbmRpbmcgcGFnZSBjb21wbFx1MDBFOHRlIGF2ZWM6IEhlcm8sIDMgc2VjdGlvbnMgZGUgY29udGVudSwgZXQgdW4gQ1RBIGZpbmFsLicsXG4gICAgYW5hbHl6ZTogJ0FuYWx5c2UgbGUgY29udGVudSBkZSB0b3V0ZXMgbWVzIHBhZ2VzIGV0IHByb3Bvc2UgZGVzIGFtXHUwMEU5bGlvcmF0aW9ucyBjb25jclx1MDBFOHRlcy4gUG91ciBjaGFxdWUgc3VnZ2VzdGlvbiBkXFwnYW1cdTAwRTlsaW9yYXRpb24gZGUgdGV4dGUgb3UgZGUgc3RydWN0dXJlLCB1dGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQgcG91ciBxdWUgamUgcHVpc3NlIHZhbGlkZXIuJyxcbiAgICBpbXByb3ZlSG9tZTogJ0FuYWx5c2UgbWEgcGFnZSBkXFwnYWNjdWVpbCBldCBwcm9wb3NlIHVuZSBhbVx1MDBFOWxpb3JhdGlvbiBkdSB0aXRyZSBvdSBkdSBIZXJvIHBvdXIgbGUgcmVuZHJlIHBsdXMgaW1wYWN0YW50LiBVdGlsaXNlIGxlIGZvcm1hdCBwcm9wb3NlLWVkaXQuJ1xuICB9O1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyc1xuICBhaUNoYXRUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuQUlDaGF0KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRDbG9zZT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUFJQ2hhdCk7XG4gIGFpQ2hhdE92ZXJsYXk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VBSUNoYXQpO1xuXG4gIGFpQ2hhdENsZWFyPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoY29uZmlybSgnRWZmYWNlciB0b3V0IGxcXCdoaXN0b3JpcXVlIGRlIGNvbnZlcnNhdGlvbiA/JykpIHtcbiAgICAgIGNsZWFyQUlIaXN0b3J5KCk7XG4gICAgfVxuICB9KTtcblxuICBhaUNoYXRGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBtZXNzYWdlID0gYWlDaGF0SW5wdXQ/LnZhbHVlPy50cmltKCk7XG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIGFpQ2hhdElucHV0LnZhbHVlID0gJyc7XG4gICAgICBzZW5kQUlNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWlRdWlja0J1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGJ0bi5kYXRhc2V0LmFpUXVpY2s7XG4gICAgICBjb25zdCBwcm9tcHQgPSBxdWlja1Byb21wdHNbYWN0aW9uXTtcbiAgICAgIGlmIChwcm9tcHQpIHtcbiAgICAgICAgc2VuZEFJTWVzc2FnZShwcm9tcHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBGZXJtZXIgYXZlYyBFc2NhcGVcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBhaUNoYXRPcGVuKSB7XG4gICAgICBjbG9zZUFJQ2hhdCgpO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQUFBLFNBQVMsaUJBQWlCLG1CQUFvQixJQUFNLENBQXBELElBQUFBLEdBQ0UsUUFBUSxJQUFJLDJCQUF3QixFQUNwQyxJQUFNQyxHQUFlLFNBQVMsY0FBYyxlQUFlLEVBQ3ZEQSxJQUNGQSxHQUFhLGlCQUFpQixRQUFTLFNBQVksQ0FDakRBLEdBQWEsU0FBVyxHQUN4QixHQUFJLENBQ0YsTUFBTSxNQUFNLGNBQWUsQ0FDekIsT0FBUSxPQUNSLFFBQVMsQ0FDUCxlQUFnQixrQkFDbEIsQ0FDRixDQUFDLENBQ0gsT0FBU0MsRUFBSyxDQUNaLFFBQVEsTUFBTSwwQ0FBd0NBLENBQUcsQ0FDM0QsUUFBRSxDQUNBLE9BQU8sU0FBUyxLQUFPLG1CQUN6QixDQUNGLENBQUMsRUFHSCxJQUFNQyxHQUFVLFNBQVMsY0FBYyxzQkFB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QUN4Qk0sR0FBWSxDQUVoQixDQUFDLENBQ0gsQ0FBQyIsCiAgIm5hbWVzIjogWyJfYSIsICJsb2dvdXRCdXR0b24iLCAiZXJyIiwgInNpZGViYXIiLCAic2lkZWJhck92ZXJsYXkiLCAic2lkZWJhclRvZ2dsZXMiLCAic2lkZWJhckNsb3NlQnV0dG9ucyIsICJib2R5IiwgInNpZGViYXJPcGVuIiwgImFwcGx5U2lkZWJhclN0YXRlIiwgIm9wZW5TaWRlYmFyIiwgImNsb3NlU2lkZWJhciIsICJidXR0b24iLCAiZXZlbnQiLCAiQUNUSVZFX1NJVEVfS0VZIiwgIkFDVElWRV9TSVRFX05BTUVfS0VZIiwgInN0b3JlZFNpdGUiLCAicmF3U2x1ZyIsICJlbnN1cmVMZWFkaW5nU2xhc2giLCAic3RyaXBMZWFkaW5nU2xhc2giLCAic2l0ZUNhcmRzIiwgInNpdGVTZWxlY3RCdXR0b25zIiwgInNpdGVOYW1lTGFiZWwiLCAid29ya3NwYWNlU2l0ZUxhYmVsIiwgIndvcmtzcGFjZUJhY2tOYW1lIiwgIndvcmtzcGFjZUJhY2tNb2RhbCIsICJ3b3Jrc3BhY2VCYWNrQnV0dG9ucyIsICJ3b3Jrc3BhY2VCYWNrQ2FuY2VsIiwgIndvcmtzcGFjZUJhY2tDb25maXJtIiwgIndvcmtzcGFjZU5hdkxpbmtzIiwgInNpdGVUb2FzdCIsICJzaXRlVG9hc3RNZXNzYWdlIiwgInNpdGVDcmVhdGVCdXR0b25zIiwgInNpdGVNb2RhbCIsICJzaXRlRm9ybSIsICJzaXRlTmFtZUlucHV0IiwgInNpdGVTbHVnSW5wdXQiLCAic2l0ZVNsdWdFcnJvciIsICJzaXRlTW9kYWxFcnJvciIsICJzaXRlTW9kYWxDYW5jZWxCdXR0b25zIiwgInNpdGVNb2RhbFN1Ym1pdEJ1dHRvbiIsICJ3b3Jrc3BhY2VDb250ZXh0IiwgImdldFdvcmtzcGFjZUNvbnRleHQiLCAic2x1Z01hbnVhbGx5RWRpdGVkIiwgInRvYXN0VGltZW91dElkIiwgImZvY3VzYWJsZVNlbGVjdG9yIiwgIm1vZGFsU3RhY2siLCAiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCAibW9kYWwiLCAiZWwiLCAiaGFuZGxlTW9kYWxLZXlkb3duIiwgImN1cnJlbnRFbnRyeSIsICJvbkNsb3NlIiwgImZvY3VzYWJsZUVsZW1lbnRzIiwgImZpcnN0IiwgImxhc3QiLCAiYWN0aXZhdGVNb2RhbCIsICJmb2N1c2FibGUiLCAiX2IiLCAiZGVhY3RpdmF0ZU1vZGFsIiwgImluZGV4IiwgImVudHJ5IiwgIm1vYmlsZVBhbmVsT3ZlcmxheSIsICJtb2JpbGVQYW5lbExheWVyIiwgIm1vYmlsZVBhbmVscyIsICJtb2JpbGVQYW5lbExheWVyUGxhY2Vob2xkZXIiLCAicmlnaHRQYW5lbFBsYWNlaG9sZGVyIiwgIm1vYmlsZVBhbmVsVG9nZ2xlcyIsICJtb2JpbGVQYW5lbENsb3NlQnV0dG9ucyIsICJtb2JpbGVQYW5lbFRyaWdnZXJzIiwgImFjdGl2ZU1vYmlsZVBhbmVsIiwgImlzRGVza3RvcFZpZXdwb3J0IiwgImVuc3VyZU1vYmlsZVBhbmVsTGF5ZXJQbGFjZW1lbnQiLCAidGFyZ2V0UGFyZW50IiwgImVuc3VyZVJpZ2h0UGFuZWxQbGFjZW1lbnQiLCAicGFuZWwiLCAibGVmdFBhbmVsIiwgImVuc3VyZU1vYmlsZVBhbmVsUGxhY2VtZW50IiwgInBhbmVsRGVmYXVsdFoiLCAic2lkZSIsICJjb21wdXRlZFoiLCAiYWN0aXZlUGFuZWxaIiwgIm1heCIsICJ2YWx1ZSIsICJzZXRQYW5lbFpTdGF0ZSIsICJpc0FjdGl2ZSIsICJhcHBseVBhbmVsQ2xhc3NlcyIsICJjbGFzc2VzIiwgIm1ldGhvZCIsICJjbHMiLCAic2V0UGFuZWxIaWRkZW5TdGF0ZSIsICJoaWRkZW4iLCAiaGlkZGVuQ2xhc3NlcyIsICJ2aXNpYmxlQ2xhc3NlcyIsICJjbG9zZU1vYmlsZVBhbmVsIiwgInRyaWdnZXIiLCAib3Blbk1vYmlsZVBhbmVsIiwgImZvY3VzVGFyZ2V0IiwgInN5bmNNb2JpbGVQYW5lbHNXaXRoVmlld3BvcnQiLCAic2hvd1RvYXN0IiwgIm1lc3NhZ2UiLCAic2x1ZyIsICJ0cmltbWVkIiwgIndpdGhvdXRMZWFkaW5nIiwgInBlcnNpc3RTaXRlU3RhdGUiLCAibmFtZSIsICJub3JtYWxpemVkU2x1ZyIsICJ1cGRhdGVTaXRlTGFiZWxzIiwgInVwZGF0ZVdvcmtzcGFjZU5hdkxpbmtzIiwgImxpbmsiLCAidGFiIiwgInNsdWdQYXRoIiwgImFwcGx5QWN0aXZlU2l0ZSIsICJvcHRpb25zIiwgImFjdGl2ZVNpdGVOYW1lIiwgImNhcmQiLCAiYmFkZ2UiLCAiZmluYWxOYW1lIiwgInNlbGVjdFNpdGUiLCAicmVzcG9uc2UiLCAicGF5bG9hZCIsICJmaW5hbFNsdWciLCAic3luY0FjdGl2ZVNpdGVGcm9tU2VydmVyIiwgInNpdGUiLCAiZGVmYXVsdENhcmQiLCAid29ya3NwYWNlU2x1Z2lmeSIsICJub3JtYWxpemVTbHVnVmFsdWUiLCAiYmFzZSIsICJvcGVuU2l0ZU1vZGFsIiwgImNsb3NlU2l0ZU1vZGFsIiwgInNsdWdWYWwiLCAibmFtZVZhbCIsICJnZXRTbHVnU2V0IiwgIm5hbWVWYWx1ZSIsICJzbHVnVmFsdWUiLCAiY3JlYXRlZFNpdGUiLCAiY2xvc2VXb3Jrc3BhY2VCYWNrTW9kYWwiLCAibWF0Y2giLCAiZGV0ZWN0V29ya3NwYWNlU2VjdGlvbiIsICJvcGVuV29ya3NwYWNlQmFja01vZGFsIiwgIlRSQU5TUEFSRU5UX1BBVFRFUk4iLCAicGFyc2VDc3NDb2xvclRvUmdiIiwgIm5vcm1hbGl6ZWQiLCAicmdiTWF0Y2giLCAiaGV4TWF0Y2giLCAiaGV4IiwgIm5vcm1hbGl6ZWRIZXgiLCAiYyIsICJyIiwgImciLCAiYiIsICJnZXRSZWFkYWJsZVRleHRDb2xvciIsICJiYWNrZ3JvdW5kQ29sb3IiLCAicmdiIiwgInN0eWxlU2VsZWN0T3B0aW9ucyIsICJzZWxlY3QiLCAib3B0aW9uIiwgIm9wdGlvbkNvbG9yIiwgImFjdGl2ZVNlY3Rpb24iLCAiaW5pdERlc2lnbldvcmtzcGFjZSIsICJpbml0Q29udGVudFdvcmtzcGFjZSIsICJpbml0TWVkaWFXb3Jrc3BhY2UiLCAiaW5pdERlcGxveVdvcmtzcGFjZSIsICJpbml0U2V0dGluZ3NXb3Jrc3BhY2UiLCAicGFnZUxpc3RzIiwgImFjdGl2ZVRpdGxlIiwgImFjdGl2ZVNsdWciLCAicHJldmlld1RhZ3MiLCAicHJldmlld0ZyYW1lIiwgInByZXZpZXdGcmFtZVdyYXBwZXIiLCAicHJldmlld1NoZWxsIiwgInByZXZpZXdWaWV3QnV0dG9ucyIsICJwcmV2aWV3Q3VycmVudFZpZXdMYWJlbCIsICJwcmV2aWV3T3BlbkJ1dHRvbiIsICJwcmV2aWV3U3RhdHVzIiwgInByZXZpZXdIaWdobGlnaHRPdmVybGF5IiwgInNlb1RvZ2dsZUJ1dHRvbiIsICJzZW9QYW5lbCIsICJzZW9DbG9zZUJ1dHRvbiIsICJzZW9Gb3JtIiwgInNlb1RpdGxlSW5wdXQiLCAic2VvRGVzY3JpcHRpb25JbnB1dCIsICJzZW9JbmRleGVkQ2hlY2tib3giLCAic2VvRmVlZGJhY2siLCAic2VvU2F2ZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eVRvZ2dsZUJ1dHRvbiIsICJwYWdlQWNjZXNzaWJpbGl0eVBhbmVsIiwgInBhZ2VBY2Nlc3NpYmlsaXR5Q2xvc2VCdXR0b24iLCAicGFnZUFjY2Vzc2liaWxpdHlGb3JtIiwgInBhZ2VBY2Nlc3NpYmlsaXR5TmF2Q2hlY2tib3giLCAicGFnZUFjY2Vzc2liaWxpdHlNYWluSW5wdXQiLCAicGFnZUFjY2Vzc2liaWxpdHlGZWVkYmFjayIsICJwYWdlQWNjZXNzaWJpbGl0eVNhdmVCdXR0b24iLCAicGFnZVByb3BzVG9nZ2xlQnV0dG9uIiwgInBhZ2VQcm9wc1BhbmVsIiwgInBhZ2VQcm9wc0Nsb3NlQnV0dG9uIiwgInBhZ2VQcm9wc0Zvcm0iLCAicGFnZU5hbWVJbnB1dCIsICJwYWdlVGl0bGVJbnB1dCIsICJwYWdlU2x1Z0lucHV0IiwgInBhZ2VEZXNjcmlwdGlvbklucHV0IiwgInBhZ2VQcm9wc0ZlZWRiYWNrIiwgInBhZ2VQcm9wc1NhdmVCdXR0b24iLCAiYmxvY2tMaXN0IiwgImJsb2NrTGlzdEVtcHR5IiwgImJsb2NrQ291bnRCYWRnZSIsICJibG9ja0xpYnJhcnlUb2dnbGUiLCAiYmxvY2tMaWJyYXJ5IiwgImJsb2NrQWRkQnV0dG9ucyIsICJibG9ja0RlbGV0ZU1vZGFsIiwgImJsb2NrRGVsZXRlQ29uZmlybSIsICJibG9ja0RlbGV0ZUNhbmNlbCIsICJibG9ja0RldGFpbEVtcHR5IiwgImJsb2NrRGV0YWlsU3RhdHVzIiwgImJsb2NrRWRpdG9yIiwgImJsb2NrRWRpdG9yVGl0bGUiLCAiYmxvY2tFZGl0b3JUeXBlIiwgImJsb2NrRWRpdG9yVW5zdXBwb3J0ZWQiLCAiYmxvY2tGb3JtIiwgInN0eWxlQ29sb3JDaGlwIiwgImNoaXAiLCAiY29sb3IiLCAiZW5zdXJlQ3VzdG9tVGhlbWVPcHRpb24iLCAib3B0IiwgInVwZGF0ZUNvbG9yU2VsZWN0UHJldmlldyIsICJfYyIsICJzZWxlY3RlZE9wdGlvbiIsICJjb2xvclByZXZpZXciLCAiY29sb3JDaGlwIiwgInRoZW1lQ29sb3JTZWxlY3RzIiwgImlzQmFja2dyb3VuZFRoZW1lU2VsZWN0IiwgInRoZW1lQ29sb3JQcmVzZXRzIiwgImdldENvbXB1dGVkVGhlbWVDb2xvclZhbHVlIiwgImNzc1ZhciIsICJmYWxsYmFjayIsICJjb21wdXRlZCIsICJmaWxsVGhlbWVDb2xvclNlbGVjdCIsICJsYWJlbCIsICJjb2xvclZhbHVlIiwgInJlZnJlc2hUaGVtZUNvbG9yU2VsZWN0cyIsICJibG9ja0Zvcm1TZWN0aW9ucyIsICJnZXRCbG9ja0VkaXRvclNlY3Rpb25FbGVtZW50IiwgImNvbmZpZyIsICJibG9ja1RhYnMiLCAiYWN0aXZlQmxvY2tUYWIiLCAibGVmdFBhbmVsVGFicyIsICJsZWZ0UGFuZWxCbG9ja3MiLCAibGVmdFBhbmVsUGFnZXMiLCAiYWN0aXZlTGVmdFRhYiIsICJzd2l0Y2hMZWZ0VGFiIiwgInRhYk5hbWUiLCAiYmxvY2tGb3JtQWN0aW9ucyIsICJibG9ja0Zvcm1BdXRvc2F2ZSIsICJzd2l0Y2hCbG9ja1RhYiIsICJjb2xsZWN0aW9uU2VsZWN0IiwgImNvbGxlY3Rpb25TZWxlY3Rpb25JbmZvIiwgImJsb2NrRm9ybUNhbmNlbCIsICJncm91cFByZXZpZXdNb2JpbGUiLCAiZ3JvdXBQcmV2aWV3RGVza3RvcCIsICJjb2xsZWN0aW9uUHJldmlld01vYmlsZSIsICJjb2xsZWN0aW9uUHJldmlld0Rlc2t0b3AiLCAiYmxvY2tUeXBlRm9ybXMiLCAiYmxvY2tUeXBlQWxpYXNlcyIsICJhbmltYXRpb25GaWVsZE1hcCIsICJ1cGRhdGVHcm91cE1pbmlQcmV2aWV3IiwgIm1vYmlsZVZhbHVlIiwgImRlc2t0b3BWYWx1ZSIsICJyZW5kZXJCb3hlcyIsICJjb3VudCIsICJ1cGRhdGVDb2xsZWN0aW9uTWluaVByZXZpZXciLCAiZmV0Y2hQYWdlc0Zyb21TZXJ2ZXIiLCAicGFnZXNBcGlCYXNlIiwgImNyZWF0ZVBhZ2VPblNlcnZlciIsICJ0aXRsZSIsICJzYXZlUGFnZVRvU2VydmVyIiwgInBhZ2UiLCAic2F2ZWQiLCAibm9ybWFsaXplUGFnZURhdGEiLCAicGFnZXMiLCAiY3VycmVudFBhZ2UiLCAibG9hZFBhZ2VzRnJvbVNlcnZlciIsICJhY3RpdmVQYWdlSWQiLCAicmVuZGVyUGFnZUxpc3RzIiwgInJlbmRlckJsb2NrTGlzdCIsICJsb2FkZWRQYWdlcyIsICJnZXRMb2FkaW5nUHJldmlld0h0bWwiLCAiZ2V0U3RvcmVkQWN0aXZlUGFnZSIsICJzZXRBY3RpdmVQYWdlIiwgIm5vcm1hbGl6ZVR5cGUiLCAiZ2V0QmxvY2tGb3JtQ29uZmlnIiwgImJsb2NrIiwgInR5cGVLZXkiLCAiYWxpYXMiLCAicG9wdWxhdGVCbG9ja0Zvcm0iLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAic2VjdGlvblJvb3QiLCAic2VjdGlvbiIsICJkZXNpcmVkVmFsdWUiLCAidXBkYXRlQ29sbGVjdGlvblNlbGVjdE9wdGlvbnMiLCAic2V0dGluZ0tleSIsICJmaWVsZE5hbWUiLCAiaW5wdXQiLCAiYmdGaWVsZE5hbWUiLCAiYmdTZWxlY3QiLCAiY29sbGVjdEZvcm1WYWx1ZXMiLCAidmFsdWVzIiwgInBhcnNlZCIsICJ1cGRhdGVQcmV2aWV3U3RhdHVzIiwgInRleHQiLCAic2VyaWFsaXplUGFnZUZvclByZXZpZXciLCAic2VyaWFsaXplQmxvY2siLCAiZGVib3VuY2UiLCAiZm4iLCAiZGVsYXkiLCAidGltZW91dElkIiwgImFyZ3MiLCAiYXV0b1NhdmVBcHBlYXJhbmNlIiwgImFjdGl2ZUJsb2NrSWQiLCAiZ2V0QWN0aXZlQmxvY2siLCAidXBkYXRlZEJsb2NrcyIsICJkaWRVcGRhdGUiLCAiZm91bmRQYXJlbnRJZCIsICJ1cGRhdGVCbG9ja3NEZWVwIiwgInVwZGF0ZWRTZXR0aW5ncyIsICJhY3RpdmVCbG9ja1BhcmVudElkIiwgIm5leHRQYWdlIiwgInAiLCAidXBkYXRlUHJldmlld0Jsb2NrTGl2ZSIsICJibG9ja0lkIiwgInNldHRpbmdzIiwgImRlYm91bmNlZFJlZnJlc2hQcmV2aWV3IiwgInJlZnJlc2hQcmV2aWV3IiwgImhhbmRsZUFwcGVhcmFuY2VDaGFuZ2UiLCAicHJldmlld1NpdGVTbHVnIiwgInNlcmlhbGl6ZWRQYWdlcyIsICJwcmV2aWV3UmVhZHkiLCAicHJldmlld1JlcXVlc3RDb250cm9sbGVyIiwgImNvbnRyb2xsZXIiLCAiZGF0YSIsICJtc2ciLCAibGF0ZXN0UHJldmlld0h0bWwiLCAiZXJyb3IiLCAiaGFuZGxlQmxvY2tGb3JtU3VibWl0IiwgImFsdFZhbHVlIiwgInVwZGF0ZWRCbG9jayIsICJ1cGRhdGVDdXJyZW50UGFnZUJsb2NrcyIsICJkcmF3ZXIiLCAiZHJhd2VyQmFja2Ryb3AiLCAiZHJhd2VyT3BlbkJ1dHRvbnMiLCAiZHJhd2VyQ2xvc2VCdXR0b25zIiwgImFkZFBhZ2VUb2dnbGUiLCAiYWRkUGFnZUZvcm0iLCAiYWRkUGFnZU5hbWUiLCAiYWRkUGFnZVRpdGxlIiwgImFkZFBhZ2VTbHVnIiwgImFkZFBhZ2VDYW5jZWwiLCAiYWRkUGFnZUVycm9yIiwgImFkZFBhZ2VTdWJtaXRCdXR0b24iLCAiaW1wb3J0VG9nZ2xlIiwgImltcG9ydE1vZGFsIiwgImltcG9ydENsb3NlQnV0dG9ucyIsICJpbXBvcnREcm9wem9uZSIsICJpbXBvcnRGaWxlSW5wdXQiLCAiaW1wb3J0RmlsZUxpc3QiLCAiaW1wb3J0RmlsZU5hbWVzIiwgImltcG9ydFJlc3VsdHMiLCAiaW1wb3J0UmVzdWx0c0NvbnRlbnQiLCAiaW1wb3J0U3VibWl0IiwgImltcG9ydFRhYnMiLCAiaW1wb3J0UGFuZWxzIiwgImNvcHlQcm9tcHRCdG4iLCAiY29weVRlbXBsYXRlQnRuIiwgInRlbXBsYXRlSnNvbiIsICJpbXBvcnRBaVByb21wdCIsICJpbXBvcnRQYXN0ZUlucHV0IiwgInBhc3RlRm9ybWF0QnRuIiwgInBhc3RlRXJyb3IiLCAiaW1wb3J0U2VsZWN0ZWRGaWxlcyIsICJhY3RpdmVJbXBvcnRUYWIiLCAiZGVsZXRlUGFnZU1vZGFsIiwgImRlbGV0ZVBhZ2VOYW1lIiwgImRlbGV0ZVBhZ2VDYW5jZWwiLCAiZGVsZXRlUGFnZUNvbmZpcm0iLCAicGFnZVRvRGVsZXRlIiwgInNpdGVLZXkiLCAic2l0ZVNsdWdWYWx1ZSIsICJzYWZlU2l0ZVNsdWciLCAiY29sbGVjdGlvbnNBcGlCYXNlIiwgInN0b3JhZ2VLZXlzIiwgImNyZWF0ZUJsb2NrIiwgImlkIiwgInR5cGUiLCAic3RhdHVzIiwgImRlc2NyaXB0aW9uIiwgInByb3BzIiwgImJsb2NrTGlicmFyeURlZmluaXRpb25zIiwgInBlcnNpc3RBY3RpdmVQYWdlIiwgInBhZ2VJZCIsICJzdG9yZWQiLCAiZm9ybWF0QmxvY2tDb3VudCIsICJub3JtYWxpemVQYWdlU2x1ZyIsICJnZW5lcmF0ZUJsb2NrSWQiLCAia2V5IiwgImNyZWF0ZUluaXRpYWxCbG9ja3MiLCAic2V0QWN0aXZlTGFiZWxzIiwgInJlbmRlclByZXZpZXdNZXRhIiwgInRhZyIsICJnZXRTdGF0dXNCYWRnZUNsYXNzZXMiLCAicmVuZGVyQmxvY2tEZXRhaWxzIiwgInJlYWRBY2NlbnRDb2xvciIsICJhcHBseVByZXZpZXdIaWdobGlnaHQiLCAiZG9jIiwgIm5vZGUiLCAiYWNjZW50IiwgInByZXZpZXdWaWV3UHJlc2V0cyIsICJzZXRQcmV2aWV3VmlldyIsICJ2aWV3IiwgInRhcmdldCIsICJzdHlsZXMiLCAiY3JlYXRlQmxvY2tJdGVtRWxlbWVudCIsICJpc05lc3RlZCIsICJwYXJlbnRJZCIsICJibG9ja1R5cGUiLCAiaXNHcm91cCIsICJpdGVtIiwgImNvbnRlbnQiLCAiaGFuZGxlIiwgInRleHRXcmFwcGVyIiwgIm1ldGEiLCAidHlwZUJhZGdlIiwgInN0YXR1c0JhZGdlIiwgImNoaWxkQ291bnQiLCAiY2hpbGRCYWRnZSIsICJkaXNwbGF5TGFiZWwiLCAiY29sbGVjdGlvbk5hbWUiLCAiZGVzaWduQ29sbGVjdGlvbnMiLCAiaW5mbyIsICJhY3Rpb25zIiwgIm1vdmVCdXR0b25zIiwgIm1vdmVVcCIsICJtb3ZlQ2hpbGRCbG9ja0J5T2Zmc2V0IiwgIm1vdmVCbG9ja0J5T2Zmc2V0IiwgIm1vdmVEb3duIiwgImRlbGV0ZUJ1dHRvbiIsICJyZW1vdmVDaGlsZEZyb21Hcm91cCIsICJvcGVuQmxvY2tEZWxldGVNb2RhbCIsICJzZXRBY3RpdmVCbG9jayIsICJjcmVhdGVHcm91cERyb3Bab25lIiwgInBhcmVudEJsb2NrIiwgImRyb3Bab25lIiwgImUiLCAibW92ZUJsb2NrVG9Hcm91cCIsICJvcGVuQWRkQmxvY2tUb0dyb3VwTW9kYWwiLCAiYmxvY2tzIiwgImNoaWxkIiwgImNoaWxkSXRlbSIsICJmaW5kQ2hpbGRMb2NhdGlvbiIsICJjaGlsZElkIiwgImdyb3VwSW5kZXgiLCAiZ3JvdXBCbG9jayIsICJncm91cFR5cGUiLCAiY2hpbGRJbmRleCIsICJleHRyYWN0QmxvY2tCeUlkIiwgInJvb3RJbmRleCIsICJjaGlsZExvYyIsICJpbnNlcnRCbG9ja0ludG9Sb290IiwgInNhZmVJbmRleCIsICJpbnNlcnRCbG9ja0ludG9Hcm91cCIsICJncm91cElkIiwgImdldEluc2VydEluZGV4RnJvbVBvc2l0aW9uIiwgImJhc2VJbmRleCIsICJwb3NpdGlvbiIsICJvZmZzZXRXaGVuQWZ0ZXIiLCAiY29tbWl0QmxvY2tzQ2hhbmdlIiwgImFjdGl2ZUlkIiwgImFjdGl2ZVBhcmVudElkIiwgInRvYXN0TWVzc2FnZSIsICJleHRyYWN0ZWQiLCAibW92ZUNoaWxkRnJvbUdyb3VwVG9Sb290QXQiLCAiaW5zZXJ0SW5kZXgiLCAibW92ZUNoaWxkV2l0aGluR3JvdXAiLCAidGFyZ2V0Q2hpbGRJZCIsICJmcm9tSW5kZXgiLCAidG9JbmRleEJhc2UiLCAibW92ZWQiLCAiYWRqdXN0ZWRUb0luZGV4QmFzZSIsICJtb3ZlQW55QmxvY2tUb0dyb3VwQXQiLCAidGFyZ2V0SW5kZXgiLCAicmVzb2x2ZWQiLCAib2Zmc2V0IiwgImN1cnJlbnRJbmRleCIsICJuZXdJbmRleCIsICJwZW5kaW5nR3JvdXBJZEZvck5ld0Jsb2NrIiwgIm9wZW5EZWxldGVQYWdlTW9kYWwiLCAiY2xvc2VEZWxldGVQYWdlTW9kYWwiLCAiZXhlY3V0ZURlbGV0ZVBhZ2UiLCAicGFnZVRpdGxlIiwgInJlc3VsdCIsICJsaXN0IiwgImRpc3BsYXlOYW1lIiwgIm5hdkJhZGdlIiwgImlzRGVza3RvcERyYXdlciIsICJjbG9zZURyYXdlciIsICJkZWxldGVCdG4iLCAicGFnZUhhc0Jsb2NrSWQiLCAid2FsayIsICJub2RlcyIsICJ1cGRhdGVyIiwgInBhcmVudEhpbnQiLCAiY3VycmVudFBhcmVudElkIiwgImNoYW5nZWQiLCAibmV4dENoaWxkcmVuIiwgImNoaWxkcmVuQ2hhbmdlZCIsICJ0YXJnZXRCbG9jayIsICJmb3VuZCIsICJuZXdCbG9ja3MiLCAidXBkYXRlQ3VycmVudFBhZ2VTdGF0ZSIsICJpc0Rlc2t0b3BSZW9yZGVyIiwgInJlb3JkZXJCbG9ja3MiLCAic291cmNlSWQiLCAidGFyZ2V0SWQiLCAidG9JbmRleCIsICJyZW9yZGVyQmxvY2tzV2l0aFBvc2l0aW9uIiwgInVwZGF0ZURyYWdnYWJsZVN0YXRlIiwgImRyYWdnYWJsZSIsICJjbG9zZUJsb2NrTGlicmFyeSIsICJibG9ja0xpYnJhcnlPcGVuIiwgIm9wZW5CbG9ja0xpYnJhcnkiLCAidG9nZ2xlQmxvY2tMaWJyYXJ5IiwgImFkZEJsb2NrRnJvbUxpYnJhcnkiLCAiZGVmaW5pdGlvbiIsICJuZXdCbG9jayIsICJmaXJzdENvbGxlY3Rpb25JZCIsICJuZXh0QmxvY2tzIiwgImRlbGV0ZUJsb2NrQnlJZCIsICJuZXh0QWN0aXZlIiwgImNsb3NlQmxvY2tEZWxldGVNb2RhbCIsICJwZW5kaW5nRGVsZXRlQmxvY2tJZCIsICJzeW5jUGFnZUFjY2Vzc2liaWxpdHlGaWVsZHMiLCAic3luY0RyYXdlclN0YXRlIiwgIm9wZW5EcmF3ZXIiLCAib3BlbkFkZFBhZ2VGb3JtIiwgInBhZ2VTbHVnTWFudWFsbHlFZGl0ZWQiLCAiY2xvc2VBZGRQYWdlRm9ybSIsICJzeW5jU2x1Z0Zyb21OYW1lIiwgIm5vcm1hbGl6ZUJsb2NrRGF0YSIsICJsb2FkRGVzaWduQ29sbGVjdGlvbnMiLCAiY3VycmVudFZhbHVlIiwgInN5bmNDb2xsZWN0aW9uU2VsZWN0aW9uSW5mbyIsICJjb2xsZWN0aW9uSWQiLCAiY29sbGVjdGlvbiIsICJkZXRhaWxzIiwgInNlbGVjdGVkVmFsdWUiLCAiZmFsbGJhY2tPcHRpb24iLCAiY3JlYXRlZFBhZ2UiLCAicmVzZXRQYXN0ZVN0YXRlIiwgInZhbGlkYXRlUGFzdGVKc29uIiwgImZvcm1hdFBhc3RlSnNvbiIsICJ1cGRhdGVJbXBvcnRTdWJtaXRTdGF0ZSIsICJvcGVuSW1wb3J0TW9kYWwiLCAidXBkYXRlSW1wb3J0RmlsZUxpc3QiLCAidCIsICJjbG9zZUltcG9ydE1vZGFsIiwgImYiLCAiaGFuZGxlSW1wb3J0RmlsZXMiLCAiZmlsZXMiLCAianNvbkZpbGVzIiwgImV4ZWN1dGVJbXBvcnQiLCAiX2giLCAiX2kiLCAiX2oiLCAiX2siLCAicGFnZXNEYXRhIiwgInBhcnNlRXJyIiwgImVycm9yTGluZSIsICJlcnJvckRldGFpbCIsICJwb3MiLCAibGluZXMiLCAibGluZU51bSIsICJjb2xOdW0iLCAiZmlsZUVycm9ycyIsICJmaWxlIiwgImh0bWwiLCAiaGFzRGF0YSIsICJoYXNTdWNjZXNzIiwgImhhc0Vycm9ycyIsICJjb2xsZWN0aW9uc01zZyIsICJidG4iLCAidGFyZ2V0UGFuZWwiLCAiYWN0aXZlIiwgInRhcmdldFZpZXciLCAic3R5bGUiLCAiaXNHcm91cFR5cGUiLCAiZ2V0UGFyZW50SWRGb3JCbG9jayIsICJwcmV2aWV3V2luZG93IiwgInRvZ2dsZVNlb1BhbmVsIiwgInNob3ciLCAic2V0U2VvRmVlZGJhY2siLCAidG9uZSIsICJpc1Zpc2libGUiLCAic2VvRGF0YSIsICJ1cGRhdGVkUGFnZSIsICJ0b2dnbGVQYWdlQWNjZXNzaWJpbGl0eVBhbmVsIiwgInNldFBhZ2VBY2Nlc3NpYmlsaXR5RmVlZGJhY2siLCAiYWNjZXNzaWJpbGl0eURhdGEiLCAidG9nZ2xlUGFnZVByb3BzUGFuZWwiLCAic2V0UGFnZVByb3BzRmVlZGJhY2siLCAibmV3TmFtZSIsICJuZXdUaXRsZSIsICJuZXdTbHVnIiwgIm5ld0Rlc2NyaXB0aW9uIiwgImhhbmRsZUJsb2NrRHJhZ1N0YXJ0IiwgImRyYWdTb3VyY2VJZCIsICJkcmFnU291cmNlUGFyZW50SWQiLCAiY2xlYXJEcmFnSW5kaWNhdG9ycyIsICJoYW5kbGVCbG9ja0RyYWdFbmQiLCAiaGFuZGxlQmxvY2tEcmFnT3ZlciIsICJyZWN0IiwgIm1pZFkiLCAiaXNBYm92ZSIsICJoYW5kbGVCbG9ja0RyYWdMZWF2ZSIsICJyZWxhdGVkVGFyZ2V0IiwgImhhbmRsZUJsb2NrRHJvcCIsICJzb3VyY2UiLCAic291cmNlUGFyZW50IiwgImRyb3BQb3NpdGlvbiIsICJ0YXJnZXRSb290SW5kZXgiLCAiYWN0aXZlUGFnZSIsICJjb2xsZWN0aW9uTGlzdCIsICJjb250ZW50Vmlld3MiLCAiY29udGVudFNlY3Rpb25CdXR0b25zIiwgImNvbnRlbnRTZWN0aW9uVHJpZ2dlcnMiLCAiaGVhZGVyU3RhdHVzSW5kaWNhdG9yIiwgImZvb3RlclN0YXR1c0luZGljYXRvciIsICJjb2xsZWN0aW9uQ291bnRFbCIsICJpdGVtUGFuZWwiLCAiaXRlbVBhbmVsQ2xvc2VCdXR0b25zIiwgImNvbGxlY3Rpb25FbXB0eVN0YXRlIiwgImNvbGxlY3Rpb25JdGVtc0VtcHR5IiwgIml0ZW1UYWJsZVdyYXBwZXIiLCAiaXRlbVRhYmxlQm9keSIsICJjb2xsZWN0aW9uVGl0bGUiLCAiY29sbGVjdGlvbkRlc2NyaXB0aW9uIiwgIml0ZW1BZGRCdXR0b24iLCAiaXRlbURldGFpbEVtcHR5IiwgIml0ZW1Gb3JtIiwgIml0ZW1Gb3JtRmllbGRzIiwgIml0ZW1TdGF0dXNCYWRnZSIsICJpdGVtRGVsZXRlQnV0dG9uIiwgIml0ZW1EZWxldGVNb2RhbCIsICJpdGVtRGVsZXRlQ2FuY2VsIiwgIml0ZW1EZWxldGVDb25maXJtIiwgIml0ZW1Gb3JtQ2FuY2VsIiwgIml0ZW1Gb3JtU2F2ZSIsICJzdGF0dXNCYWRnZUJhc2VDbGFzcyIsICJzZXRJdGVtUGFuZWxIaWRkZW5TdGF0ZSIsICJzeW5jSXRlbVBhbmVsV2l0aFZpZXdwb3J0IiwgImhpZGVJdGVtRm9ybSIsICJoZWFkZXJGaWVsZHMiLCAiaGVhZGVyTmF2T3JkZXJMaXN0IiwgImhlYWRlclNhdmVCdG4iLCAiaGVhZGVyTmF2SXRlbVRlbXBsYXRlIiwgImhlYWRlclBhZ2VzTGlzdCIsICJzaXRlUGFnZXMiLCAic2VsZWN0ZWROYXZQYWdlcyIsICJmb290ZXJGaWVsZHMiLCAiZm9vdGVyQ29sdW1uc0xpc3QiLCAiZm9vdGVyQ29sdW1uQWRkQnRuIiwgImZvb3RlclNhdmVCdG4iLCAiZm9vdGVyQ29sdW1uVGVtcGxhdGUiLCAiZm9vdGVyTGlua1RlbXBsYXRlIiwgImFjdGl2ZUNvbnRlbnRTZWN0aW9uIiwgImhlYWRlckRhdGEiLCAiZm9vdGVyRGF0YSIsICJzYWZlU2l0ZVNsdWdGb3JMYXlvdXQiLCAibGF5b3V0QXBpQmFzZSIsICJzaG93Q29udGVudFZpZXciLCAidmlld05hbWUiLCAibG9hZFNpdGVQYWdlc0ZvckhlYWRlciIsICJyZW5kZXJQYWdlQ2hlY2tib3hlcyIsICJub3JtYWxpemVOYXZQYWdlVXJsIiwgInJhdyIsICJsb3dlciIsICJ3aXRob3V0U2xhc2hlcyIsICJjbGVhbmVkSW50ZXJuYWwiLCAiY2xlYW5lZCIsICJub3JtYWxpemVPcHRpb25hbE5hdlVybCIsICJkZWZhdWx0VmFsdWUiLCAicGFnZVNsdWciLCAicGFnZURpc3BsYXlOYW1lIiwgInBhZ2VVcmwiLCAiaXNTZWxlY3RlZCIsICJuYXYiLCAiY2hlY2tib3giLCAiZXhpc3RpbmdJbmRleCIsICJyZW5kZXJIZWFkZXJOYXZPcmRlciIsICJlbXB0eSIsICJyb3ciLCAidXJsIiwgImNvbnRyb2xzIiwgInVwIiwgIm5leHQiLCAidG1wIiwgImRvd24iLCAicmVtb3ZlIiwgImNvbGxlY3RIZWFkZXJEYXRhIiwgIl9sIiwgInBvcHVsYXRlSGVhZGVyRm9ybSIsICJhZGRGb290ZXJMaW5rIiwgImNvbnRhaW5lciIsICJjbG9uZSIsICJsYWJlbElucHV0IiwgInVybElucHV0IiwgInJlbW92ZUJ0biIsICJhZGRGb290ZXJDb2x1bW4iLCAibGlua3MiLCAiY29sdW1uIiwgInRpdGxlSW5wdXQiLCAibGlua3NDb250YWluZXIiLCAiYWRkTGlua0J0biIsICJjb2xsZWN0Rm9vdGVyRGF0YSIsICJfbSIsICJfbiIsICJfbyIsICJfcCIsICJfcSIsICJfciIsICJfcyIsICJfdCIsICJjb2x1bW5zIiwgImNvbCIsICJsaW5rRWwiLCAicG9wdWxhdGVGb290ZXJGb3JtIiwgInYiLCAic2FmZVNpdGVTbHVnVmFsdWUiLCAiY29sbGVjdGlvbnMiLCAiY29sbGVjdGlvbkl0ZW1zIiwgImFjdGl2ZUNvbGxlY3Rpb25JZCIsICJhY3RpdmVJdGVtSWQiLCAiaXNDcmVhdGluZ0l0ZW0iLCAiaXRlbVNsdWdNYW51YWxseUVkaXRlZCIsICJwZW5kaW5nRGVsZXRlSXRlbUlkIiwgIm5vcm1hbGl6ZUl0ZW1TbHVnSW5wdXQiLCAiY2xlYW5lZFNlZ21lbnRzIiwgInNlZ21lbnQiLCAiZm9ybWF0SXRlbURhdGUiLCAiZGF0ZSIsICJ1cGRhdGVDb2xsZWN0aW9uSGVhZGVyIiwgInVwZGF0ZUl0ZW1zRW1wdHlNZXNzYWdlIiwgInNob3dJdGVtRm9ybSIsICJzeW5jQWRkQnV0dG9uU3RhdGUiLCAic3luY0l0ZW1TdGF0dXNCYWRnZSIsICJjb2xvckNsYXNzIiwgInJlbmRlckNvbGxlY3Rpb25MaXN0IiwgInNldEFjdGl2ZUNvbGxlY3Rpb24iLCAicmVuZGVySXRlbVRhYmxlIiwgInN0YXR1c0NsYXNzZXMiLCAiaGFuZGxlU2VsZWN0IiwgInNlbGVjdEl0ZW0iLCAiaXRlbUlkIiwgInBvcHVsYXRlSXRlbUZvcm0iLCAicHJlcGFyZU5ld0l0ZW1Gb3JtIiwgImNvbGxlY3RJdGVtRm9ybVZhbHVlcyIsICJzbHVnSW5wdXQiLCAic3VtbWFyeSIsICJpbWFnZSIsICJjdGFUZXh0IiwgImN0YVVybCIsICJjdGEiLCAic2V0Rm9ybVNhdmluZ1N0YXRlIiwgImlzU2F2aW5nIiwgImZldGNoQ29sbGVjdGlvbkl0ZW1zIiwgImNyZWF0ZUNvbGxlY3Rpb25JdGVtIiwgInVwZGF0ZUNvbGxlY3Rpb25JdGVtIiwgImRlbGV0ZUNvbGxlY3Rpb25JdGVtIiwgImxvYWRDb2xsZWN0aW9ucyIsICJkZWZhdWx0SWQiLCAic2F2ZWRJdGVtIiwgImNsb3NlRGVsZXRlTW9kYWwiLCAib3BlbkRlbGV0ZU1vZGFsIiwgImZvcm0iLCAicHJvdG9jb2xTZWxlY3QiLCAiaG9zdElucHV0IiwgInBvcnRJbnB1dCIsICJ1c2VySW5wdXQiLCAicGFzc3dvcmRJbnB1dCIsICJzaG93UGFzc3dvcmRUb2dnbGUiLCAicmVtb3RlUGF0aElucHV0IiwgImZlZWRiYWNrIiwgInNhdmVCdXR0b24iLCAidGVzdEJ1dHRvbiIsICJkZXBsb3lCdXR0b24iLCAiaGlzdG9yeUxpc3QiLCAibG9nQm94IiwgImRlcGxveUFwaUJhc2UiLCAiZGVwbG95UnVuQXBpIiwgImRlcGxveUxvZ0FwaSIsICJoYXNQYXNzd29yZCIsICJidXN5QWN0aW9uIiwgInNhbml0aXplUmVtb3RlUGF0aCIsICJzZXRGZWVkYmFjayIsICJiYXNlQ2xhc3MiLCAidG9uZUNsYXNzIiwgImljb24iLCAic2V0QnVzeSIsICJhY3Rpb24iLCAiZGlzYWJsZSIsICJzcGlubmVyIiwgInBvcHVsYXRlRm9ybSIsICJyZW5kZXJIaXN0b3J5IiwgImVudHJpZXMiLCAibGkiLCAiZHVyYXRpb24iLCAicmVuZGVyTG9ncyIsICJmZXRjaEhpc3RvcnkiLCAiZmV0Y2hDb25maWciLCAiYnVpbGRQYXlsb2FkIiwgInB3ZCIsICJlcnJvclBheWxvYWQiLCAiZG93bmxvYWRCdXR0b24iLCAiZG93bmxvYWRGZWVkYmFjayIsICJkb3dubG9hZEFwaSIsICJzZXREb3dubG9hZEZlZWRiYWNrIiwgIm9yaWdpbmFsQ29udGVudCIsICJlcnJvckRhdGEiLCAiYmxvYiIsICJhIiwgInRhYkJ1dHRvbnMiLCAidGFiUGFuZWxzIiwgInNpdGVGZWVkYmFjayIsICJ0aGVtZUZvcm0iLCAic3dpdGNoVGFiIiwgInN1Ym1pdCIsICJmb3JtRGF0YSIsICJjdXJyZW50UGFzc3dvcmQiLCAibmV3UGFzc3dvcmQiLCAiY29uZmlybVBhc3N3b3JkIiwgIm5hbWVJbnB1dCIsICJsYW5nU2VsZWN0IiwgInRhZ2xpbmVJbnB1dCIsICJzZXRTaXRlRmVlZGJhY2siLCAic2l0ZUNvbmZpZ0FwaSIsICJsb2FkU2l0ZUNvbmZpZyIsICJ0aGVtZUFwaSIsICJjb2xvclNlbGVjdHMiLCAiaGVhZGluZ1NlbGVjdCIsICJib2R5U2VsZWN0IiwgInJhZGl1c1NtYWxsIiwgInJhZGl1c01lZGl1bSIsICJyYWRpdXNMYXJnZSIsICJwcmV2aWV3IiwgInRoZW1lRmVlZGJhY2siLCAiYXBwbHlCdXR0b24iLCAidGFpbHdpbmRCYXNlTWFwIiwgInRhaWx3aW5kVG9rZW5Ub0hleCIsICJ0b2tlbiIsICJoIiwgInMiLCAic2hhZGVOdW0iLCAiZmFjdG9yIiwgInRvUmdiIiwgIm1peCIsICJ0YWlsd2luZEh1ZXMiLCAidGFpbHdpbmRTaGFkZXMiLCAidGFpbHdpbmRUb2tlbnMiLCAibmV1dHJhbFRva2VucyIsICJjb2xvck9wdGlvbkRlZmluaXRpb25zIiwgImVtb2ppIiwgIm5vcm1hbGl6ZVNlbGVjdENvbG9yIiwgImZpbGxDb2xvck9wdGlvbnMiLCAic2VsZWN0ZWRDb2xvcnMiLCAic2VsIiwgIm5vcm1hbGl6ZWRWYWx1ZSIsICJzZXRUaGVtZUZlZWRiYWNrIiwgInN5bmNQcmV2aWV3IiwgInRva2VuVG9IZXgiLCAic3R5bGVUaGVtZUNvbG9yQ2hpcCIsICJ1cGRhdGVUaGVtZUNvbG9yUHJldmlldyIsICJpbml0Q29sb3JQcmV2aWV3cyIsICJsb2FkVGhlbWUiLCAidGhlbWVDb2xvcnMiLCAic2VvQ29uZmlnRm9ybSIsICJpbmRleEFsbENoZWNrYm94IiwgInNlb0NvbmZpZ0ZlZWRiYWNrIiwgImxvYWRTZW9Db25maWciLCAiaW5kZXhBbGwiLCAiY3VycmVudFJlcyIsICJjdXJyZW50Q29uZmlnIiwgImFuYWx5dGljc0Zvcm0iLCAiaGVhZFRleHRhcmVhIiwgImJvZHlUZXh0YXJlYSIsICJhbmFseXRpY3NGZWVkYmFjayIsICJhbmFseXRpY3NTYXZlQnV0dG9uIiwgInNldEFuYWx5dGljc0ZlZWRiYWNrIiwgImxvYWRBbmFseXRpY3NDb25maWciLCAiYWNjZXNzaWJpbGl0eUZvcm0iLCAiYW5pbWF0aW9uc1RvZ2dsZSIsICJjb250cmFzdFRvZ2dsZSIsICJhY2Nlc3NpYmlsaXR5RmVlZGJhY2siLCAiYWNjZXNzaWJpbGl0eVNhdmVCdXR0b24iLCAic2V0QWNjZXNzaWJpbGl0eUZlZWRiYWNrIiwgImxvYWRBY2Nlc3NpYmlsaXR5Q29uZmlnIiwgImFpQ29uZmlnRm9ybSIsICJhcGlLZXlJbnB1dCIsICJtb2RlbFNlbGVjdCIsICJwcm9qZWN0UHJvbXB0VGV4dGFyZWEiLCAiZW5hYmxlZENoZWNrYm94IiwgImFpRmVlZGJhY2siLCAiYWlTYXZlQnV0dG9uIiwgImFpQ29uZmlnQXBpIiwgInNldEFJRmVlZGJhY2siLCAibG9hZEFJQ29uZmlnIiwgImFwaUtleVZhbHVlIiwgImdyaWQiLCAiZW1wdHlTdGF0ZSIsICJjb3VudEJhZGdlIiwgImZpbHRlclR5cGUiLCAiZGV0YWlsRW1wdHkiLCAiZGV0YWlsUGFuZWwiLCAiZGV0YWlsUHJldmlldyIsICJkZXRhaWxOYW1lIiwgImRldGFpbFR5cGUiLCAiZGV0YWlsU2l6ZSIsICJkZXRhaWxQYXRoIiwgImRldGFpbFVzZWQiLCAiZGV0YWlsQWx0SW5wdXQiLCAiZGV0YWlsU2F2ZUJ1dHRvbiIsICJkZXRhaWxEZWxldGVCdXR0b24iLCAiZGVsZXRlTW9kYWwiLCAiZGVsZXRlQ2FuY2VsQnV0dG9uIiwgImRlbGV0ZUNvbmZpcm1CdXR0b24iLCAidXBsb2FkT3BlbkJ1dHRvbiIsICJmaWxlSW5wdXQiLCAidXBsb2FkU3RhdHVzIiwgIm1lZGlhQXBpQmFzZSIsICJtZWRpYUl0ZW1zIiwgImZpbHRlcmVkSXRlbXMiLCAiYWN0aXZlTWVkaWFJZCIsICJoaWdobGlnaHRNZWRpYUlkIiwgInBlbmRpbmdVcGxvYWRGaWxlIiwgInVwbG9hZEluUHJvZ3Jlc3MiLCAiZGV0YWlsRGlydHkiLCAidXBsb2FkTW9kZSIsICJ1cGxvYWRQcmV2aWV3VXJsIiwgImRlcml2ZUdyb3VwVHlwZSIsICJmaWxlbmFtZSIsICJpc0ltYWdlVHlwZSIsICJmb3JtYXRUeXBlTGFiZWwiLCAiZXh0IiwgImZvcm1hdEZpbGVTaXplIiwgInNpemUiLCAicmVzZXREZXRhaWxQYW5lbCIsICJjbGVhclVwbG9hZFN0YXRlIiwgInVwZGF0ZURldGFpbEFjdGlvbnMiLCAidXBkYXRlQ291bnRCYWRnZSIsICJyZW5kZXJHcmlkIiwgInNlbGVjdE1lZGlhIiwgInJlbmRlclVzZWRJbiIsICJzYXZpbmciLCAibWVkaWFJZCIsICJzaG93VXBsb2FkUHJldmlldyIsICJhcHBseUZpbHRlcnMiLCAidHlwZUZpbHRlciIsICJsb2FkTWVkaWEiLCAiaGFuZGxlRmlsZVNlbGVjdGlvbiIsICJyZWFkRmlsZUFzQmFzZTY0IiwgInJlc29sdmUiLCAicmVqZWN0IiwgInJlYWRlciIsICJiYXNlNjQiLCAidXBsb2FkU2VsZWN0ZWRNZWRpYSIsICJkZWxldGVBY3RpdmVNZWRpYSIsICJkaXNhYmxlQnV0dG9ucyIsICJlbmFibGVCdXR0b25zIiwgInVwZGF0ZWQiLCAiYWlDaGF0VG9nZ2xlIiwgImFpQ2hhdFBhbmVsIiwgImFpQ2hhdE92ZXJsYXkiLCAiYWlDaGF0Q2xvc2UiLCAiYWlDaGF0Q2xlYXIiLCAiYWlDaGF0Rm9ybSIsICJhaUNoYXRJbnB1dCIsICJhaUNoYXRNZXNzYWdlcyIsICJhaUNoYXRTdGF0dXMiLCAiYWlDaGF0Tm9BcGkiLCAiYWlRdWlja0J1dHRvbnMiLCAiYWlDaGF0T3BlbiIsICJhaUlzTG9hZGluZyIsICJhaUNvbmZpZ0NoZWNrZWQiLCAiYWlIYXNBcGlLZXkiLCAib3BlbkFJQ2hhdCIsICJjaGVja0FJQ29uZmlnIiwgImNsb3NlQUlDaGF0IiwgInNpdGVTbHVnIiwgImxvYWRBSUNoYXRIaXN0b3J5IiwgIndlbGNvbWVNc2ciLCAiYXBwZW5kQUlNZXNzYWdlIiwgInJvbGUiLCAibXNnRGl2IiwgImVzY2FwZUh0bWwiLCAiZm9ybWF0dGVkQ29udGVudCIsICJmb3JtYXRBSVJlc3BvbnNlIiwgInNob3dBSUxvYWRpbmciLCAibG9hZGluZ0RpdiIsICJoaWRlQUlMb2FkaW5nIiwgImZvcm1hdHRlZCIsICJsYW5nIiwgImNvZGUiLCAiZGl2IiwgInNlbmRBSU1lc3NhZ2UiLCAiYXBwZW5kRWRpdFByb3Bvc2FsIiwgImFwcGVuZFRoZW1lUHJvcG9zYWwiLCAicHJvcG9zYWwiLCAicHJvcG9zYWxEaXYiLCAiY2hhbmdlc0h0bWwiLCAiaGFuZGxlQXBwbHlFZGl0IiwgImhhbmRsZVJlamVjdEVkaXQiLCAiY29sb3JzSHRtbCIsICJjb2xvcnMiLCAiZ2V0VGFpbHdpbmRDb2xvckNzcyIsICJ0eXBvSHRtbCIsICJ0eXBvIiwgImhhbmRsZUFwcGx5VGhlbWUiLCAiY29sb3JOYW1lIiwgInByb3Bvc2FsSWQiLCAicHJvcG9zYWxDYXJkIiwgImNsZWFyQUlIaXN0b3J5IiwgInF1aWNrUHJvbXB0cyIsICJwcm9tcHQiXQp9Cg==
